/*! For license information please see main.f1525c08.js.LICENSE.txt */
!function(){var e={1975:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function _(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return _(e)||w(e)===l},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),a=n(6037),o=n(4154),u=n(7728);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8384:function(e,t,n){var r=n(3894),i=n(8699),a=n(4957),o=n(7184),u=n(7109);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),a=n(9186),o=n(3423),u=n(3739);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=a,s.prototype.has=o,s.prototype.set=u,e.exports=s},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),a=n(1596);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},2854:function(e,t,n){var r=n(8384),i=n(511),a=n(835),o=n(707),u=n(8832),s=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=u,c.prototype.set=s,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7538:function(e,t,n){var r=n(6478),i=n(4963),a=n(3629),o=n(5174),u=n(6800),s=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),l=!n&&i(e),f=!n&&!l&&o(e),h=!n&&!l&&!f&&s(e),d=n||l||f||h,p=d?r(e.length,String):[],v=p.length;for(var y in e)!t&&!c.call(e,y)||d&&("length"==y||f&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||p.push(y);return p}},8950:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},2095:function(e){e.exports=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},4622:function(e){e.exports=function(e){return e.split("")}},240:function(e){var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},2526:function(e,t,n){var r=n(8528);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5099:function(e,t,n){var r=n(372)();e.exports=r},5358:function(e,t,n){var r=n(5099),i=n(2742);e.exports=function(e,t){return e&&r(e,t,i)}},8667:function(e,t,n){var r=n(3082),i=n(9793);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),a=n(3581),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},7852:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},529:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,a,o,u){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,u))}},3355:function(e,t,n){var r=n(2854),i=n(5305),a=n(2206),o=n(8078),u=n(8383),s=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",h="[object Array]",d="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,y,m){var g=s(e),k=s(t),b=g?h:u(e),w=k?h:u(t),_=(b=b==f?d:b)==d,x=(w=w==f?d:w)==d,E=b==w;if(E&&c(e)){if(!c(t))return!1;g=!0,_=!1}if(E&&!_)return m||(m=new r),g||l(e)?i(e,t,n,v,y,m):a(e,t,b,n,v,y,m);if(!(1&n)){var S=_&&p.call(e,"__wrapped__"),I=x&&p.call(t,"__wrapped__");if(S||I){var T=S?e.value():e,C=I?t.value():t;return m||(m=new r),y(T,C,n,v,m)}}return!!E&&(m||(m=new r),o(e,t,n,v,y,m))}},8856:function(e,t,n){var r=n(2854),i=n(1848);e.exports=function(e,t,n,a){var o=n.length,u=o,s=!a;if(null==e)return!u;for(e=Object(e);o--;){var c=n[o];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<u;){var l=(c=n[o])[0],f=e[l],h=c[1];if(s&&c[2]){if(void 0===f&&!(l in e))return!1}else{var d=new r;if(a)var p=a(f,h,l,e,t,d);if(!(void 0===p?i(h,f,3,a,d):p))return!1}}return!0}},6703:function(e,t,n){var r=n(4786),i=n(257),a=n(8092),o=n(7907),u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,l=s.toString,f=c.hasOwnProperty,h=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:u).test(o(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),a=n(3141),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},6025:function(e,t,n){var r=n(7080),i=n(4322),a=n(2100),o=n(3629),u=n(38);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):u(e)}},3654:function(e,t,n){var r=n(2936),i=n(8836),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},7080:function(e,t,n){var r=n(8856),i=n(9091),a=n(284);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},4322:function(e,t,n){var r=n(1848),i=n(6181),a=n(5658),o=n(5823),u=n(5072),s=n(284),c=n(9793);e.exports=function(e,t){return o(e)&&u(t)?s(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},9586:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},4084:function(e,t,n){var r=n(8667);e.exports=function(e){return function(t){return r(t,e)}}},4632:function(e){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},2646:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2446:function(e,t,n){var r=n(7197),i=n(8950),a=n(3629),o=n(152),u=r?r.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return s?s.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},3082:function(e,t,n){var r=n(3629),i=n(5823),a=n(170),o=n(3518);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},9813:function(e,t,n){var r=n(2646);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},372:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}},322:function(e,t,n){var r=n(9813),i=n(7302),a=n(7580),o=n(3518);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,u=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return u[e]()+s}}},7810:function(e,t,n){var r=n(2095),i=n(4857),a=n(5660),o=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return r(a(i(t).replace(o,"")),e,"")}}},5868:function(e,t,n){var r=n(4632)({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=r},8528:function(e,t,n){var r=n(8136),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5305:function(e,t,n){var r=n(692),i=n(7897),a=n(75);e.exports=function(e,t,n,o,u,s){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var p=-1,v=!0,y=2&n?new r:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var m=e[p],g=t[p];if(o)var k=c?o(g,m,p,t,e,s):o(m,g,p,e,t,s);if(void 0!==k){if(k)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!a(y,t)&&(m===e||u(m,e,n,o,s)))return y.push(t)}))){v=!1;break}}else if(m!==g&&!u(m,g,n,o,s)){v=!1;break}}return s.delete(e),s.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),a=n(9231),o=n(5305),u=n(234),s=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=u;case"[object Set]":var p=1&r;if(d||(d=s),e.size!=t.size&&!p)return!1;var v=h.get(e);if(v)return v==t;r|=2,h.set(e,t);var y=o(d(e),d(t),r,c,f,h);return h.delete(e),y;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,u){var s=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!s)return!1;for(var f=l;f--;){var h=c[f];if(!(s?h in t:i.call(t,h)))return!1}var d=u.get(e),p=u.get(t);if(d&&p)return d==t&&p==e;var v=!0;u.set(e,t),u.set(t,e);for(var y=s;++f<l;){var m=e[h=c[f]],g=t[h];if(a)var k=s?a(g,m,h,t,e,u):a(m,g,h,e,t,u);if(!(void 0===k?m===g||o(m,g,n,a,u):k)){v=!1;break}y||(y="constructor"==h)}if(v&&!y){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return u.delete(e),u.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),a=n(2742);e.exports=function(e){return r(e,a,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},9091:function(e,t,n){var r=n(5072),i=n(2742);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(s){}var i=o.call(e);return r&&(t?e[u]=n:delete e[u]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,u=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},8383:function(e,t,n){var r=n(908),i=n(5797),a=n(8319),o=n(3924),u=n(7091),s=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",p="[object DataView]",v=c(r),y=c(i),m=c(a),g=c(o),k=c(u),b=s;(r&&b(new r(new ArrayBuffer(1)))!=p||i&&b(new i)!=l||a&&b(a.resolve())!=f||o&&b(new o)!=h||u&&b(new u)!=d)&&(b=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case y:return l;case m:return f;case g:return h;case k:return d}return t}),e.exports=b},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},6417:function(e,t,n){var r=n(3082),i=n(4963),a=n(3629),o=n(6800),u=n(4635),s=n(9793);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var h=s(t[c]);if(!(f=null!=e&&n(e,h)))break;e=e[h]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&u(l)&&o(h,l)&&(a(e)||i(e))}},7302:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},7137:function(e){var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5823:function(e,t,n){var r=n(3629),i=n(152),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},5072:function(e,t,n){var r=n(8092);e.exports=function(e){return e===e&&!r(e)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),a=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},284:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},4634:function(e,t,n){var r=n(9151);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=u},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),a=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},7580:function(e,t,n){var r=n(4622),i=n(7302),a=n(2110);e.exports=function(e){return i(e)?a(e):r(e)}},170:function(e,t,n){var r=n(4634),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},9793:function(e,t,n){var r=n(152);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},2110:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+n+"|"+r+")"+"?",s="[\\ufe0e\\ufe0f]?",c=s+u+("(?:\\u200d(?:"+[i,a,o].join("|")+")"+s+u+")*"),l="(?:"+[i+n+"?",n,a,o,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},1029:function(e){var t="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="\\d+",u="[\\u2700-\\u27bf]",s="["+n+"]",c="[^\\ud800-\\udfff"+i+o+t+n+r+"]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+r+"]",d="(?:"+s+"|"+c+")",p="(?:"+h+"|"+c+")",v="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",y="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",g="[\\ufe0e\\ufe0f]?",k=g+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")"+g+m+")*"),b="(?:"+[u,l,f].join("|")+")"+k,w=RegExp([h+"?"+s+"+"+v+"(?="+[a,h,"$"].join("|")+")",p+"+"+y+"(?="+[a,h+d,"$"].join("|")+")",h+"?"+d+"+"+v,h+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",o,b].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},567:function(e,t,n){var r=n(3131),i=n(7810)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=i},3131:function(e,t,n){var r=n(3518),i=n(2085);e.exports=function(e){return i(r(e).toLowerCase())}},4857:function(e,t,n){var r=n(5868),i=n(3518),a=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(a,r).replace(o,"")}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},6181:function(e,t,n){var r=n(8667);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},7805:function(e,t,n){var r=n(7852),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5658:function(e,t,n){var r=n(529),i=n(6417);e.exports=function(e,t){return null!=e&&i(e,t,r)}},2100:function(e){e.exports=function(e){return e}},4963:function(e,t,n){var r=n(4906),i=n(3141),a=Object.prototype,o=a.hasOwnProperty,u=a.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,u=o&&o.exports===a?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||i;e.exports=s},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),a=n(9494),o=a&&a.isTypedArray,u=o?i(o):r;e.exports=u},2742:function(e,t,n){var r=n(7538),i=n(3654),a=n(1473);e.exports=function(e){return a(e)?r(e):i(e)}},9029:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,t(e,i,a),e)})),n}},7702:function(e,t,n){var r=n(2526),i=n(5358),a=n(6025);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},9151:function(e,t,n){var r=n(8059);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},38:function(e,t,n){var r=n(9586),i=n(4084),a=n(5823),o=n(9793);e.exports=function(e){return a(e)?r(o(e)):i(e)}},7499:function(e,t,n){var r=n(7810)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},3518:function(e,t,n){var r=n(2446);e.exports=function(e){return null==e?"":r(e)}},2085:function(e,t,n){var r=n(322)("toUpperCase");e.exports=r},5660:function(e,t,n){var r=n(240),i=n(7137),a=n(3518),o=n(1029);e.exports=function(e,t,n){return e=a(e),void 0===(t=n?void 0:t)?i(e)?o(e):r(e):e.match(t)||[]}},2758:function(e){"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,i=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,u=new t(512),s=new t(512),c=new t(512);function l(e){return u.get(e)||u.set(e,f(e).map((function(e){return e.replace(o,"$2")})))}function f(e){return e.match(n)||[""]}function h(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!h(e)&&(function(e){return e.match(i)&&!e.match(r)}(e)||function(e){return a.test(e)}(e))}e.exports={Cache:t,split:f,normalizePath:l,setter:function(e){var t=l(e);return s.get(e)||s.set(e,(function(e,n){for(var r=0,i=t.length,a=e;r<i-1;){var o=t[r];if("__proto__"===o||"constructor"===o||"prototype"===o)return e;a=a[t[r++]]}a[t[r]]=n}))},getter:function(e,t){var n=l(e);return c.get(e)||c.set(e,(function(e){for(var r=0,i=n.length;r<i;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(h(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,i,a,o,u=e.length;for(i=0;i<u;i++)(r=e[i])&&(d(r)&&(r='"'+r+'"'),a=!(o=h(r))&&/^\d+$/.test(r),t.call(n,r,o,a,i,e))}(Array.isArray(e)?e:f(e),t,n)}}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function F(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,M=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ee=null;function Se(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ie(e){xe?Ee?Ee.push(e):Ee=[e]:xe=e}function Te(){if(xe){var e=xe,t=Ee;if(Ee=xe=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Ee)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Fe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Me=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function ze(e,t,n,r,i,a,o,u,s){Le=!1,Me=null,Fe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(Be(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,Et,St,It=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==At&&zt(At,e),null!==Nt&&zt(Nt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Kt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Kt){var i=Qt(e,t,n,r);if(null===i)Kr(e,t,r,$t,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&Kr(e,t,r,$t,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var $t=null;function Qt(e,t,n,r){if($t=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),yn=an(M({},fn,{relatedTarget:0})),mn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(M({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Sn(){return En}var In=M({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Nn=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Fn=null;l&&"documentMode"in document&&(Fn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Fn,Mn=l&&(!Pn||Fn&&8<Fn&&11>=Fn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Hn=null;function $n(e){jr(e,0)}function Qn(e){if(H(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Hn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Gn(t,Hn,e,we(e)),Oe($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==$(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Er={};function Sr(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return xr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Ar=Sr("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Me;Le=!1,Me=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Gt;break;case 4:i=Wt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=yn;break;case"focusout":c="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=mn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&$r(o,u,s,l,!1),null!==c&&null!==f&&$r(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Jn;else if(Kn(u))if(Yn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Gn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Kn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(m=Wr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Ei(e){return{current:e}}function Si(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ii(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Ei(Ti),Ai=Ei(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Si(Ai),Si(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Fi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Fi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Si(Ai),Si(Ci),Ii(Ci,e)):Si(Ai),Ii(Ai,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Ki=0,Gi=null,Wi=0,Hi=[],$i=0,Qi=null,Ji=1,Yi="";function Xi(e,t){qi[Ki++]=Wi,qi[Ki++]=Gi,Gi=e,Wi=t}function Zi(e,t,n){Hi[$i++]=Ji,Hi[$i++]=Yi,Hi[$i++]=Qi,Qi=e;var r=Ji;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Yi=a+e}else Ji=1<<a|n<<i|r,Yi=e}function ea(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Ki],qi[Ki]=null,Wi=qi[--Ki],qi[Ki]=null;for(;e===Qi;)Qi=Hi[--$i],Hi[$i]=null,Yi=Hi[--$i],Hi[$i]=null,Ji=Hi[--$i],Hi[$i]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Oc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Oc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Ei(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Si(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ea(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Sa(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Fa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ls|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(nc(t,e,i,r),Fa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(nc(t,e,r,n),Fa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Sa(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Sa(a):(a=Di(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ha(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $a(e){return(0,e._init)(e._payload)}function Qa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&$a(a)===t.type)?((r=i(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||F(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Ha(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||F(n))return null!==i?null:f(e,t,n,r,null);Ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||F(r))return f(t,e=e.get(n)||null,r,i,null);Ha(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function y(i,u,s,c){var l=F(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Xi(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&$a(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Wa(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Fc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Pc(o.type,o.key,o.props,null,r.mode,s)).ref=Wa(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(F(o))return y(r,a,o,s);Ha(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Qa(!0),Ya=Qa(!1),Xa={},Za=Ei(Xa),eo=Ei(Xa),to=Ei(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Za),Ii(Za,t)}function io(){Si(Za),Si(eo),Si(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Si(Za),Si(eo))}var uo=Ei(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function Eo(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function So(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function To(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ls|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ls|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ko(Fo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function Fo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Aa(e,1);null!==t&&nc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function zo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ko(e,t){return Bo(2048,8,e,t)}function Go(e,t){return Bo(4,2,e,t)}function Wo(e,t){return Bo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $o(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Ho.bind(null,t,e),n)}function Qo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ls|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nc(n,e,r,ec()),au(n,t,r)}}function nu(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(nc(n,e,r,i=ec()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Sa,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Sa,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Sa,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Qo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Fo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Ko,useImperativeHandle:$o,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Yo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Qo,useDeferredValue:function(e){return Xo(To(),yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Sa,useCallback:Jo,useContext:Sa,useEffect:Ko,useImperativeHandle:$o,useInsertionEffect:Go,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Qo,useDeferredValue:function(e){var t=To();return null===yo?t.memoizedState=e:Xo(t,yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Gs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Ya(t,null,n,r):Ja(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Ea(t,i),r=Eo(e,t,n,r,a,i),n=So(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Dc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Eu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Ds),Ds|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Ds),Ds|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Ds),Ds|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Ds),Ds|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Oi(t,a),Ea(t,i),n=Eo(e,t,n,r,a,i),r=So(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(Ea(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Sa(c):c=Oi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ka(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||Ba(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ya(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Sa(s):s=Oi(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ka(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||Ba(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Pu,Fu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Mu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Lc(s,i,0,null),e=Fc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Lu(n),t.memoizedState=Fu,e):ju(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Uu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Lu(u),t.memoizedState=Fu,o);if(0===(1&t.mode))return Uu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),nc(r,e,i,-1))}return vc(),Uu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Hi[$i++]=Ji,Hi[$i++]=Yi,Hi[$i++]=Qi,Ji=e.id,Yi=e.overflow,Qi=t),(t=ju(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Fc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Lu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Fu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ls|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Hu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Di(t.type)&&Ri(),Wu(t),null;case 3:return r=t.stateNode,io(),Si(Ai),Si(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Fr.length;i++)Ur(Fr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Pu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Si(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ps&&(Ps=3):vc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Wu(t),null;case 10:return _a(t.type._context),Wu(t),null;case 19:if(Si(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Gu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Bs&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Ye()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ds)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function $u(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Si(Ai),Si(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Si(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Pu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,Ju=!1,Yu="function"===typeof WeakSet?WeakSet:Set,Xu=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Ju||Zu(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Ju&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Ju&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Ju=(r=Ju)||null!==n.memoizedState,hs(e,t,n),Ju=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yu),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(a(160));ds(o,u,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Ec(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Ec(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Ec(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&Y(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Ec(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Ec(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Ec(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Ye())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Ju=(l=Ju)||f,vs(t,e),Ju=l):vs(t,e),ms(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xu=e,f=e.child;null!==f;){for(h=Xu=f;null!==Xu;){switch(p=(d=Xu).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ec(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Xu=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(y){Ec(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(y){Ec(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Xu=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Xu;){var i=Xu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Ju;u=Qu;var c=Ju;if(Qu=o,(Ju=s)&&!c)for(Xu=i;null!==Xu;)s=(o=Xu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Xu=s):_s(i);for(;null!==a;)Xu=a,ks(a,t,n),a=a.sibling;Xu=i,Qu=u,Ju=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Xu=a):bs(e)}}function bs(e){for(;null!==Xu;){var t=Xu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ju||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ju)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Ju||512&t.flags&&is(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Xu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xu=n;break}Xu=t.return}}function ws(e){for(;null!==Xu;){var t=Xu;if(t===e){Xu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xu=n;break}Xu=t.return}}function _s(e){for(;null!==Xu;){var t=Xu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{is(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Xu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Xu=u;break}Xu=t.return}}var xs,Es=Math.ceil,Ss=b.ReactCurrentDispatcher,Is=b.ReactCurrentOwner,Ts=b.ReactCurrentBatchConfig,Cs=0,As=null,Ns=null,Os=0,Ds=0,Rs=Ei(0),Ps=0,Fs=null,Ls=0,Ms=0,js=0,Us=null,Vs=null,zs=0,Bs=1/0,qs=null,Ks=!1,Gs=null,Ws=null,Hs=!1,$s=null,Qs=0,Js=0,Ys=null,Xs=-1,Zs=0;function ec(){return 0!==(6&Cs)?Ye():-1!==Xs?Xs:Xs=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Os?Os&-Os:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Js)throw Js=0,Ys=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===As||(e===As&&(0===(2&Cs)&&(Ms|=n),4===Ps&&uc(e,Os)),rc(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Ye()+500,Ui&&Bi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Os:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(sc.bind(null,e)):zi(sc.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xs=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Os:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cs;Cs|=2;var o=pc();for(As===e&&Os===t||(qs=null,Bs=Ye()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wa(),Ss.current=o,Cs=i,null!==Ns?t=0:(As=null,Os=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Fs,hc(e,0),uc(e,r),rc(e,Ye()),n;if(6===t)uc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Fs,hc(e,0),uc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Vs,qs);break;case 3:if(uc(e,r),(130023424&r)===r&&10<(t=zs+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),t);break}wc(e,Vs,qs);break;case 4:if(uc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Vs,qs),r);break}wc(e,Vs,qs);break;default:throw Error(a(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vs,Vs=n,null!==t&&oc(t)),e}function oc(e){null===Vs?Vs=e:Vs.push.apply(Vs,e)}function uc(e,t){for(t&=~js,t&=~Ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cs))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Fs,hc(e,0),uc(e,t),rc(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vs,qs),rc(e,Ye()),null}function cc(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Ye()+500,Ui&&Bi())}}function lc(e){null!==$s&&0===$s.tag&&0===(6&Cs)&&_c();var t=Cs;Cs|=1;var n=Ts.transition,r=kt;try{if(Ts.transition=null,kt=1,e)return e()}finally{kt=r,Ts.transition=n,0===(6&(Cs=t))&&Bi()}}function fc(){Ds=Rs.current,Si(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ns)for(n=Ns.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Si(Ai),Si(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Si(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fc()}n=n.return}if(As=e,Ns=e=Rc(e.current,null),Os=Ds=t,Ps=0,Fs=null,js=Ms=Ls=0,Vs=Us=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function dc(e,t){for(;;){var n=Ns;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Is.current=null,null===n||null===n.return){Ps=1,Fs=t,Ns=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Os,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){yu(o,l,t),vc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ps&&(Ps=2),null===Us?Us=[o]:Us.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(b){t=b,Ns===n&&null!==n&&(Ns=n=n.return);continue}break}}function pc(){var e=Ss.current;return Ss.current=ou,null===e?ou:e}function vc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===As||0===(268435455&Ls)&&0===(268435455&Ms)||uc(As,Os)}function yc(e,t){var n=Cs;Cs|=2;var r=pc();for(As===e&&Os===t||(qs=null,hc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(wa(),Cs=n,Ss.current=r,null!==Ns)throw Error(a(261));return As=null,Os=0,Ps}function mc(){for(;null!==Ns;)kc(Ns)}function gc(){for(;null!==Ns&&!Qe();)kc(Ns)}function kc(e){var t=xs(e.alternate,e,Ds);e.memoizedProps=e.pendingProps,null===t?bc(e):Ns=t,Is.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hu(n,t,Ds)))return void(Ns=n)}else{if(null!==(n=$u(n,t)))return n.flags&=32767,void(Ns=n);if(null===e)return Ps=6,void(Ns=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ns=t);Ns=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Ts.transition;try{Ts.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==$s);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ns=As=null,Os=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hs||(Hs=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ts.transition,Ts.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Is.current=null,function(e,t){if(ei=Kt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xu=t;null!==Xu;)if(e=(t=Xu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xu=e;else for(;null!==Xu;){t=Xu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Xu=e;break}Xu=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Je(),Cs=s,kt=u,Ts.transition=o}else e.current=n;if(Hs&&(Hs=!1,$s=e,Qs=i),0===(o=e.pendingLanes)&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Gs,Gs=null,e;0!==(1&Qs)&&0!==e.tag&&_c(),0!==(1&(o=e.pendingLanes))?e===Ys?Js++:(Js=0,Ys=e):Js=0,Bi()}(e,t,n,r)}finally{Ts.transition=i,kt=r}return null}function _c(){if(null!==$s){var e=bt(Qs),t=Ts.transition,n=kt;try{if(Ts.transition=null,kt=16>e?16:e,null===$s)var r=!1;else{if(e=$s,$s=null,Qs=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Xu=e.current;null!==Xu;){var o=Xu,u=o.child;if(0!==(16&Xu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Xu=l;null!==Xu;){var f=Xu;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Xu=h;else for(;null!==Xu;){var d=(f=Xu).sibling,p=f.return;if(as(f),f===l){Xu=null;break}if(null!==d){d.return=p,Xu=d;break}Xu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Xu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Xu=u;else e:for(;null!==Xu;){if(0!==(2048&(o=Xu).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Xu=g;break e}Xu=o.return}}var k=e.current;for(Xu=k;null!==Xu;){var b=(u=Xu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Xu=b;else e:for(u=k;null!==Xu;){if(0!==(2048&(s=Xu).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Xu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Xu=w;break e}Xu=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Ts.transition=t}}return!1}function xc(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Os&n)===n&&(4===Ps||3===Ps&&(130023424&Os)===Os&&500>Ye()-zs?hc(e,0):js|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Aa(e,t))&&(mt(e,t,n),rc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Ac(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oc(e,t,n,r){return new Nc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Oc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Dc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Fc(n.children,i,o,t);case E:u=8,i|=8;break;case S:return(e=Oc(12,n,t,2|i)).elementType=S,e.lanes=o,e;case A:return(e=Oc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Oc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Oc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Oc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Oc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Mc(e,t,n){return(e=Oc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Oc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,a,o,u,s){return e=new Uc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Oc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Fi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Vc(n,r,!0,e,0,a,0,u,s)).context=Bc(null),n=e.current,(a=Ra(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(nc(e,i,o,a),Fa(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ii(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Ku(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Ea(t,n),i=Eo(null,t,r,e,i,n);var o=So();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Ya(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Mu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ea(t,n),r=r(i=Sa(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xu(e,t,r,i=ya(r.type,i),n);case 15:return Eu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qu(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ea(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Su(e,t,n)}throw Error(a(156,t.tag))};var $c="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Kc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),lc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Jc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Kc(e,t,null,null)},Jc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Ye()),0===(6&Cs)&&(Bs=Ye()+500,Bi()))}break;case 13:lc((function(){var t=Aa(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Aa(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Et=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Ae=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=$c;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=$c;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,i="undefined"!==typeof Element;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){var u,s,c,l=t(e),f=t(o);if(l&&f){if((s=e.length)!=o.length)return!1;for(u=s;0!==u--;)if(!a(e[u],o[u]))return!1;return!0}if(l!=f)return!1;var h=e instanceof Date,d=o instanceof Date;if(h!=d)return!1;if(h&&d)return e.getTime()==o.getTime();var p=e instanceof RegExp,v=o instanceof RegExp;if(p!=v)return!1;if(p&&v)return e.toString()==o.toString();var y=n(e);if((s=y.length)!==n(o).length)return!1;for(u=s;0!==u--;)if(!r.call(o,y[u]))return!1;if(i&&e instanceof Element&&o instanceof Element)return e===o;for(u=s;0!==u--;)if(("_owner"!==(c=y[u])||!e.$$typeof)&&!a(e[c],o[c]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i)||-2146828260===n.number)return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,S=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?x():(E=!1,S=null)}}else E=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){m(N,0)};function R(e){S=e,E||(E=!0,x())}function P(e,n){I=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(I),I=-1):y=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6514:function(e){function t(e,t){var n=e.length,r=new Array(n),i={},a=n,o=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var i=e[n];t.has(i[0])||t.set(i[0],new Set),t.has(i[1])||t.set(i[1],new Set),t.get(i[0]).add(i[1])}return t}(t),u=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!u.has(e[0])||!u.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));a--;)i[a]||s(e[a],a,new Set);return r;function s(e,t,a){if(a.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(h){c=""}throw new Error("Cyclic dependency"+c)}if(!u.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!i[t]){i[t]=!0;var l=o.get(e)||new Set;if(t=(l=Array.from(l)).length){a.add(e);do{var f=l[--t];s(f,u.get(f),a)}while(t);a.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var i=e[n];t.add(i[0]),t.add(i[1])}return Array.from(t)}(e),e)},e.exports.array=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r](a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/firebase-auth/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Zo},SDK_VERSION:function(){return fs},_DEFAULT_ENTRY_NAME:function(){return Xu},_addComponent:function(){return ns},_addOrOverwriteComponent:function(){return rs},_apps:function(){return es},_clearComponents:function(){return us},_components:function(){return ts},_getProvider:function(){return as},_registerComponent:function(){return is},_removeServiceInstance:function(){return os},deleteApp:function(){return vs},getApp:function(){return ds},getApps:function(){return ps},initializeApp:function(){return hs},onLog:function(){return gs},registerVersion:function(){return ms},setLogLevel:function(){return ks}});var t,r=n(2791),i=n(1250);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var f=function(e){return e};var h="beforeunload",d="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function y(){return Math.random().toString(36).substr(2,8)}function m(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var k=(0,r.createContext)(null);var b=(0,r.createContext)(null);var w=(0,r.createContext)({outlet:null,matches:[]});function _(e,t){if(!e)throw new Error(t)}function x(e,t,n){void 0===n&&(n="/");var r=O(("string"===typeof t?g(t):t).pathname||"/",n);if(null==r)return null;var i=E(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function E(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||_(!1),a.relativePath=a.relativePath.slice(r.length));var o=D([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&_(!1),E(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var S=/^:\w+$/,I=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(I)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!I(e)})).reduce((function(e,t){return e+(S.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:D([i,l.pathname]),pathnameBase:R(D([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=D([i,l.pathnameBase]))}return a}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?g(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?g(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:P(a),hash:F(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function O(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var D=function(e){return e.join("/").replace(/\/\/+/g,"/")},R=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},P=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},F=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function L(e){M()||_(!1);var t=(0,r.useContext)(k),n=t.basename,i=t.navigator,a=V(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==n){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?g(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?n+(f?"/":""):D([n,u])}return i.createHref({pathname:c,search:s,hash:o})}function M(){return null!=(0,r.useContext)(b)}function j(){return M()||_(!1),(0,r.useContext)(b).location}function U(){M()||_(!1);var e=(0,r.useContext)(k),t=e.basename,n=e.navigator,i=(0,r.useContext)(w).matches,a=j().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,r.useRef)(!1);(0,r.useEffect)((function(){u.current=!0}));var s=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),u.current)if("number"!==typeof e){var i=N(e,JSON.parse(o),a);"/"!==t&&(i.pathname=D([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,o,a]);return s}function V(e){var t=(0,r.useContext)(w).matches,n=j().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function z(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,a){return(0,r.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,a+1))}})}),null)}function B(e){_(!1)}function q(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;M()&&_(!1);var d=R(i),p=(0,r.useMemo)((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=g(u));var v=u,y=v.pathname,m=void 0===y?"/":y,w=v.search,x=void 0===w?"":w,E=v.hash,S=void 0===E?"":E,I=v.state,T=void 0===I?null:I,C=v.key,A=void 0===C?"default":C,N=(0,r.useMemo)((function(){var e=O(m,d);return null==e?null:{pathname:e,search:x,hash:S,state:T,key:A}}),[d,m,x,S,T,A]);return null==N?null:(0,r.createElement)(k.Provider,{value:p},(0,r.createElement)(b.Provider,{children:o,value:{location:N,navigationType:c}}))}function K(e){var t=e.children,n=e.location;return function(e,t){M()||_(!1);var n,i=(0,r.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,j());if(t){var c,l="string"===typeof t?g(t):t;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||_(!1),n=l}else n=s;var f=n.pathname||"/",h=x(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return z(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:D([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:D([u,e.pathnameBase])})})),i)}(G(t),n)}function G(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==B&&_(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=G(e.props.children)),t.push(n)}else t.push.apply(t,G(e.props.children))})),t}var W=n(184);var H=function(){return(0,W.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",postion:"fixed",bottom:"0",whiteSpace:"nowrap",marginTop:"4em",padding:"5px"},children:(0,W.jsxs)("p",{style:{whiteSpace:"nowrap"},children:["2022 all rights reserved - created by ",(0,W.jsx)("a",{href:"https://Github.com/Sadeedpv",style:{color:"#6603FC"},children:"Sadeed pv"})]})})},$={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Q=r.createContext&&r.createContext($),J=function(){return J=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},J.apply(this,arguments)},Y=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function X(e){return e&&e.map((function(e,t){return r.createElement(e.tag,J({key:t},e.attr),X(e.child))}))}function Z(e){return function(t){return r.createElement(ee,J({attr:J({},e.attr)},t),X(e.child))}}function ee(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,u=Y(e,["attr","size","title"]),s=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",J({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,u,{className:n,style:J(J({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==Q?r.createElement(Q.Consumer,null,(function(e){return t(e)})):t($)}function te(e){return Z({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12.395 2.553a1 1 0 00-1.45-.385c-.345.23-.614.558-.822.88-.214.33-.403.713-.57 1.116-.334.804-.614 1.768-.84 2.734a31.365 31.365 0 00-.613 3.58 2.64 2.64 0 01-.945-1.067c-.328-.68-.398-1.534-.398-2.654A1 1 0 005.05 6.05 6.981 6.981 0 003 11a7 7 0 1011.95-4.95c-.592-.591-.98-.985-1.348-1.467-.363-.476-.724-1.063-1.207-2.03zM12.12 15.12A3 3 0 017 13s.879.5 2.5.5c0-1 .5-4 1.25-4.5.5 1 .786 1.293 1.371 1.879A2.99 2.99 0 0113 13a2.99 2.99 0 01-.879 2.121z",clipRule:"evenodd"}}]})(e)}function ne(e){return Z({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"}}]})(e)}function re(e){return Z({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"}}]})(e)}function ie(){return ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ie.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var oe=["onClick","reloadDocument","replace","state","target","to"];function ue(e){var n=e.basename,i=e.children,a=e.window,o=(0,r.useRef)();null==o.current&&(o.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function a(){var e=r.location,t=e.pathname,n=e.search,a=e.hash,o=i.state||{};return[o.idx,f({pathname:t,search:n,hash:a,state:o.usr||null,key:o.key||"default"})]}var o=null;r.addEventListener(d,(function(){if(o)w.call(o),o=null;else{var e=t.Pop,n=a(),r=n[0],i=n[1];if(w.length){if(null!=r){var u=c-r;u&&(o={action:e,location:i,retry:function(){T(-1*u)}},T(u))}}else I(e)}}));var u=t.Pop,s=a(),c=s[0],k=s[1],b=v(),w=v();function _(e){return"string"===typeof e?e:m(e)}function x(e,t){return void 0===t&&(t=null),f(l({pathname:k.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:y()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},_(e)]}function S(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function I(e){u=e;var t=a();c=t[0],k=t[1],b.call({action:u,location:k})}function T(e){i.go(e)}null==c&&(c=0,i.replaceState(l({},i.state,{idx:c}),""));var C={get action(){return u},get location(){return k},createHref:_,push:function e(n,a){var o=t.Push,u=x(n,a);if(S(o,u,(function(){e(n,a)}))){var s=E(u,c+1),l=s[0],f=s[1];try{i.pushState(l,"",f)}catch(h){r.location.assign(f)}I(o)}},replace:function e(n,r){var a=t.Replace,o=x(n,r);if(S(a,o,(function(){e(n,r)}))){var u=E(o,c),s=u[0],l=u[1];i.replaceState(s,"",l),I(a)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return b.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&r.addEventListener(h,p),function(){t(),w.length||r.removeEventListener(h,p)}}};return C}({window:a}));var u=o.current,s=c((0,r.useState)({action:u.action,location:u.location}),2),k=s[0],b=s[1];return(0,r.useLayoutEffect)((function(){return u.listen(b)}),[u]),(0,r.createElement)(q,{basename:n,children:i,location:k.location,navigationType:k.action,navigator:u})}var se=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=ae(e,oe),f=L(c),h=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=U(),s=j(),c=V(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||m(s)===m(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,r.createElement)("a",ie({},l,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||h(e)},ref:t,target:s}))}));var ce=function(e){return e.user,(0,W.jsxs)("div",{style:{display:"flex",alignItems:"center",fontSize:"2.4rem",fontWeight:"700",marginLeft:"min(3em, 8vw)",justifyContent:"space-between"},children:[(0,W.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,W.jsx)(te,{size:45,color:"#6603FC"})," ","Base"]}),(0,W.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"2rem"},children:[(0,W.jsx)(se,{to:"/signup",children:(0,W.jsx)("button",{className:"btn",children:"Sign-up"})}),(0,W.jsx)(se,{to:"/login",children:(0,W.jsx)("button",{className:"btn",children:"Login"})})]})]})},le=n.p+"static/media/intro.c25e84c4650b62c49257.png";var fe,he,de=function(e){var t=e.user;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(ce,{user:t}),(0,W.jsxs)("div",{className:"intro",children:[(0,W.jsxs)("div",{className:"text",children:[(0,W.jsxs)("h2",{children:["Don't have an ",(0,W.jsx)("span",{className:"account",children:"account"})," yet?"," ",(0,W.jsx)("br",{})]}),(0,W.jsx)(se,{to:t?"/":"/signup",className:"signup",children:"Sign up"})]}),(0,W.jsx)("img",{src:le,alt:"intro"}),(0,W.jsx)("div",{className:"blur"}),(0,W.jsx)("div",{className:"blur-3"})]})]})};function pe(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ve(e){return function(e){if(Array.isArray(e))return o(e)}(e)||pe(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}try{fe=Map}catch(nF){}try{he=Set}catch(nF){}function ke(e,t,n){if(!e||"object"!==typeof e||"function"===typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(be);if(fe&&e instanceof fe)return new Map(Array.from(e.entries()));if(he&&e instanceof he)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var r=Object.create(e);for(var i in n.push(r),e){var a=t.findIndex((function(t){return t===e[i]}));r[i]=a>-1?n[a]:ke(e[i],t,n)}return r}return e}function be(e){return ke(e,[],[])}var we=Object.prototype.toString,_e=Error.prototype.toString,xe=RegExp.prototype.toString,Ee="undefined"!==typeof Symbol?Symbol.prototype.toString:function(){return""},Se=/^Symbol\((.*)\)(.*)$/;function Ie(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}function Te(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;var n=typeof e;if("number"===n)return Ie(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return Ee.call(e).replace(Se,"Symbol($1)");var r=we.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+_e.call(e)+"]":"RegExp"===r?xe.call(e):null}function Ce(e,t){var n=Te(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var r=Te(this[e],t);return null!==r?r:n}),2)}var Ae={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:function(e){var t=e.path,n=e.type,r=e.value,i=e.originalValue,a=null!=i&&i!==r,o="".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(Ce(r,!0),"`")+(a?" (cast from the value `".concat(Ce(i,!0),"`)."):".");return null===r&&(o+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),o},defined:"${path} must be defined"},Ne={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Oe={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},De={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Re={isValue:"${path} field must be ${value}"},Pe={noUnknown:"${path} field has unspecified keys: ${unknown}"},Fe={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},Le=(Object.assign(Object.create(null),{mixed:Ae,string:Ne,number:Oe,date:De,object:Pe,array:Fe,boolean:Re}),n(7805)),Me=n.n(Le),je=function(e){return e&&e.__isYupSchema__},Ue=function(){function e(t,n){if(ye(this,e),this.fn=void 0,this.refs=t,this.refs=t,"function"!==typeof n){if(!Me()(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var r=n.is,i=n.then,a=n.otherwise,o="function"===typeof r?r:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.every((function(e){return e===r}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.pop(),u=t.pop(),s=o.apply(void 0,t)?i:a;if(s)return"function"===typeof s?s(u):u.concat(s.resolve(r))}}else this.fn=n}return ge(e,[{key:"resolve",value:function(e,t){var n=this.refs.map((function(e){return e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)})),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!je(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}]),e}(),Ve=Ue;function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Be(e,t)}function qe(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Be(e,t)}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}function Ge(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function He(e,t){if(t&&("object"===We(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ze(e)}function $e(e){var t=Ge();return function(){var n,r=Ke(e);if(t){var i=Ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return He(this,n)}}function Qe(e,t,n){return Qe=Ge()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Be(i,n.prototype),i},Qe.apply(null,arguments)}function Je(e){var t="function"===typeof Map?new Map:void 0;return Je=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Qe(e,arguments,Ke(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Be(n,e)},Je(e)}function Ye(e){return null==e?[]:[].concat(e)}function Xe(){return Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xe.apply(this,arguments)}var Ze=/\$\{\s*(\w+)\s*\}/g,et=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a){var o;return ye(this,n),(o=t.call(this)).value=void 0,o.path=void 0,o.type=void 0,o.errors=void 0,o.params=void 0,o.inner=void 0,o.name="ValidationError",o.value=r,o.path=i,o.type=a,o.errors=[],o.inner=[],Ye(e).forEach((function(e){var t;n.isError(e)?((t=o.errors).push.apply(t,ve(e.errors)),o.inner=o.inner.concat(e.inner.length?e.inner:e)):o.errors.push(e)})),o.message=o.errors.length>1?"".concat(o.errors.length," errors occurred"):o.errors[0],Error.captureStackTrace&&Error.captureStackTrace(ze(o),n),o}return ge(n,null,[{key:"formatError",value:function(e,t){var n=t.label||t.path||"this";return n!==t.path&&(t=Xe({},t,{path:n})),"string"===typeof e?e.replace(Ze,(function(e,n){return Ce(t[n])})):"function"===typeof e?e(t):e}},{key:"isError",value:function(e){return e&&"ValidationError"===e.name}}]),n}(Je(Error));function tt(e,t){var n=e.endEarly,r=e.tests,i=e.args,a=e.value,o=e.errors,u=e.sort,s=e.path,c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(t),l=r.length,f=[];if(o=o||[],!l)return o.length?c(new et(o,a,s)):c(null,a);for(var h=0;h<r.length;h++){(0,r[h])(i,(function(e){if(e){if(!et.isError(e))return c(e,a);if(n)return e.value=a,c(e,a);f.push(e)}if(--l<=0){if(f.length&&(u&&f.sort(u),o.length&&f.push.apply(f,ve(o)),o=f),o.length)return void c(new et(o,a,s),a);c(null,a)}}))}}var nt=n(7702),rt=n.n(nt),it=n(2758),at="$",ot=".";var ut=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ye(this,e),this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof t)throw new TypeError("ref must be a string, got: "+t);if(this.key=t.trim(),""===t)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===at,this.isValue=this.key[0]===ot,this.isSibling=!this.isContext&&!this.isValue;var r=this.isContext?at:this.isValue?ot:"";this.path=this.key.slice(r.length),this.getter=this.path&&(0,it.getter)(this.path,!0),this.map=n.map}return ge(e,[{key:"getValue",value:function(e,t,n){var r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}},{key:"cast",value:function(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}},{key:"resolve",value:function(){return this}},{key:"describe",value:function(){return{type:"ref",key:this.key}}},{key:"toString",value:function(){return"Ref(".concat(this.key,")")}}],[{key:"isRef",value:function(e){return e&&e.__isYupRef}}]),e}();function st(){return st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},st.apply(this,arguments)}function ct(e){function t(t,n){var r=t.value,i=t.path,a=void 0===i?"":i,o=t.label,u=t.options,s=t.originalValue,c=t.sync,l=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["value","path","label","options","originalValue","sync"]),f=e.name,h=e.test,d=e.params,p=e.message,v=u.parent,y=u.context;function m(e){return ut.isRef(e)?e.getValue(r,v,y):e}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rt()(st({value:r,originalValue:s,label:o,path:e.path||a},d,e.params),m),n=new et(et.formatError(e.message||p,t),r,t.path,e.type||f);return n.params=t,n}var k=st({path:a,parent:v,type:f,createError:g,resolve:m,options:u,originalValue:s},l);if(c){var b;try{var w;if("function"===typeof(null==(w=b=h.call(k,r,k))?void 0:w.then))throw new Error('Validation test of type: "'.concat(k.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned")}catch(_){return void n(_)}et.isError(b)?n(b):b?n(null,b):n(g())}else try{Promise.resolve(h.call(k,r,k)).then((function(e){et.isError(e)?n(e):e?n(null,e):n(g())})).catch(n)}catch(_){n(_)}}return t.OPTIONS=e,t}ut.prototype.__isYupRef=!0;var lt=function(e){return e.substr(0,e.length-1).substr(1)};function ft(e,t,n){var r,i,a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,it.forEach)(t,(function(u,s,c){var l=s?lt(u):u;if((e=e.resolve({context:o,parent:r,value:n})).innerType){var f=c?parseInt(l,10):0;if(n&&f>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(u,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[f],e=e.innerType}if(!c){if(!e.fields||!e.fields[l])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(a,' which is a type: "').concat(e._type,'")'));r=n,n=n&&n[l],e=e.fields[l]}i=l,a=s?"["+u+"]":"."+u})),{schema:e,parent:r,parentPath:i}):{parent:r,parentPath:t,schema:e}}function ht(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var dt=function(){function e(){ye(this,e),this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}return ge(e,[{key:"size",get:function(){return this.list.size+this.refs.size}},{key:"describe",value:function(){var e,t=[],n=ht(this.list);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(u){n.e(u)}finally{n.f()}var i,a=ht(this.refs);try{for(a.s();!(i=a.n()).done;){var o=c(i.value,2)[1];t.push(o.describe())}}catch(u){a.e(u)}finally{a.f()}return t}},{key:"toArray",value:function(){return Array.from(this.list).concat(Array.from(this.refs.values()))}},{key:"resolveAll",value:function(e){return this.toArray().reduce((function(t,n){return t.concat(ut.isRef(n)?e(n):n)}),[])}},{key:"add",value:function(e){ut.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}},{key:"delete",value:function(e){ut.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}},{key:"clone",value:function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t}},{key:"merge",value:function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n}}]),e}();function pt(){return pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}var vt=function(){function e(t){var n=this;ye(this,e),this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new dt,this._blacklist=new dt,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((function(){n.typeError(Ae.notType)})),this.type=(null==t?void 0:t.type)||"mixed",this.spec=pt({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==t?void 0:t.spec)}return ge(e,[{key:"_type",get:function(){return this.type}},{key:"_typeCheck",value:function(e){return!0}},{key:"clone",value:function(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;var t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=pt({},this.exclusiveTests),t.deps=ve(this.deps),t.conditions=ve(this.conditions),t.tests=ve(this.tests),t.transforms=ve(this.transforms),t.spec=be(pt({},this.spec,e)),t}},{key:"label",value:function(e){var t=this.clone();return t.spec.label=e,t}},{key:"meta",value:function(){if(0===arguments.length)return this.spec.meta;var e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}},{key:"withMutation",value:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n}},{key:"concat",value:function(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));var t=this,n=e.clone(),r=pt({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),n.transforms=[].concat(ve(t.transforms),ve(n.transforms)),n}},{key:"isType",value:function(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}},{key:"resolve",value:function(e){var t=this;if(t.conditions.length){var n=t.conditions;(t=t.clone()).conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t}},{key:"cast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(pt({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){var i=Ce(e),a=Ce(r);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n._type,'". \n\n')+"attempted value: ".concat(i," \n")+(a!==i?"result of cast: ".concat(a):""))}return r}},{key:"_cast",value:function(e,t){var n=this,r=void 0===e?e:this.transforms.reduce((function(t,r){return r.call(n,t,e,n)}),e);return void 0===r&&(r=this.getDefault()),r}},{key:"_validate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=n.sync,a=n.path,o=n.from,u=void 0===o?[]:o,s=n.originalValue,c=void 0===s?e:s,l=n.strict,f=void 0===l?this.spec.strict:l,h=n.abortEarly,d=void 0===h?this.spec.abortEarly:h,p=e;f||(p=this._cast(p,pt({assert:!1},n)));var v={value:p,path:a,options:n,originalValue:c,schema:this,label:this.spec.label,sync:i,from:u},y=[];this._typeError&&y.push(this._typeError);var m=[];this._whitelistError&&m.push(this._whitelistError),this._blacklistError&&m.push(this._blacklistError),tt({args:v,value:p,path:a,sync:i,tests:y,endEarly:d},(function(e){e?r(e,p):tt({tests:t.tests.concat(m),args:v,path:a,sync:i,value:p,endEarly:d},r)}))}},{key:"validate",value:function(e,t,n){var r=this.resolve(pt({},t,{value:e}));return"function"===typeof n?r._validate(e,t,n):new Promise((function(n,i){return r._validate(e,t,(function(e,t){e?i(e):n(t)}))}))}},{key:"validateSync",value:function(e,t){var n;return this.resolve(pt({},t,{value:e}))._validate(e,pt({},t,{sync:!0}),(function(e,t){if(e)throw e;n=t})),n}},{key:"isValid",value:function(e,t){return this.validate(e,t).then((function(){return!0}),(function(e){if(et.isError(e))return!1;throw e}))}},{key:"isValidSync",value:function(e,t){try{return this.validateSync(e,t),!0}catch(n){if(et.isError(n))return!1;throw n}}},{key:"_getDefault",value:function(){var e=this.spec.default;return null==e?e:"function"===typeof e?e.call(this):be(e)}},{key:"getDefault",value:function(e){return this.resolve(e||{})._getDefault()}},{key:"default",value:function(e){if(0===arguments.length)return this._getDefault();var t=this.clone({default:e});return t}},{key:"strict",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strict=e,t}},{key:"_isPresent",value:function(e){return null!=e}},{key:"defined",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae.defined;return this.test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},{key:"required",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae.required;return this.clone({presence:"required"}).withMutation((function(t){return t.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})}))}},{key:"notRequired",value:function(){var e=this.clone({presence:"optional"});return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone({nullable:!1!==e});return t}},{key:"transform",value:function(e){var t=this.clone();return t.transforms.push(e),t}},{key:"test",value:function(){var e;if(void 0===(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=Ae.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=ct(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t}},{key:"when",value:function(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");var n=this.clone(),r=Ye(e).map((function(e){return new ut(e)}));return r.forEach((function(e){e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new Ve(r,t)),n}},{key:"typeError",value:function(e){var t=this.clone();return t._typeError=ct({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}},{key:"oneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.oneOf,n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=ct({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"notOneOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ae.notOneOf,n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=ct({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}},{key:"strip",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}},{key:"describe",value:function(){var e=this.clone(),t=e.spec,n=t.label,r={meta:t.meta,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))};return r}}]),e}();vt.prototype.__isYupSchema__=!0;for(var yt=function(){var e=gt[mt];vt.prototype["".concat(e,"At")]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=ft(this,t,n,r.context),a=i.parent,o=i.parentPath,u=i.schema;return u[e](a&&a[o],pt({},r,{parent:a,path:t}))}},mt=0,gt=["validate","validateSync"];mt<gt.length;mt++)yt();for(var kt=0,bt=["equals","is"];kt<bt.length;kt++){var wt=bt[kt];vt.prototype[wt]=vt.prototype.oneOf}for(var _t=0,xt=["not","nope"];_t<xt.length;_t++){var Et=xt[_t];vt.prototype[Et]=vt.prototype.notOneOf}vt.prototype.optional=vt.prototype.notRequired;var St=vt;St.prototype;var It=function(e){return null==e};var Tt=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.call(this,{type:"boolean"})).withMutation((function(){e.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e}))})),e}return ge(n,[{key:"_typeCheck",value:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e}},{key:"isTrue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:function(e){return It(e)||!0===e}})}},{key:"isFalse",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:function(e){return It(e)||!1===e}})}}]),n}(vt);function Ct(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e}function At(){return At="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Ct(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},At.apply(this,arguments)}Tt.prototype;var Nt=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Ot=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Dt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Rt=function(e){return It(e)||e===e.trim()},Pt={}.toString();function Ft(){return new Lt}var Lt=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.call(this,{type:"string"})).withMutation((function(){e.transform((function(e){if(this.isType(e))return e;if(Array.isArray(e))return e;var t=null!=e&&e.toString?e.toString():e;return t===Pt?e:t}))})),e}return ge(n,[{key:"_typeCheck",value:function(e){return e instanceof String&&(e=e.valueOf()),"string"===typeof e}},{key:"_isPresent",value:function(e){return At(Ke(n.prototype),"_isPresent",this).call(this,e)&&!!e.length}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return It(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return It(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return It(t)||t.length<=this.resolve(e)}})}},{key:"matches",value:function(e,t){var n,r,i=!1;if(t)if("object"===typeof t){var a=t.excludeEmptyString;i=void 0!==a&&a,n=t.message,r=t.name}else n=t;return this.test({name:r||"matches",message:n||Ne.matches,params:{regex:e},test:function(t){return It(t)||""===t&&i||-1!==t.search(e)}})}},{key:"email",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.email;return this.matches(Nt,{name:"email",message:e,excludeEmptyString:!0})}},{key:"url",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.url;return this.matches(Ot,{name:"url",message:e,excludeEmptyString:!0})}},{key:"uuid",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.uuid;return this.matches(Dt,{name:"uuid",message:e,excludeEmptyString:!1})}},{key:"ensure",value:function(){return this.default("").transform((function(e){return null===e?"":e}))}},{key:"trim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.trim;return this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:Rt})}},{key:"lowercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.lowercase;return this.transform((function(e){return It(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return It(e)||e===e.toLowerCase()}})}},{key:"uppercase",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.uppercase;return this.transform((function(e){return It(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return It(e)||e===e.toUpperCase()}})}}]),n}(vt);Ft.prototype=Lt.prototype;var Mt=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.call(this,{type:"number"})).withMutation((function(){e.transform((function(e){var t=e;if("string"===typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))})),e}return ge(n,[{key:"_typeCheck",value:function(e){return e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!function(e){return e!=+e}(e)}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return It(t)||t>=this.resolve(e)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return It(t)||t<=this.resolve(e)}})}},{key:"lessThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return It(t)||t<this.resolve(e)}})}},{key:"moreThan",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oe.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return It(t)||t>this.resolve(e)}})}},{key:"positive",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.positive;return this.moreThan(0,e)}},{key:"negative",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.negative;return this.lessThan(0,e)}},{key:"integer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe.integer;return this.test({name:"integer",message:e,test:function(e){return It(e)||Number.isInteger(e)}})}},{key:"truncate",value:function(){return this.transform((function(e){return It(e)?e:0|e}))}},{key:"round",value:function(e){var t,n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((function(t){return It(t)?t:Math[e](t)}))}}]),n}(vt);Mt.prototype;var jt=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var Ut=new Date("");function Vt(){return new zt}var zt=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.call(this,{type:"date"})).withMutation((function(){e.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],i=0;if(n=jt.exec(e)){for(var a,o=0;a=r[o];++o)n[a]=+n[a]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(i=60*n[10]+n[11],"+"===n[9]&&(i=0-i)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+i,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?Ut:new Date(e))}))})),e}return ge(n,[{key:"_typeCheck",value:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}},{key:"prepareParam",value:function(e,t){var n;if(ut.isRef(e))n=e;else{var r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}},{key:"min",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return It(e)||e>=this.resolve(n)}})}},{key:"max",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:De.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return It(e)||e<=this.resolve(n)}})}}]),n}(vt);zt.INVALID_DATE=Ut,Vt.prototype=zt.prototype,Vt.INVALID_DATE=Ut;var Bt=n(7499),qt=n.n(Bt),Kt=n(567),Gt=n.n(Kt),Wt=n(9029),Ht=n.n(Wt),$t=n(6514),Qt=n.n($t);function Jt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,i=new Set(t.map((function(e){var t=c(e,2),n=t[0],r=t[1];return"".concat(n,"-").concat(r)})));function a(e,t){var a=(0,it.split)(e)[0];r.add(a),i.has("".concat(t,"-").concat(a))||n.push([t,a])}var o=function(t){if(Me()(e,t)){var n=e[t];r.add(t),ut.isRef(n)&&n.isSibling?a(n.path,t):je(n)&&"deps"in n&&n.deps.forEach((function(e){return a(e,t)}))}};for(var u in e)o(u);return Qt().array(Array.from(r),n).reverse()}function Yt(e,t){var n=1/0;return e.some((function(e,r){var i;if(-1!==(null==(i=t.path)?void 0:i.indexOf(e)))return n=r,!0})),n}function Xt(e){return function(t,n){return Yt(e,t)-Yt(e,n)}}function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt.apply(this,arguments)}var en=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function tn(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}var nn=Xt([]),rn=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,{type:"object"})).fields=Object.create(null),r._sortErrors=nn,r._nodes=[],r._excludedEdges=[],r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&r.shape(e)})),r}return ge(n,[{key:"_typeCheck",value:function(e){return en(e)||"function"===typeof e}},{key:"_cast",value:function(e){var t,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=At(Ke(n.prototype),"_cast",this).call(this,e,i);if(void 0===a)return this.getDefault();if(!this._typeCheck(a))return a;var o,u=this.fields,s=null!=(t=i.stripUnknown)?t:this.spec.noUnknown,c=this._nodes.concat(Object.keys(a).filter((function(e){return-1===r._nodes.indexOf(e)}))),l={},f=Zt({},i,{parent:l,__validating:i.__validating||!1}),h=!1,d=ht(c);try{for(d.s();!(o=d.n()).done;){var p=o.value,v=u[p],y=Me()(a,p);if(v){var m=void 0,g=a[p];f.path=(i.path?"".concat(i.path,"."):"")+p;var k="spec"in(v=v.resolve({value:g,context:i.context,parent:l}))?v.spec:void 0,b=null==k?void 0:k.strict;if(null==k?void 0:k.strip){h=h||p in a;continue}void 0!==(m=i.__validating&&b?a[p]:v.cast(a[p],f))&&(l[p]=m)}else y&&!s&&(l[p]=a[p]);l[p]!==a[p]&&(h=!0)}}catch(w){d.e(w)}finally{d.f()}return h?l:a}},{key:"_validate",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,a=[],o=r.sync,u=r.from,s=void 0===u?[]:u,c=r.originalValue,l=void 0===c?e:c,f=r.abortEarly,h=void 0===f?this.spec.abortEarly:f,d=r.recursive,p=void 0===d?this.spec.recursive:d;s=[{schema:this,value:l}].concat(ve(s)),r.__validating=!0,r.originalValue=l,r.from=s,At(Ke(n.prototype),"_validate",this).call(this,e,r,(function(e,n){if(e){if(!et.isError(e)||h)return void i(e,n);a.push(e)}if(p&&en(n)){l=l||n;var u=t._nodes.map((function(e){return function(i,a){var o=-1===e.indexOf(".")?(r.path?"".concat(r.path,"."):"")+e:"".concat(r.path||"",'["').concat(e,'"]'),u=t.fields[e];u&&"validate"in u?u.validate(n[e],Zt({},r,{path:o,from:s,strict:!0,parent:n,originalValue:l[e]}),a):a(null)}}));tt({sync:o,tests:u,value:n,errors:a,endEarly:h,sort:t._sortErrors,path:r.path},i)}else i(a[0]||null,n)}))}},{key:"clone",value:function(e){var t=At(Ke(n.prototype),"clone",this).call(this,e);return t.fields=Zt({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}},{key:"concat",value:function(e){for(var t=this,r=At(Ke(n.prototype),"concat",this).call(this,e),i=r.fields,a=0,o=Object.entries(this.fields);a<o.length;a++){var u=c(o[a],2),s=u[0],l=u[1],f=i[s];void 0===f?i[s]=l:f instanceof vt&&l instanceof vt&&(i[s]=l.concat(f))}return r.withMutation((function(){return r.shape(i,t._excludedEdges)}))}},{key:"getDefaultFromShape",value:function(){var e=this,t={};return this._nodes.forEach((function(n){var r=e.fields[n];t[n]="default"in r?r.getDefault():void 0})),t}},{key:"_getDefault",value:function(){return"default"in this.spec?At(Ke(n.prototype),"_getDefault",this).call(this):this._nodes.length?this.getDefaultFromShape():void 0}},{key:"shape",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=Xt(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[].concat(ve(n._excludedEdges),ve(t))),n._nodes=Jt(r,n._excludedEdges),n}},{key:"pick",value:function(e){var t,n={},r=ht(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;this.fields[i]&&(n[i]=this.fields[i])}}catch(a){r.e(a)}finally{r.f()}return this.clone().withMutation((function(e){return e.fields={},e.shape(n)}))}},{key:"omit",value:function(e){var t=this.clone(),n=t.fields;t.fields={};var r,i=ht(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete n[a]}}catch(o){i.e(o)}finally{i.f()}return t.withMutation((function(){return t.shape(n)}))}},{key:"from",value:function(e,t,n){var r=(0,it.getter)(e,!0);return this.transform((function(i){if(null==i)return i;var a=i;return Me()(i,e)&&(a=Zt({},i),n||delete a[e],a[t]=r(i)),a}))}},{key:"noUnknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.noUnknown;"string"===typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=tn(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}},{key:"unknown",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pe.noUnknown;return this.noUnknown(!e,t)}},{key:"transformKeys",value:function(e){return this.transform((function(t){return t&&Ht()(t,(function(t,n){return e(n)}))}))}},{key:"camelCase",value:function(){return this.transformKeys(Gt())}},{key:"snakeCase",value:function(){return this.transformKeys(qt())}},{key:"constantCase",value:function(){return this.transformKeys((function(e){return qt()(e).toUpperCase()}))}},{key:"describe",value:function(){var e=At(Ke(n.prototype),"describe",this).call(this);return e.fields=rt()(this.fields,(function(e){return e.describe()})),e}}]),n}(vt);function an(e){return new rn(e)}function on(){return on=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},on.apply(this,arguments)}an.prototype=rn.prototype;var un=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,{type:"array"})).innerType=void 0,r.innerType=e,r.withMutation((function(){r.transform((function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null}))})),r}return ge(n,[{key:"_typeCheck",value:function(e){return Array.isArray(e)}},{key:"_subType",get:function(){return this.innerType}},{key:"_cast",value:function(e,t){var r=this,i=At(Ke(n.prototype),"_cast",this).call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var a=!1,o=i.map((function(e,n){var i=r.innerType.cast(e,on({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return i!==e&&(a=!0),i}));return a?o:i}},{key:"_validate",value:function(e){var t,r,i=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0,u=[],s=a.sync,c=a.path,l=this.innerType,f=null!=(t=a.abortEarly)?t:this.spec.abortEarly,h=null!=(r=a.recursive)?r:this.spec.recursive,d=null!=a.originalValue?a.originalValue:e;At(Ke(n.prototype),"_validate",this).call(this,e,a,(function(e,t){if(e){if(!et.isError(e)||f)return void o(e,t);u.push(e)}if(h&&l&&i._typeCheck(t)){d=d||t;for(var n=new Array(t.length),r=function(e){var r=t[e],i="".concat(a.path||"","[").concat(e,"]"),o=on({},a,{path:i,strict:!0,parent:t,index:e,originalValue:d[e]});n[e]=function(e,t){return l.validate(r,o,t)}},p=0;p<t.length;p++)r(p);tt({sync:s,path:c,value:t,errors:u,endEarly:f,tests:n},o)}else o(u[0]||null,t)}))}},{key:"clone",value:function(e){var t=At(Ke(n.prototype),"clone",this).call(this,e);return t.innerType=this.innerType,t}},{key:"concat",value:function(e){var t=At(Ke(n.prototype),"concat",this).call(this,e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}},{key:"of",value:function(e){var t=this.clone();if(!je(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+Ce(e));return t.innerType=e,t}},{key:"length",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return It(t)||t.length===this.resolve(e)}})}},{key:"min",value:function(e,t){return t=t||Fe.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return It(t)||t.length>=this.resolve(e)}})}},{key:"max",value:function(e,t){return t=t||Fe.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return It(t)||t.length<=this.resolve(e)}})}},{key:"ensure",value:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))}},{key:"compact",value:function(e){var t=e?function(t,n,r){return!e(t,n,r)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))}},{key:"describe",value:function(){var e=At(Ke(n.prototype),"describe",this).call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}},{key:"nullable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return At(Ke(n.prototype),"nullable",this).call(this,e)}},{key:"defined",value:function(){return At(Ke(n.prototype),"defined",this).call(this)}},{key:"required",value:function(e){return At(Ke(n.prototype),"required",this).call(this,e)}}]),n}(vt);un.prototype;var sn=n(77),cn=n.n(sn),ln=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===fn}(e)}(e)};var fn="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function hn(e,t){return!1!==t.clone&&t.isMergeableObject(e)?pn((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function dn(e,t,n){return e.concat(t).map((function(e){return hn(e,n)}))}function pn(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||dn,n.isMergeableObject=n.isMergeableObject||ln;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=hn(e[t],n)})),Object.keys(t).forEach((function(i){n.isMergeableObject(t[i])&&e[i]?r[i]=pn(e[i],t[i],n):r[i]=hn(t[i],n)})),r}(e,t,n):hn(t,n)}pn.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return pn(e,n,t)}),{})};var vn=pn,yn="object"==typeof global&&global&&global.Object===Object&&global,mn="object"==typeof self&&self&&self.Object===Object&&self,gn=yn||mn||Function("return this")(),kn=gn.Symbol,bn=Object.prototype,wn=bn.hasOwnProperty,_n=bn.toString,xn=kn?kn.toStringTag:void 0;var En=function(e){var t=wn.call(e,xn),n=e[xn];try{e[xn]=void 0;var r=!0}catch(a){}var i=_n.call(e);return r&&(t?e[xn]=n:delete e[xn]),i},Sn=Object.prototype.toString;var In=function(e){return Sn.call(e)},Tn=kn?kn.toStringTag:void 0;var Cn=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Tn&&Tn in Object(e)?En(e):In(e)};var An=function(e,t){return function(n){return e(t(n))}},Nn=An(Object.getPrototypeOf,Object);var On=function(e){return null!=e&&"object"==typeof e},Dn=Function.prototype,Rn=Object.prototype,Pn=Dn.toString,Fn=Rn.hasOwnProperty,Ln=Pn.call(Object);var Mn=function(e){if(!On(e)||"[object Object]"!=Cn(e))return!1;var t=Nn(e);if(null===t)return!0;var n=Fn.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pn.call(n)==Ln};var jn=function(){this.__data__=[],this.size=0};var Un=function(e,t){return e===t||e!==e&&t!==t};var Vn=function(e,t){for(var n=e.length;n--;)if(Un(e[n][0],t))return n;return-1},zn=Array.prototype.splice;var Bn=function(e){var t=this.__data__,n=Vn(t,e);return!(n<0)&&(n==t.length-1?t.pop():zn.call(t,n,1),--this.size,!0)};var qn=function(e){var t=this.__data__,n=Vn(t,e);return n<0?void 0:t[n][1]};var Kn=function(e){return Vn(this.__data__,e)>-1};var Gn=function(e,t){var n=this.__data__,r=Vn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wn.prototype.clear=jn,Wn.prototype.delete=Bn,Wn.prototype.get=qn,Wn.prototype.has=Kn,Wn.prototype.set=Gn;var Hn=Wn;var $n=function(){this.__data__=new Hn,this.size=0};var Qn=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Jn=function(e){return this.__data__.get(e)};var Yn=function(e){return this.__data__.has(e)};var Xn=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Zn=function(e){if(!Xn(e))return!1;var t=Cn(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},er=gn["__core-js_shared__"],tr=function(){var e=/[^.]+$/.exec(er&&er.keys&&er.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var nr=function(e){return!!tr&&tr in e},rr=Function.prototype.toString;var ir=function(e){if(null!=e){try{return rr.call(e)}catch(t){}try{return e+""}catch(t){}}return""},ar=/^\[object .+?Constructor\]$/,or=Function.prototype,ur=Object.prototype,sr=or.toString,cr=ur.hasOwnProperty,lr=RegExp("^"+sr.call(cr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var fr=function(e){return!(!Xn(e)||nr(e))&&(Zn(e)?lr:ar).test(ir(e))};var hr=function(e,t){return null==e?void 0:e[t]};var dr=function(e,t){var n=hr(e,t);return fr(n)?n:void 0},pr=dr(gn,"Map"),vr=dr(Object,"create");var yr=function(){this.__data__=vr?vr(null):{},this.size=0};var mr=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},gr=Object.prototype.hasOwnProperty;var kr=function(e){var t=this.__data__;if(vr){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return gr.call(t,e)?t[e]:void 0},br=Object.prototype.hasOwnProperty;var wr=function(e){var t=this.__data__;return vr?void 0!==t[e]:br.call(t,e)};var _r=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=vr&&void 0===t?"__lodash_hash_undefined__":t,this};function xr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xr.prototype.clear=yr,xr.prototype.delete=mr,xr.prototype.get=kr,xr.prototype.has=wr,xr.prototype.set=_r;var Er=xr;var Sr=function(){this.size=0,this.__data__={hash:new Er,map:new(pr||Hn),string:new Er}};var Ir=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Tr=function(e,t){var n=e.__data__;return Ir(t)?n["string"==typeof t?"string":"hash"]:n.map};var Cr=function(e){var t=Tr(this,e).delete(e);return this.size-=t?1:0,t};var Ar=function(e){return Tr(this,e).get(e)};var Nr=function(e){return Tr(this,e).has(e)};var Or=function(e,t){var n=Tr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Dr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dr.prototype.clear=Sr,Dr.prototype.delete=Cr,Dr.prototype.get=Ar,Dr.prototype.has=Nr,Dr.prototype.set=Or;var Rr=Dr;var Pr=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!pr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Rr(r)}return n.set(e,t),this.size=n.size,this};function Fr(e){var t=this.__data__=new Hn(e);this.size=t.size}Fr.prototype.clear=$n,Fr.prototype.delete=Qn,Fr.prototype.get=Jn,Fr.prototype.has=Yn,Fr.prototype.set=Pr;var Lr=Fr;var Mr=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},jr=function(){try{var e=dr(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();var Ur=function(e,t,n){"__proto__"==t&&jr?jr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Vr=Object.prototype.hasOwnProperty;var zr=function(e,t,n){var r=e[t];Vr.call(e,t)&&Un(r,n)&&(void 0!==n||t in e)||Ur(e,t,n)};var Br=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var u=t[a],s=r?r(n[u],e[u],u,n,e):void 0;void 0===s&&(s=e[u]),i?Ur(n,u,s):zr(n,u,s)}return n};var qr=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var Kr=function(e){return On(e)&&"[object Arguments]"==Cn(e)},Gr=Object.prototype,Wr=Gr.hasOwnProperty,Hr=Gr.propertyIsEnumerable,$r=Kr(function(){return arguments}())?Kr:function(e){return On(e)&&Wr.call(e,"callee")&&!Hr.call(e,"callee")},Qr=$r,Jr=Array.isArray;var Yr=function(){return!1},Xr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Zr=Xr&&"object"==typeof module&&module&&!module.nodeType&&module,ei=Zr&&Zr.exports===Xr?gn.Buffer:void 0,ti=(ei?ei.isBuffer:void 0)||Yr,ni=/^(?:0|[1-9]\d*)$/;var ri=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ni.test(e))&&e>-1&&e%1==0&&e<t};var ii=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ai={};ai["[object Float32Array]"]=ai["[object Float64Array]"]=ai["[object Int8Array]"]=ai["[object Int16Array]"]=ai["[object Int32Array]"]=ai["[object Uint8Array]"]=ai["[object Uint8ClampedArray]"]=ai["[object Uint16Array]"]=ai["[object Uint32Array]"]=!0,ai["[object Arguments]"]=ai["[object Array]"]=ai["[object ArrayBuffer]"]=ai["[object Boolean]"]=ai["[object DataView]"]=ai["[object Date]"]=ai["[object Error]"]=ai["[object Function]"]=ai["[object Map]"]=ai["[object Number]"]=ai["[object Object]"]=ai["[object RegExp]"]=ai["[object Set]"]=ai["[object String]"]=ai["[object WeakMap]"]=!1;var oi=function(e){return On(e)&&ii(e.length)&&!!ai[Cn(e)]};var ui=function(e){return function(t){return e(t)}},si="object"==typeof exports&&exports&&!exports.nodeType&&exports,ci=si&&"object"==typeof module&&module&&!module.nodeType&&module,li=ci&&ci.exports===si&&yn.process,fi=function(){try{var e=ci&&ci.require&&ci.require("util").types;return e||li&&li.binding&&li.binding("util")}catch(t){}}(),hi=fi&&fi.isTypedArray,di=hi?ui(hi):oi,pi=Object.prototype.hasOwnProperty;var vi=function(e,t){var n=Jr(e),r=!n&&Qr(e),i=!n&&!r&&ti(e),a=!n&&!r&&!i&&di(e),o=n||r||i||a,u=o?qr(e.length,String):[],s=u.length;for(var c in e)!t&&!pi.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ri(c,s))||u.push(c);return u},yi=Object.prototype;var mi=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yi)},gi=An(Object.keys,Object),ki=Object.prototype.hasOwnProperty;var bi=function(e){if(!mi(e))return gi(e);var t=[];for(var n in Object(e))ki.call(e,n)&&"constructor"!=n&&t.push(n);return t};var wi=function(e){return null!=e&&ii(e.length)&&!Zn(e)};var _i=function(e){return wi(e)?vi(e):bi(e)};var xi=function(e,t){return e&&Br(t,_i(t),e)};var Ei=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Si=Object.prototype.hasOwnProperty;var Ii=function(e){if(!Xn(e))return Ei(e);var t=mi(e),n=[];for(var r in e)("constructor"!=r||!t&&Si.call(e,r))&&n.push(r);return n};var Ti=function(e){return wi(e)?vi(e,!0):Ii(e)};var Ci=function(e,t){return e&&Br(t,Ti(t),e)},Ai="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ni=Ai&&"object"==typeof module&&module&&!module.nodeType&&module,Oi=Ni&&Ni.exports===Ai?gn.Buffer:void 0,Di=Oi?Oi.allocUnsafe:void 0;var Ri=function(e,t){if(t)return e.slice();var n=e.length,r=Di?Di(n):new e.constructor(n);return e.copy(r),r};var Pi=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Fi=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Li=function(){return[]},Mi=Object.prototype.propertyIsEnumerable,ji=Object.getOwnPropertySymbols,Ui=ji?function(e){return null==e?[]:(e=Object(e),Fi(ji(e),(function(t){return Mi.call(e,t)})))}:Li,Vi=Ui;var zi=function(e,t){return Br(e,Vi(e),t)};var Bi=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},qi=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Bi(t,Vi(e)),e=Nn(e);return t}:Li,Ki=qi;var Gi=function(e,t){return Br(e,Ki(e),t)};var Wi=function(e,t,n){var r=t(e);return Jr(e)?r:Bi(r,n(e))};var Hi=function(e){return Wi(e,_i,Vi)};var $i=function(e){return Wi(e,Ti,Ki)},Qi=dr(gn,"DataView"),Ji=dr(gn,"Promise"),Yi=dr(gn,"Set"),Xi=dr(gn,"WeakMap"),Zi="[object Map]",ea="[object Promise]",ta="[object Set]",na="[object WeakMap]",ra="[object DataView]",ia=ir(Qi),aa=ir(pr),oa=ir(Ji),ua=ir(Yi),sa=ir(Xi),ca=Cn;(Qi&&ca(new Qi(new ArrayBuffer(1)))!=ra||pr&&ca(new pr)!=Zi||Ji&&ca(Ji.resolve())!=ea||Yi&&ca(new Yi)!=ta||Xi&&ca(new Xi)!=na)&&(ca=function(e){var t=Cn(e),n="[object Object]"==t?e.constructor:void 0,r=n?ir(n):"";if(r)switch(r){case ia:return ra;case aa:return Zi;case oa:return ea;case ua:return ta;case sa:return na}return t});var la=ca,fa=Object.prototype.hasOwnProperty;var ha=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&fa.call(e,"index")&&(n.index=e.index,n.input=e.input),n},da=gn.Uint8Array;var pa=function(e){var t=new e.constructor(e.byteLength);return new da(t).set(new da(e)),t};var va=function(e,t){var n=t?pa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ya=/\w*$/;var ma=function(e){var t=new e.constructor(e.source,ya.exec(e));return t.lastIndex=e.lastIndex,t},ga=kn?kn.prototype:void 0,ka=ga?ga.valueOf:void 0;var ba=function(e){return ka?Object(ka.call(e)):{}};var wa=function(e,t){var n=t?pa(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var _a=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return pa(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return va(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wa(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ma(e);case"[object Symbol]":return ba(e)}},xa=Object.create,Ea=function(){function e(){}return function(t){if(!Xn(t))return{};if(xa)return xa(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Sa=Ea;var Ia=function(e){return"function"!=typeof e.constructor||mi(e)?{}:Sa(Nn(e))};var Ta=function(e){return On(e)&&"[object Map]"==la(e)},Ca=fi&&fi.isMap,Aa=Ca?ui(Ca):Ta;var Na=function(e){return On(e)&&"[object Set]"==la(e)},Oa=fi&&fi.isSet,Da=Oa?ui(Oa):Na,Ra="[object Arguments]",Pa="[object Function]",Fa="[object Object]",La={};La[Ra]=La["[object Array]"]=La["[object ArrayBuffer]"]=La["[object DataView]"]=La["[object Boolean]"]=La["[object Date]"]=La["[object Float32Array]"]=La["[object Float64Array]"]=La["[object Int8Array]"]=La["[object Int16Array]"]=La["[object Int32Array]"]=La["[object Map]"]=La["[object Number]"]=La["[object Object]"]=La["[object RegExp]"]=La["[object Set]"]=La["[object String]"]=La["[object Symbol]"]=La["[object Uint8Array]"]=La["[object Uint8ClampedArray]"]=La["[object Uint16Array]"]=La["[object Uint32Array]"]=!0,La["[object Error]"]=La[Pa]=La["[object WeakMap]"]=!1;var Ma=function e(t,n,r,i,a,o){var u,s=1&n,c=2&n,l=4&n;if(r&&(u=a?r(t,i,a,o):r(t)),void 0!==u)return u;if(!Xn(t))return t;var f=Jr(t);if(f){if(u=ha(t),!s)return Pi(t,u)}else{var h=la(t),d=h==Pa||"[object GeneratorFunction]"==h;if(ti(t))return Ri(t,s);if(h==Fa||h==Ra||d&&!a){if(u=c||d?{}:Ia(t),!s)return c?Gi(t,Ci(u,t)):zi(t,xi(u,t))}else{if(!La[h])return a?t:{};u=_a(t,h,s)}}o||(o=new Lr);var p=o.get(t);if(p)return p;o.set(t,u),Da(t)?t.forEach((function(i){u.add(e(i,n,r,i,t,o))})):Aa(t)&&t.forEach((function(i,a){u.set(a,e(i,n,r,a,t,o))}));var v=f?void 0:(l?c?$i:Hi:c?Ti:_i)(t);return Mr(v||t,(function(i,a){v&&(i=t[a=i]),zr(u,a,e(i,n,r,a,t,o))})),u};var ja=function(e){return Ma(e,4)};var Ua=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Va=function(e){return"symbol"==typeof e||On(e)&&"[object Symbol]"==Cn(e)};function za(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(za.Cache||Rr),n}za.Cache=Rr;var Ba=za;var qa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/\\(\\)?/g,Ga=function(e){var t=Ba(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(qa,(function(e,n,r,i){t.push(r?i.replace(Ka,"$1"):n||e)})),t})),Wa=Ga;var Ha=function(e){if("string"==typeof e||Va(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},$a=kn?kn.prototype:void 0,Qa=$a?$a.toString:void 0;var Ja=function e(t){if("string"==typeof t)return t;if(Jr(t))return Ua(t,e)+"";if(Va(t))return Qa?Qa.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var Ya=function(e){return null==e?"":Ja(e)};var Xa=function(e){return Jr(e)?Ua(e,Ha):Va(e)?[e]:Pi(Wa(Ya(e)))};var Za=function(e,t){},eo=n(1975),to=n.n(eo);var no=function(e){return Ma(e,5)};function ro(){return ro=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ro.apply(this,arguments)}function io(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function ao(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function oo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var uo=function(e){return Array.isArray(e)&&0===e.length},so=function(e){return"function"===typeof e},co=function(e){return null!==e&&"object"===typeof e},lo=function(e){return String(Math.floor(Number(e)))===e},fo=function(e){return"[object String]"===Object.prototype.toString.call(e)},ho=function(e){return 0===r.Children.count(e)},po=function(e){return co(e)&&so(e.then)};function vo(e,t,n,r){void 0===r&&(r=0);for(var i=Xa(t);e&&r<i.length;)e=e[i[r++]];return void 0===e?n:e}function yo(e,t,n){for(var r=ja(e),i=r,a=0,o=Xa(t);a<o.length-1;a++){var u=o[a],s=vo(e,o.slice(0,a+1));if(s&&(co(s)||Array.isArray(s)))i=i[u]=ja(s);else{var c=o[a+1];i=i[u]=lo(c)&&Number(c)>=0?[]:{}}}return(0===a?e:i)[o[a]]===n?e:(void 0===n?delete i[o[a]]:i[o[a]]=n,0===a&&void 0===n&&delete r[o[a]],r)}function mo(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var i=0,a=Object.keys(e);i<a.length;i++){var o=a[i],u=e[o];co(u)?n.get(u)||(n.set(u,!0),r[o]=Array.isArray(u)?[]:{},mo(u,t,n,r[o])):r[o]=t}return r}var go=(0,r.createContext)(void 0);go.displayName="FormikContext";var ko=go.Provider,bo=go.Consumer;function wo(){var e=(0,r.useContext)(go);return e||Za(!1),e}function _o(e,t){switch(t.type){case"SET_VALUES":return ro({},e,{values:t.payload});case"SET_TOUCHED":return ro({},e,{touched:t.payload});case"SET_ERRORS":return cn()(e.errors,t.payload)?e:ro({},e,{errors:t.payload});case"SET_STATUS":return ro({},e,{status:t.payload});case"SET_ISSUBMITTING":return ro({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return ro({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return ro({},e,{values:yo(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return ro({},e,{touched:yo(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return ro({},e,{errors:yo(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return ro({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return ro({},e,{touched:mo(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return ro({},e,{isSubmitting:!1});default:return e}}var xo={},Eo={};function So(e){var t=e.validateOnChange,n=void 0===t||t,i=e.validateOnBlur,a=void 0===i||i,o=e.validateOnMount,u=void 0!==o&&o,s=e.isInitialValid,c=e.enableReinitialize,l=void 0!==c&&c,f=e.onSubmit,h=ao(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),d=ro({validateOnChange:n,validateOnBlur:a,validateOnMount:u,onSubmit:f},h),p=(0,r.useRef)(d.initialValues),v=(0,r.useRef)(d.initialErrors||xo),y=(0,r.useRef)(d.initialTouched||Eo),m=(0,r.useRef)(d.initialStatus),g=(0,r.useRef)(!1),k=(0,r.useRef)({});(0,r.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var b=(0,r.useReducer)(_o,{values:d.initialValues,errors:d.initialErrors||xo,touched:d.initialTouched||Eo,status:d.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),w=b[0],_=b[1],x=(0,r.useCallback)((function(e,t){return new Promise((function(n,r){var i=d.validate(e,t);null==i?n(xo):po(i)?i.then((function(e){n(e||xo)}),(function(e){r(e)})):n(i)}))}),[d.validate]),E=(0,r.useCallback)((function(e,t){var n=d.validationSchema,r=so(n)?n(t):n,i=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var i=To(e);return t[n?"validateSync":"validate"](i,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){i.then((function(){e(xo)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return yo(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}var o=a;vo(t,o.path)||(t=yo(t,o.path,o.message))}}return t}(n)):t(n)}))}))}),[d.validationSchema]),S=(0,r.useCallback)((function(e,t){return new Promise((function(n){return n(k.current[e].validate(t))}))}),[]),I=(0,r.useCallback)((function(e){var t=Object.keys(k.current).filter((function(e){return so(k.current[e].validate)})),n=t.length>0?t.map((function(t){return S(t,vo(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=yo(e,t[r],n)),e}),{})}))}),[S]),T=(0,r.useCallback)((function(e){return Promise.all([I(e),d.validationSchema?E(e):{},d.validate?x(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return vn.all([t,n,r],{arrayMerge:Co})}))}),[d.validate,d.validationSchema,I,x,E]),C=No((function(e){return void 0===e&&(e=w.values),_({type:"SET_ISVALIDATING",payload:!0}),T(e).then((function(e){return g.current&&(_({type:"SET_ISVALIDATING",payload:!1}),_({type:"SET_ERRORS",payload:e})),e}))}));(0,r.useEffect)((function(){u&&!0===g.current&&cn()(p.current,d.initialValues)&&C(p.current)}),[u,C]);var A=(0,r.useCallback)((function(e){var t=e&&e.values?e.values:p.current,n=e&&e.errors?e.errors:v.current?v.current:d.initialErrors||{},r=e&&e.touched?e.touched:y.current?y.current:d.initialTouched||{},i=e&&e.status?e.status:m.current?m.current:d.initialStatus;p.current=t,v.current=n,y.current=r,m.current=i;var a=function(){_({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:i,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"===typeof e.submitCount?e.submitCount:0}})};if(d.onReset){var o=d.onReset(w.values,$);po(o)?o.then(a):a()}else a()}),[d.initialErrors,d.initialStatus,d.initialTouched]);(0,r.useEffect)((function(){!0!==g.current||cn()(p.current,d.initialValues)||(l&&(p.current=d.initialValues,A()),u&&C(p.current))}),[l,d.initialValues,A,u,C]),(0,r.useEffect)((function(){l&&!0===g.current&&!cn()(v.current,d.initialErrors)&&(v.current=d.initialErrors||xo,_({type:"SET_ERRORS",payload:d.initialErrors||xo}))}),[l,d.initialErrors]),(0,r.useEffect)((function(){l&&!0===g.current&&!cn()(y.current,d.initialTouched)&&(y.current=d.initialTouched||Eo,_({type:"SET_TOUCHED",payload:d.initialTouched||Eo}))}),[l,d.initialTouched]),(0,r.useEffect)((function(){l&&!0===g.current&&!cn()(m.current,d.initialStatus)&&(m.current=d.initialStatus,_({type:"SET_STATUS",payload:d.initialStatus}))}),[l,d.initialStatus,d.initialTouched]);var N=No((function(e){if(k.current[e]&&so(k.current[e].validate)){var t=vo(w.values,e),n=k.current[e].validate(t);return po(n)?(_({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),_({type:"SET_ISVALIDATING",payload:!1})}))):(_({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return d.validationSchema?(_({type:"SET_ISVALIDATING",payload:!0}),E(w.values,e).then((function(e){return e})).then((function(t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),_({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),O=(0,r.useCallback)((function(e,t){var n=t.validate;k.current[e]={validate:n}}),[]),D=(0,r.useCallback)((function(e){delete k.current[e]}),[]),R=No((function(e,t){return _({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?C(w.values):Promise.resolve()})),P=(0,r.useCallback)((function(e){_({type:"SET_ERRORS",payload:e})}),[]),F=No((function(e,t){var r=so(e)?e(w.values):e;return _({type:"SET_VALUES",payload:r}),(void 0===t?n:t)?C(r):Promise.resolve()})),L=(0,r.useCallback)((function(e,t){_({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),M=No((function(e,t,r){return _({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===r?n:r)?C(yo(w.values,e,t)):Promise.resolve()})),j=(0,r.useCallback)((function(e,t){var n,r=t,i=e;if(!fo(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,o=a.type,u=a.name,s=a.id,c=a.value,l=a.checked,f=(a.outerHTML,a.options),h=a.multiple;r=t||(u||s),i=/number|range/.test(o)?(n=parseFloat(c),isNaN(n)?"":n):/checkbox/.test(o)?function(e,t,n){if("boolean"===typeof e)return Boolean(t);var r=[],i=!1,a=-1;if(Array.isArray(e))r=e,i=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!i)return r.concat(n);if(!i)return r;return r.slice(0,a).concat(r.slice(a+1))}(vo(w.values,r),l,c):f&&h?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):c}r&&M(r,i)}),[M,w.values]),U=No((function(e){if(fo(e))return function(t){return j(t,e)};j(e)})),V=No((function(e,t,n){return void 0===t&&(t=!0),_({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?a:n)?C(w.values):Promise.resolve()})),z=(0,r.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,i=n.id,a=(n.outerHTML,t||(r||i));V(a,!0)}),[V]),B=No((function(e){if(fo(e))return function(t){return z(t,e)};z(e)})),q=(0,r.useCallback)((function(e){so(e)?_({type:"SET_FORMIK_STATE",payload:e}):_({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),K=(0,r.useCallback)((function(e){_({type:"SET_STATUS",payload:e})}),[]),G=(0,r.useCallback)((function(e){_({type:"SET_ISSUBMITTING",payload:e})}),[]),W=No((function(){return _({type:"SUBMIT_ATTEMPT"}),C().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Q()))return}catch(r){throw r}return Promise.resolve(n).then((function(e){return g.current&&_({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw _({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(_({type:"SUBMIT_FAILURE"}),t))throw e}))})),H=No((function(e){e&&e.preventDefault&&so(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&so(e.stopPropagation)&&e.stopPropagation(),W().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),$={resetForm:A,validateForm:C,validateField:N,setErrors:P,setFieldError:L,setFieldTouched:V,setFieldValue:M,setStatus:K,setSubmitting:G,setTouched:R,setValues:F,setFormikState:q,submitForm:W},Q=No((function(){return f(w.values,$)})),J=No((function(e){e&&e.preventDefault&&so(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&so(e.stopPropagation)&&e.stopPropagation(),A()})),Y=(0,r.useCallback)((function(e){return{value:vo(w.values,e),error:vo(w.errors,e),touched:!!vo(w.touched,e),initialValue:vo(p.current,e),initialTouched:!!vo(y.current,e),initialError:vo(v.current,e)}}),[w.errors,w.touched,w.values]),X=(0,r.useCallback)((function(e){return{setValue:function(t,n){return M(e,t,n)},setTouched:function(t,n){return V(e,t,n)},setError:function(t){return L(e,t)}}}),[M,V,L]),Z=(0,r.useCallback)((function(e){var t=co(e),n=t?e.name:e,r=vo(w.values,n),i={name:n,value:r,onChange:U,onBlur:B};if(t){var a=e.type,o=e.value,u=e.as,s=e.multiple;"checkbox"===a?void 0===o?i.checked=!!r:(i.checked=!(!Array.isArray(r)||!~r.indexOf(o)),i.value=o):"radio"===a?(i.checked=r===o,i.value=o):"select"===u&&s&&(i.value=i.value||[],i.multiple=!0)}return i}),[B,U,w.values]),ee=(0,r.useMemo)((function(){return!cn()(p.current,w.values)}),[p.current,w.values]),te=(0,r.useMemo)((function(){return"undefined"!==typeof s?ee?w.errors&&0===Object.keys(w.errors).length:!1!==s&&so(s)?s(d):s:w.errors&&0===Object.keys(w.errors).length}),[s,ee,w.errors,d]);return ro({},w,{initialValues:p.current,initialErrors:v.current,initialTouched:y.current,initialStatus:m.current,handleBlur:B,handleChange:U,handleReset:J,handleSubmit:H,resetForm:A,setErrors:P,setFormikState:q,setFieldTouched:V,setFieldValue:M,setFieldError:L,setStatus:K,setSubmitting:G,setTouched:R,setValues:F,submitForm:W,validateForm:C,validateField:N,isValid:te,dirty:ee,unregisterField:D,registerField:O,getFieldProps:Z,getFieldMeta:Y,getFieldHelpers:X,validateOnBlur:a,validateOnChange:n,validateOnMount:u})}function Io(e){var t=So(e),n=e.component,i=e.children,a=e.render,o=e.innerRef;return(0,r.useImperativeHandle)(o,(function(){return t})),(0,r.createElement)(ko,{value:t},n?(0,r.createElement)(n,t):a?a(t):i?so(i)?i(t):ho(i)?null:r.Children.only(i):null)}function To(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||Mn(e)?To(e):""!==e?e:void 0})):Mn(e[r])?t[r]=To(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function Co(e,t,n){var r=e.slice();return t.forEach((function(t,i){if("undefined"===typeof r[i]){var a=!1!==n.clone&&n.isMergeableObject(t);r[i]=a?vn(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[i]=vn(e[i],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var Ao="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;function No(e){var t=(0,r.useRef)(e);return Ao((function(){t.current=e})),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current.apply(void 0,n)}),[])}function Oo(e){var t=e.validate,n=e.name,i=e.render,a=e.children,o=e.as,u=e.component,s=ao(e,["validate","name","render","children","as","component"]),c=ao(wo(),["validate","validationSchema"]);var l=c.registerField,f=c.unregisterField;(0,r.useEffect)((function(){return l(n,{validate:t}),function(){f(n)}}),[l,f,n,t]);var h=c.getFieldProps(ro({name:n},s)),d=c.getFieldMeta(n),p={field:h,form:c};if(i)return i(ro({},p,{meta:d}));if(so(a))return a(ro({},p,{meta:d}));if(u){if("string"===typeof u){var v=s.innerRef,y=ao(s,["innerRef"]);return(0,r.createElement)(u,ro({ref:v},h,y),a)}return(0,r.createElement)(u,ro({field:h,form:c},s),a)}var m=o||"input";if("string"===typeof m){var g=s.innerRef,k=ao(s,["innerRef"]);return(0,r.createElement)(m,ro({ref:g},h,k),a)}return(0,r.createElement)(m,ro({},h,s),a)}function Do(e){var t=function(t){return(0,r.createElement)(bo,null,(function(n){return n||Za(!1),(0,r.createElement)(e,Object.assign({},t,{formik:n}))}))},n=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return t.WrappedComponent=e,t.displayName="FormikConnect("+n+")",to()(t,e)}(0,r.forwardRef)((function(e,t){var n=e.action,i=ao(e,["action"]),a=null!=n?n:"#",o=wo(),u=o.handleReset,s=o.handleSubmit;return(0,r.createElement)("form",Object.assign({onSubmit:s,ref:t,onReset:u,action:a},i))})).displayName="Form";var Ro=function(e,t,n){var r=Po(e);return r.splice(t,0,n),r},Po=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(ro({},e,{length:t+1}))}return[]},Fo=function(e){function t(t){var n;return(n=e.call(this,t)||this).updateArrayField=function(e,t,r){var i=n.props,a=i.name;(0,i.formik.setFormikState)((function(n){var i="function"===typeof r?r:e,o="function"===typeof t?t:e,u=yo(n.values,a,e(vo(n.values,a))),s=r?i(vo(n.errors,a)):void 0,c=t?o(vo(n.touched,a)):void 0;return uo(s)&&(s=void 0),uo(c)&&(c=void 0),ro({},n,{values:u,errors:r?yo(n.errors,a,s):n.errors,touched:t?yo(n.touched,a,c):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(Po(t),[no(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Po(e),i=r[t];return r[t]=r[n],r[n]=i,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Po(e),i=r[t];return r.splice(t,1),r.splice(n,0,i),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return Ro(n,e,t)}),(function(t){return Ro(t,e,null)}),(function(t){return Ro(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=Po(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(oo(n)),n.pop=n.pop.bind(oo(n)),n}io(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!cn()(vo(e.formik.values,e.name),vo(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?Po(n):[];return t||(t=r[e]),so(r.splice)&&r.splice(e,1),r}),!0,!0),t},n.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},n.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,n=t.component,i=t.render,a=t.children,o=t.name,u=ro({},e,{form:ao(t.formik,["validate","validationSchema"]),name:o});return n?(0,r.createElement)(n,u):i?i(u):a?"function"===typeof a?a(u):ho(a)?null:r.Children.only(a):null},t}(r.Component);Fo.defaultProps={validateOnChange:!0};var Lo=function(e){function t(){return e.apply(this,arguments)||this}io(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return vo(this.props.formik.errors,this.props.name)!==vo(e.formik.errors,this.props.name)||vo(this.props.formik.touched,this.props.name)!==vo(e.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(e).length},n.render=function(){var e=this.props,t=e.component,n=e.formik,i=e.render,a=e.children,o=e.name,u=ao(e,["component","formik","render","children","name"]),s=vo(n.touched,o),c=vo(n.errors,o);return s&&c?i?so(i)?i(c):null:a?so(a)?a(c):null:t?(0,r.createElement)(t,u,c):c:null},t}(r.Component),Mo=Do(Lo);r.Component;function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Vo={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Uo(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},zo=function(e){return function(e){var t=Uo(e);return Vo.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bo=function(e){try{return Vo.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qo(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=qo(e[n],t[n]));return e}var Ko=function(){function e(){var t=this;ye(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ge(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Go(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zo(JSON.stringify({alg:"none",type:"JWT"})),zo(JSON.stringify(a)),""].join(".")}function Wo(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ho(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wo())}function $o(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Qo(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Jo(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Yo(){var e=Wo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Xo(){return"object"===typeof indexedDB}var Zo=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(ze(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(ze(a),eu.prototype.create),a}return ge(n)}(Je(Error)),eu=function(){function e(t,n,r){ye(this,e),this.service=t,this.serviceName=n,this.errors=r}return ge(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?tu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Zo(n,a,t);return o}}]),e}();function tu(e,t){return e.replace(nu,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var nu=/\{\$([^}]+)}/g;function ru(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function iu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(au(u)&&au(s)){if(!iu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function au(e){return null!==e&&"object"===typeof e}function ou(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function uu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function su(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function cu(e,t){var n=new lu(e,t);return n.subscribe.bind(n)}var lu=function(){function e(t,n){var r=this;ye(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ge(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ht(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=fu),void 0===r.error&&(r.error=fu),void 0===r.complete&&(r.complete=fu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function fu(){}function hu(e){return e&&e._delegate?e._delegate:e}function du(){du=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(I){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return S()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=b(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,i)&&(p=y);var m=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==We(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=d,u(m,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(k.prototype),u(k.prototype,a,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(m),u(m,o,"Generator"),u(m,i,(function(){return this})),u(m,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function pu(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function vu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){pu(a,r,i,o,u,"next",e)}function u(e){pu(a,r,i,o,u,"throw",e)}o(void 0)}))}}var yu=function(){function e(t,n,r){ye(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ge(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),mu="[DEFAULT]",gu=function(){function e(t,n){ye(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ge(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Ko;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:mu})}catch(s){}var t,n=ht(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(ve(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),ve(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ht(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(xN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===mu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(xN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mu;return this.component?this.component.multipleInstances?e:mu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var ku,bu,wu=function(){function e(t){ye(this,e),this.name=t,this.providers=new Map}return ge(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new gu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_u=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(bu||(bu={}));var xu={debug:bu.DEBUG,verbose:bu.VERBOSE,info:bu.INFO,warn:bu.WARN,error:bu.ERROR,silent:bu.SILENT},Eu=bu.INFO,Su=(jo(ku={},bu.DEBUG,"log"),jo(ku,bu.VERBOSE,"log"),jo(ku,bu.INFO,"info"),jo(ku,bu.WARN,"warn"),jo(ku,bu.ERROR,"error"),ku),Iu=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Su[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Tu=function(){function e(t){ye(this,e),this.name=t,this._logLevel=Eu,this._logHandler=Iu,this._userLogHandler=null,_u.push(this)}return ge(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in bu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?xu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bu.DEBUG].concat(t)),this._logHandler.apply(this,[this,bu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,bu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bu.INFO].concat(t)),this._logHandler.apply(this,[this,bu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bu.WARN].concat(t)),this._logHandler.apply(this,[this,bu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,bu.ERROR].concat(t)),this._logHandler.apply(this,[this,bu.ERROR].concat(t))}}]),e}();function Cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cu(Object(n),!0).forEach((function(t){jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nu,Ou;var Du=new WeakMap,Ru=new WeakMap,Pu=new WeakMap,Fu=new WeakMap,Lu=new WeakMap;var Mu={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ru.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pu.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vu(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ju(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ou||(Ou=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(zu(this),n),Vu(Du.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vu(e.apply(zu(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[zu(this),t].concat(r));return Pu.set(a,t.sort?t.sort():[t]),Vu(a)}}function Uu(e){return"function"===typeof e?ju(e):(e instanceof IDBTransaction&&function(e){if(!Ru.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Ru.set(e,t)}}(e),function(e,t){return t.some((function(t){return e instanceof t}))}(e,Nu||(Nu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Mu):e)}function Vu(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Vu(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Du.set(t,e)})).catch((function(){})),Lu.set(t,e),t}(e);if(Fu.has(e))return Fu.get(e);var t=Uu(e);return t!==e&&(Fu.set(e,t),Lu.set(t,e)),t}var zu=function(e){return Lu.get(e)};var Bu,qu,Ku=["get","getKey","getAll","getAllKeys","count"],Gu=["put","add","delete","clear"],Wu=new Map;function Hu(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Wu.get(t))return Wu.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Gu.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Ku.includes(n))){var a=function(){var e=vu(du().mark((function e(t){var a,o,u,s,c,l,f=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Wu.set(t,a),a}}}Mu=function(e){return Au(Au({},e),{},{get:function(t,n,r){return Hu(t,n)||e.get(t,n,r)},has:function(t,n){return!!Hu(t,n)||e.has(t,n)}})}(Mu);var $u=function(){function e(t){ye(this,e),this.container=t}return ge(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Qu="@firebase/app",Ju="0.7.28",Yu=new Tu("@firebase/app"),Xu="[DEFAULT]",Zu=(jo(Bu={},Qu,"fire-core"),jo(Bu,"@firebase/app-compat","fire-core-compat"),jo(Bu,"@firebase/analytics","fire-analytics"),jo(Bu,"@firebase/analytics-compat","fire-analytics-compat"),jo(Bu,"@firebase/app-check","fire-app-check"),jo(Bu,"@firebase/app-check-compat","fire-app-check-compat"),jo(Bu,"@firebase/auth","fire-auth"),jo(Bu,"@firebase/auth-compat","fire-auth-compat"),jo(Bu,"@firebase/database","fire-rtdb"),jo(Bu,"@firebase/database-compat","fire-rtdb-compat"),jo(Bu,"@firebase/functions","fire-fn"),jo(Bu,"@firebase/functions-compat","fire-fn-compat"),jo(Bu,"@firebase/installations","fire-iid"),jo(Bu,"@firebase/installations-compat","fire-iid-compat"),jo(Bu,"@firebase/messaging","fire-fcm"),jo(Bu,"@firebase/messaging-compat","fire-fcm-compat"),jo(Bu,"@firebase/performance","fire-perf"),jo(Bu,"@firebase/performance-compat","fire-perf-compat"),jo(Bu,"@firebase/remote-config","fire-rc"),jo(Bu,"@firebase/remote-config-compat","fire-rc-compat"),jo(Bu,"@firebase/storage","fire-gcs"),jo(Bu,"@firebase/storage-compat","fire-gcs-compat"),jo(Bu,"@firebase/firestore","fire-fst"),jo(Bu,"@firebase/firestore-compat","fire-fst-compat"),jo(Bu,"fire-js","fire-js"),jo(Bu,"firebase","fire-js-all"),Bu),es=new Map,ts=new Map;function ns(e,t){try{e.container.addComponent(t)}catch(n){Yu.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function rs(e,t){e.container.addOrOverwriteComponent(t)}function is(e){var t=e.name;if(ts.has(t))return Yu.debug("There were multiple attempts to register component ".concat(t,".")),!1;ts.set(t,e);var n,r=ht(es.values());try{for(r.s();!(n=r.n()).done;){ns(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function as(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function os(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xu;as(e,t).clearInstance(n)}function us(){ts.clear()}var ss=(jo(qu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),jo(qu,"bad-app-name","Illegal App name: '{$appName}"),jo(qu,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),jo(qu,"app-deleted","Firebase App named '{$appName}' already deleted"),jo(qu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),jo(qu,"invalid-log-argument","First argument to `onLog` must be null or a function."),jo(qu,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),jo(qu,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),jo(qu,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),jo(qu,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),qu),cs=new eu("app","Firebase",ss),ls=function(){function e(t,n,r){var i=this;ye(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yu("app",(function(){return i}),"PUBLIC"))}return ge(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}]),e}(),fs="9.9.0";function hs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Xu,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw cs.create("bad-app-name",{appName:String(i)});var a=es.get(i);if(a){if(iu(e,a.options)&&iu(r,a.config))return a;throw cs.create("duplicate-app",{appName:i})}var o,u=new wu(i),s=ht(ts.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ls(e,r,u);return es.set(i,l),l}function ds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu,t=es.get(e);if(!t)throw cs.create("no-app",{appName:e});return t}function ps(){return Array.from(es.values())}function vs(e){return ys.apply(this,arguments)}function ys(){return ys=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!es.has(n)){e.next=6;break}return es.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(e,t,n){var r,i=null!==(r=Zu[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Yu.warn(u.join(" "))}is(new yu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function gs(e,t){if(null!==e&&"function"!==typeof e)throw cs.create("invalid-log-argument");!function(e,t){var n,r=ht(_u);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=xu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:bu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function ks(e){var t;t=e,_u.forEach((function(e){e.setLogLevel(t)}))}var bs="firebase-heartbeat-store",ws=null;function _s(){return ws||(ws=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Vu(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Vu(u.result),e.oldVersion,e.newVersion,Vu(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(bs)}}).catch((function(e){throw cs.create("storage-open",{originalErrorMessage:e.message})}))),ws}function xs(e){return Es.apply(this,arguments)}function Es(){return Es=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_s();case 3:return r=e.sent,e.abrupt("return",r.transaction(bs).objectStore(bs).get(Ts(t)));case 7:throw e.prev=7,e.t0=e.catch(0),cs.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Es.apply(this,arguments)}function Ss(e,t){return Is.apply(this,arguments)}function Is(){return Is=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_s();case 3:return i=e.sent,a=i.transaction(bs,"readwrite"),o=a.objectStore(bs),e.next=8,o.put(n,Ts(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),cs.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Is.apply(this,arguments)}function Ts(e){return"".concat(e.name,"!").concat(e.options.appId)}var Cs=function(){function e(t){var n=this;ye(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Rs(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ge(e,[{key:"triggerHeartbeat",value:function(){var e=vu(du().mark((function e(){var t,n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=As(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=vu(du().mark((function e(){var t,n,r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=As(),n=Ns(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=zo(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function As(){return(new Date).toISOString().substring(0,10)}function Ns(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ht(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Ps(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Ps(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Os,Ds,Rs=function(){function e(t){ye(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ge(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xo()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,xs(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ss(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Ss(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(ve(r.heartbeats),ve(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ps(e){return zo(JSON.stringify({version:2,heartbeats:e})).length}Os="",is(new yu("platform-logger",(function(e){return new $u(e)}),"PRIVATE")),is(new yu("heartbeat",(function(e){return new Cs(e)}),"PRIVATE")),ms(Qu,Ju,Os),ms(Qu,Ju,"esm2017"),ms("fire-js","");var Fs=function(){function e(t,n){var r=this;ye(this,e),this._delegate=t,this.firebase=n,ns(t,new yu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ge(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),vs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xu;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xu;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){ns(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){rs(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ls=(jo(Ds={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),jo(Ds,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ds),Ms=new eu("app-compat","Firebase",Ls);var js=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=hs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ru(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:ms,setLogLevel:ks,onLog:gs,apps:null,SDK_VERSION:fs,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(is(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ms.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&qo(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ru(n,e=e||Xu))throw Ms.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Fs);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){qo(n,e)},createSubscribe:cu,ErrorFactory:eu,deepExtend:qo}),n}(),Us=new Tu("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Us.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Vs=self.firebase.SDK_VERSION;Vs&&Vs.indexOf("LITE")>=0&&Us.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zs=js;!function(e){ms("@firebase/app-compat","0.1.29",e)}();zs.registerVersion("firebase","9.9.0","app-compat");function Bs(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var qs;Object.create;var Ks="facebook.com",Gs="github.com",Ws="google.com",Hs="password",$s="twitter.com",Qs="EMAIL_SIGNIN",Js="PASSWORD_RESET",Ys="RECOVER_EMAIL",Xs="REVERT_SECOND_FACTOR_ADDITION",Zs="VERIFY_AND_CHANGE_EMAIL",ec="VERIFY_EMAIL";function tc(){return jo({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var nc=function(){var e;return jo(e={},"admin-restricted-operation","This operation is restricted to administrators only."),jo(e,"argument-error",""),jo(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),jo(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),jo(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),jo(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),jo(e,"cordova-not-ready","Cordova framework is not ready."),jo(e,"cors-unsupported","This browser is not supported."),jo(e,"credential-already-in-use","This credential is already associated with a different user account."),jo(e,"custom-token-mismatch","The custom token corresponds to a different audience."),jo(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),jo(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),jo(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),jo(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),jo(e,"email-already-in-use","The email address is already in use by another account."),jo(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),jo(e,"expired-action-code","The action code has expired."),jo(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),jo(e,"internal-error","An internal AuthError has occurred."),jo(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),jo(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),jo(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),jo(e,"invalid-auth-event","An internal AuthError has occurred."),jo(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),jo(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),jo(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),jo(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),jo(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),jo(e,"invalid-email","The email address is badly formatted."),jo(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),jo(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),jo(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),jo(e,"invalid-credential","The supplied auth credential is malformed or has expired."),jo(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),jo(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),jo(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),jo(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),jo(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),jo(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),jo(e,"wrong-password","The password is invalid or the user does not have a password."),jo(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),jo(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),jo(e,"invalid-provider-id","The specified provider ID is invalid."),jo(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),jo(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),jo(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),jo(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),jo(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),jo(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),jo(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),jo(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),jo(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),jo(e,"missing-continue-uri","A continue URL must be provided in the request."),jo(e,"missing-iframe-start","An internal AuthError has occurred."),jo(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),jo(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),jo(e,"missing-multi-factor-info","No second factor identifier is provided."),jo(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),jo(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),jo(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),jo(e,"app-deleted","This instance of FirebaseApp has been deleted."),jo(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),jo(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),jo(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),jo(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),jo(e,"no-auth-event","An internal AuthError has occurred."),jo(e,"no-such-provider","User was not linked to an account with the given provider."),jo(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),jo(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),jo(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),jo(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),jo(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),jo(e,"provider-already-linked","User can only be linked to one identity for the given provider."),jo(e,"quota-exceeded","The project's quota for this operation has been exceeded."),jo(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),jo(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),jo(e,"rejected-credential","The request contains malformed or mismatching credentials."),jo(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),jo(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),jo(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),jo(e,"timeout","The operation has timed out."),jo(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),jo(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),jo(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),jo(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),jo(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),jo(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),jo(e,"unverified-email","The operation requires a verified email."),jo(e,"user-cancelled","The user did not grant your application the permissions it requested."),jo(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),jo(e,"user-disabled","The user account has been disabled by an administrator."),jo(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),jo(e,"user-signed-out",""),jo(e,"weak-password","The password must be 6 characters long or more."),jo(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),jo(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},rc=tc,ic=new eu("auth","Firebase",tc()),ac=new Tu("@firebase/auth");function oc(e){if(ac.logLevel<=bu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ac.error.apply(ac,["Auth (".concat(fs,"): ").concat(e)].concat(n))}}function uc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw fc.apply(void 0,[e].concat(n))}function sc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fc.apply(void 0,[e].concat(n))}function cc(e,t,n){var r=Object.assign(Object.assign({},rc()),jo({},t,n));return new eu("auth","Firebase",r).create(t,{appName:e.name})}function lc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&uc(e,"argument-error"),cc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function fc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=ve(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(ve(o)))}return ic.create.apply(ic,[e].concat(n))}function hc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw fc.apply(void 0,[t].concat(r))}}function dc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw oc(t),new Error(t)}function pc(e,t){e||dc(t)}var vc=new Map;function yc(e){pc(e instanceof Function,"Expected a class definition");var t=vc.get(e);return t?(pc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vc.set(e,t),t)}function mc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function gc(){return"http:"===kc()||"https:"===kc()}function kc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var bc=function(){function e(t,n){ye(this,e),this.shortDelay=t,this.longDelay=n,pc(n>t,"Short delay should be less than long delay!"),this.isMobile=Ho()||Jo()}return ge(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(gc()||Qo()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function wc(e,t){pc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var _c=function(){function e(){ye(this,e)}return ge(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void dc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void dc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void dc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),xc=(jo(qs={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),jo(qs,"MISSING_CUSTOM_TOKEN","internal-error"),jo(qs,"INVALID_IDENTIFIER","invalid-email"),jo(qs,"MISSING_CONTINUE_URI","internal-error"),jo(qs,"INVALID_PASSWORD","wrong-password"),jo(qs,"MISSING_PASSWORD","internal-error"),jo(qs,"EMAIL_EXISTS","email-already-in-use"),jo(qs,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),jo(qs,"INVALID_IDP_RESPONSE","invalid-credential"),jo(qs,"INVALID_PENDING_TOKEN","invalid-credential"),jo(qs,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),jo(qs,"MISSING_REQ_TYPE","internal-error"),jo(qs,"EMAIL_NOT_FOUND","user-not-found"),jo(qs,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),jo(qs,"EXPIRED_OOB_CODE","expired-action-code"),jo(qs,"INVALID_OOB_CODE","invalid-action-code"),jo(qs,"MISSING_OOB_CODE","internal-error"),jo(qs,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),jo(qs,"INVALID_ID_TOKEN","invalid-user-token"),jo(qs,"TOKEN_EXPIRED","user-token-expired"),jo(qs,"USER_NOT_FOUND","user-token-expired"),jo(qs,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),jo(qs,"INVALID_CODE","invalid-verification-code"),jo(qs,"INVALID_SESSION_INFO","invalid-verification-id"),jo(qs,"INVALID_TEMPORARY_PROOF","invalid-credential"),jo(qs,"MISSING_SESSION_INFO","missing-verification-id"),jo(qs,"SESSION_EXPIRED","code-expired"),jo(qs,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),jo(qs,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),jo(qs,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),jo(qs,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),jo(qs,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),jo(qs,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),jo(qs,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),jo(qs,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),jo(qs,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),jo(qs,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),jo(qs,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),qs),Ec=new bc(3e4,6e4);function Sc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ic(e,t,n,r){return Tc.apply(this,arguments)}function Tc(){return Tc=vu(du().mark((function e(t,n,r,i){var a,o=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Cc(t,a,vu(du().mark((function e(){var a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ou(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",_c.fetch()(Dc(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}function Cc(e,t,n){return Ac.apply(this,arguments)}function Ac(){return Ac=vu(du().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},xc),n),e.prev=2,a=new Rc(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Pc(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Pc(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Pc(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Pc(t,"user-disabled",u);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw cc(t,p,d);case 34:uc(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Zo)){e.next=41;break}throw e.t0;case 41:uc(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Ac.apply(this,arguments)}function Nc(e,t,n,r){return Oc.apply(this,arguments)}function Oc(){return Oc=vu(du().mark((function e(t,n,r,i){var a,o,u=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ic(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&uc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Dc(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?wc(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Rc=function(){function e(t){var n=this;ye(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(sc(n.auth,"network-request-failed"))}),Ec.get())}))}return ge(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Pc(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=sc(e,t,r);return i.customData._tokenResponse=n,i}function Fc(e,t){return Lc.apply(this,arguments)}function Lc(){return Lc=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Mc(e,t){return jc.apply(this,arguments)}function jc(){return jc=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),jc.apply(this,arguments)}function Uc(e,t){return Vc.apply(this,arguments)}function Vc(){return Vc=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function zc(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Bc(){return Bc=vu(du().mark((function e(t){var n,r,i,a,o,u,s=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=hu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,hc((a=Kc(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:zc(qc(a.auth_time)),issuedAtTime:zc(qc(a.iat)),expirationTime:zc(qc(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function qc(e){return 1e3*Number(e)}function Kc(e){var t,n=c(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return oc("JWT malformed, contained fewer than 3 sections"),null;try{var o=Bo(i);return o?JSON.parse(o):(oc("Failed to decode base64 JWT payload"),null)}catch(u){return oc("Caught error parsing JWT payload as JSON",null===(t=u)||void 0===t?void 0:t.toString()),null}}function Gc(e,t){return Wc.apply(this,arguments)}function Wc(){return Wc=vu(du().mark((function e(t,n){var r=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Zo&&Hc(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Wc.apply(this,arguments)}function Hc(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var $c=function(){function e(t){ye(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ge(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Qc=function(){function e(t,n){ye(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ge(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Jc(e){return Yc.apply(this,arguments)}function Yc(){return Yc=vu(du().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Gc(t,Uc(r,{idToken:i}));case 6:hc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?el(o.providerUserInfo):[],s=Zc(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Qc(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Yc.apply(this,arguments)}function Xc(){return(Xc=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hu(t),e.next=3,Jc(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zc(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(ve(n),ve(t))}function el(e){return e.map((function(e){var t=e.providerId,n=Bs(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function tl(e,t){return nl.apply(this,arguments)}function nl(){return nl=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cc(t,{},vu(du().mark((function e(){var r,i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ou({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Dc(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",_c.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),nl.apply(this,arguments)}var rl=function(){function e(){ye(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ge(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){hc(e.idToken,"internal-error"),hc("undefined"!==typeof e.idToken,"internal-error"),hc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Kc(e);return hc(t,"internal-error"),hc("undefined"!==typeof t.exp,"internal-error"),hc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=vu(du().mark((function e(t){var n,r=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],hc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return dc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(hc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(hc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(hc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function il(e,t){hc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var al=function(){function e(t){ye(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Bs(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $c(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?ve(a.providerData):[],this.metadata=new Qc(a.createdAt||void 0,a.lastLoginAt||void 0)}return ge(e,[{key:"getIdToken",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gc(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(hc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Bc.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Xc.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(hc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){hc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=vu(du().mark((function e(t){var n,r,i=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Jc(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Gc(this,Fc(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;hc(k&&x,t,"internal-error");var E=rl.fromJSON(this.name,x);hc("string"===typeof k,t,"internal-error"),il(f,t.name),il(h,t.name),hc("boolean"===typeof b,t,"internal-error"),hc("boolean"===typeof w,t,"internal-error"),il(d,t.name),il(p,t.name),il(v,t.name),il(y,t.name),il(m,t.name),il(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(S.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(S._redirectEventId=y),S}},{key:"_fromIdTokenResponse",value:function(){var t=vu(du().mark((function t(n,r){var i,a,o,u=arguments;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new rl).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Jc(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),ol=function(){function e(){ye(this,e),this.type="NONE",this.storage={}}return ge(e,[{key:"_isAvailable",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();ol.type="NONE";var ul=ol;function sl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var cl=function(){function e(t,n,r){ye(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=sl(this.userKey,a.apiKey,o),this.fullPersistenceKey=sl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ge(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?al._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=vu(du().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(yc(ul),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||yc(ul),u=sl(i,n.config.apiKey,n.name),s=null,c=ht(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=al._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ll(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yl(t))return"Blackberry";if(ml(t))return"Webos";if(hl(t))return"Safari";if((t.includes("chrome/")||dl(t))&&!t.includes("edge/"))return"Chrome";if(vl(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function fl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/firefox\//i.test(e)}function hl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/crios\//i.test(e)}function pl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/iemobile/i.test(e)}function vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/android/i.test(e)}function yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/blackberry/i.test(e)}function ml(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/webos/i.test(e)}function gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function kl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return gl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function bl(){return Yo()&&10===document.documentMode}function wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return gl(e)||vl(e)||ml(e)||yl(e)||/windows phone/i.test(e)||pl(e)}function _l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ll(Wo());break;case"Worker":t="".concat(ll(Wo()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(fs,"/").concat(r)}var xl=function(){function e(t){ye(this,e),this.auth=t,this.queue=[]}return ge(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=vu(du().mark((function e(t){var n,r,i,a,o,u,s,c;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=ht(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=ht(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(nF){}}}catch(l){u.e(l)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),El=function(){function e(t,n,r){ye(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Il(this),this.idTokenSubscription=new Il(this),this.beforeStateQueue=new xl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ic,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ge(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=yc(t)),this._initializationPromise=this.queue(vu(du().mark((function r(){var i,a;return du().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,cl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=vu(du().mark((function e(t){var n,r,i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return hc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Jc(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?hu(t):null)&&hc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=vu(du().mark((function e(t){var n,r=this,i=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&hc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(vu(du().mark((function n(){return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(yc(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new eu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return hc(n=t&&yc(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,cl.create(this,[yc(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=vu(du().mark((function e(t){var n=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return hc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return hc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_l(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=vu(du().mark((function e(){var t,n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=jo({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sl(e){return hu(e)}var Il=function(){function e(t){var n=this;ye(this,e),this.auth=t,this.observer=null,this.addObserver=cu((function(e){return n.observer=e}))}return ge(e,[{key:"next",get:function(){return hc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Tl(e,t,n){var r=Sl(e);hc(r._canInitEmulator,r,"emulator-config-failed"),hc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Cl(t),o=function(e){var t=Cl(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Al(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:Al(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Cl(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Al(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Nl=function(){function e(t,n){ye(this,e),this.providerId=t,this.signInMethod=n}return ge(e,[{key:"toJSON",value:function(){return dc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return dc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return dc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return dc("not implemented")}}]),e}();function Ol(e,t){return Dl.apply(this,arguments)}function Dl(){return Dl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:resetPassword",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dl.apply(this,arguments)}function Rl(e,t){return Pl.apply(this,arguments)}function Pl(){return Pl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Pl.apply(this,arguments)}function Fl(e,t){return Ll.apply(this,arguments)}function Ll(){return Ll=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:update",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(e,t){return jl.apply(this,arguments)}function jl(){return jl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithPassword",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function Ul(e,t){return Vl.apply(this,arguments)}function Vl(){return Vl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:sendOobCode",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vl.apply(this,arguments)}function zl(e,t){return Bl.apply(this,arguments)}function Bl(){return Bl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ul(t,n));case 1:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(e,t){return Kl.apply(this,arguments)}function Kl(){return Kl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ul(t,n));case 1:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Gl(e,t){return Wl.apply(this,arguments)}function Wl(){return Wl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ul(t,n));case 1:case"end":return e.stop()}}),e)}))),Wl.apply(this,arguments)}function Hl(e,t){return $l.apply(this,arguments)}function $l(){return $l=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ul(t,n));case 1:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function Ql(e,t){return Jl.apply(this,arguments)}function Jl(){return Jl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithEmailLink",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jl.apply(this,arguments)}function Yl(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithEmailLink",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}var Zl=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ye(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ge(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ml(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ql(t,{email:this._email,oobCode:this._password}));case 5:uc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Rl(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Yl(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:uc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Nl);function ef(e,t){return tf.apply(this,arguments)}function tf(){return tf=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithIdp",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}var nf=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ge(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return ef(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ef(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ef(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ou(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):uc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Bs(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Nl);function rf(e,t){return af.apply(this,arguments)}function af(){return af=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:sendVerificationCode",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),af.apply(this,arguments)}function of(){return of=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithPhoneNumber",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),of.apply(this,arguments)}function uf(){return uf=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nc(t,"POST","/v1/accounts:signInWithPhoneNumber",Sc(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Pc(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}var sf=jo({},"USER_NOT_FOUND","user-not-found");function cf(){return cf=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithPhoneNumber",Sc(t,r),sf));case 2:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}var lf=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ge(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return of.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return uf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return cf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Nl);var ff=function(){function e(t){var n,r,i,a,o,u;ye(this,e);var s=uu(su(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);hc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ge(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=uu(su(e)).link,n=t?uu(su(t)).deep_link_id:null,r=uu(su(e)).deep_link_id;return(r?uu(su(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(xN){return null}}}]),e}();var hf=function(){function e(){ye(this,e),this.providerId=e.PROVIDER_ID}return ge(e,null,[{key:"credential",value:function(e,t){return Zl._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ff.parseLink(t);return hc(n,"argument-error"),Zl._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();hf.PROVIDER_ID="password",hf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",hf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var df=function(){function e(t){ye(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ge(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),pf=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ge(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return ve(this.scopes)}}]),n}(df),vf=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return hc(e.idToken||e.accessToken,"argument-error"),nf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return hc("providerId"in t&&"signInMethod"in t,"argument-error"),nf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(pf),yf=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.call(this,"facebook.com")}return ge(n,null,[{key:"credential",value:function(e){return nf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(xN){return null}}}]),n}(pf);yf.FACEBOOK_SIGN_IN_METHOD="facebook.com",yf.PROVIDER_ID="facebook.com";var mf=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ge(n,null,[{key:"credential",value:function(e,t){return nf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(xN){return null}}}]),n}(pf);mf.GOOGLE_SIGN_IN_METHOD="google.com",mf.PROVIDER_ID="google.com";var gf=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.call(this,"github.com")}return ge(n,null,[{key:"credential",value:function(e){return nf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(xN){return null}}}]),n}(pf);gf.GITHUB_SIGN_IN_METHOD="github.com",gf.PROVIDER_ID="github.com";var kf=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ge(n,[{key:"_getIdTokenResponse",value:function(e){return ef(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,ef(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,ef(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Nl),bf=function(e){qe(n,e);var t=$e(n);function n(e){return ye(this,n),hc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ge(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=kf.fromJSON(e);return hc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return kf._create(r,n)}catch(i){return null}}}]),n}(df),wf=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.call(this,"twitter.com")}return ge(n,null,[{key:"credential",value:function(e,t){return nf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(xN){return null}}}]),n}(pf);function _f(e,t){return xf.apply(this,arguments)}function xf(){return xf=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signUp",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),xf.apply(this,arguments)}wf.TWITTER_SIGN_IN_METHOD="twitter.com",wf.PROVIDER_ID="twitter.com";var Ef=function(){function e(t){ye(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ge(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=vu(du().mark((function t(n,r,i){var a,o,u,s,c=arguments;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,al._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Sf(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=vu(du().mark((function t(n,r,i){var a;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Sf(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Sf(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function If(){return If=vu(du().mark((function e(t){var n,r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sl(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ef({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,_f(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ef._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),If.apply(this,arguments)}var Tf=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a){var o,u;return ye(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(ze(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ge(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Zo);function Cf(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Tf._fromErrorAndOperation(e,n,t,r);throw n}))}function Af(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Nf(e,t){return Of.apply(this,arguments)}function Of(){return Of=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hu(t),e.next=3,Pf(!0,r,n);case 3:return e.t0=Mc,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Af(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Of.apply(this,arguments)}function Df(e,t){return Rf.apply(this,arguments)}function Rf(){return Rf=vu(du().mark((function e(t,n){var r,i,a=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Gc,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ef._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Rf.apply(this,arguments)}function Pf(e,t,n){return Ff.apply(this,arguments)}function Ff(){return(Ff=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc(n);case 2:i=Af(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",hc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lf(e,t){return Mf.apply(this,arguments)}function Mf(){return Mf=vu(du().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,Gc(t,Cf(a,o,n,t),r);case 6:return hc((u=e.sent).idToken,a,"internal-error"),hc(s=Kc(u.idToken),a,"internal-error"),c=s.sub,hc(t.uid===c,a,"user-mismatch"),e.abrupt("return",Ef._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&uc(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Mf.apply(this,arguments)}function jf(e,t){return Uf.apply(this,arguments)}function Uf(){return Uf=vu(du().mark((function e(t,n){var r,i,a,o,u=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Cf(t,i,n);case 4:return a=e.sent,e.next=7,Ef._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Uf.apply(this,arguments)}function Vf(e,t){return zf.apply(this,arguments)}function zf(){return zf=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jf(Sl(t),n));case 1:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}function Bf(e,t){return qf.apply(this,arguments)}function qf(){return(qf=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hu(t),e.next=3,Pf(!1,r,n.providerId);case 3:return e.abrupt("return",Df(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kf(e,t){return Gf.apply(this,arguments)}function Gf(){return(Gf=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Lf(hu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wf(e,t){return Hf.apply(this,arguments)}function Hf(){return Hf=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nc(t,"POST","/v1/accounts:signInWithCustomToken",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hf.apply(this,arguments)}function $f(){return $f=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Sl(t),e.next=3,Wf(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ef._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),$f.apply(this,arguments)}var Qf=function(){function e(t,n){ye(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ge(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Jf._fromServerResponse(e,t):uc(e,"internal-error")}}]),e}(),Jf=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ge(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Qf);function Yf(e,t,n){var r;hc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),hc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(hc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(hc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Xf(e,t,n){return Zf.apply(this,arguments)}function Zf(){return Zf=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hu(t),a={requestType:"PASSWORD_RESET",email:n},r&&Yf(i,a,r),e.next=5,ql(i,a);case 5:case"end":return e.stop()}}),e)}))),Zf.apply(this,arguments)}function eh(){return eh=vu(du().mark((function e(t,n,r){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ol(hu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),eh.apply(this,arguments)}function th(){return th=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fl(hu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),th.apply(this,arguments)}function nh(e,t){return rh.apply(this,arguments)}function rh(){return rh=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hu(t),e.next=3,Ol(r,{oobCode:n});case 3:i=e.sent,hc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return hc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:hc(i.mfaInfo,r,"internal-error");case 13:hc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Qf._fromServerResponse(Sl(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),rh.apply(this,arguments)}function ih(){return ih=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nh(hu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ih.apply(this,arguments)}function ah(e,t,n){return oh.apply(this,arguments)}function oh(){return oh=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(t),e.next=3,_f(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Ef._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),oh.apply(this,arguments)}function uh(){return uh=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hu(t),a={requestType:"EMAIL_SIGNIN",email:n},hc(r.handleCodeInApp,i,"argument-error"),r&&Yf(i,a,r),e.next=6,Gl(i,a);case 6:case"end":return e.stop()}}),e)}))),uh.apply(this,arguments)}function sh(){return sh=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hu(t),hc((a=hf.credentialWithLink(n,r||mc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Vf(i,a));case 4:case"end":return e.stop()}}),e)}))),sh.apply(this,arguments)}function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:createAuthUri",Sc(t,n)));case 1:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(){return fh=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gc()?mc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,ch(hu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function hh(){return(hh=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=hu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Yf(r.auth,a,n),e.next=8,zl(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(){return(dh=vu(du().mark((function e(t,n,r){var i,a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Yf(i.auth,o,r),e.next=8,Hl(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ph(e,t){return vh.apply(this,arguments)}function vh(){return vh=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ic(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),vh.apply(this,arguments)}function yh(){return(yh=vu(du().mark((function e(t,n){var r,i,a,o,u,s,c;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=hu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Gc(a,ph(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mh(e,t,n){return gh.apply(this,arguments)}function gh(){return gh=vu(du().mark((function e(t,n,r){var i,a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Gc(t,Rl(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}var kh=ge((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ye(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),bh=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a){var o;return ye(this,n),(o=t.call(this,e,r,i)).username=a,o}return ge(n)}(kh),wh=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"facebook.com",r)}return ge(n)}(kh),_h=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ge(n)}(bh),xh=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"google.com",r)}return ge(n)}(kh),Eh=function(e){qe(n,e);var t=$e(n);function n(e,r,i){return ye(this,n),t.call(this,e,"twitter.com",r,i)}return ge(n)}(bh);function Sh(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Kc(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new kh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new wh(a,i);case"github.com":return new _h(a,i);case"google.com":return new xh(a,i);case"twitter.com":return new Eh(a,i,e.screenName||null);case"custom":case"anonymous":return new kh(a,null);default:return new kh(a,r,i)}}(n)}var Ih=function(){function e(t,n){ye(this,e),this.type=t,this.credential=n}return ge(e,[{key:"toJSON",value:function(){return{multiFactorSession:jo({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Th=function(){function e(t,n,r){ye(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ge(e,[{key:"resolveSignIn",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Sl(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Qf._fromServerResponse(r,e)}));hc(i.mfaPendingCredential,r,"internal-error");var o=Ih._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=vu(du().mark((function e(t){var a,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ef._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return hc(n.user,r,"internal-error"),e.abrupt("return",Ef._forOperation(n.user,n.operationType,u));case 17:uc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Ch(e,t){return Ic(e,"POST","/v2/accounts/mfaEnrollment:start",Sc(e,t))}function Ah(e,t){return Ic(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Sc(e,t))}var Nh=function(){function e(t){var n=this;ye(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Qf._fromServerResponse(t.auth,e)})))}))}return ge(e,[{key:"getSession",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ih,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Gc(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=vu(du().mark((function e(t){var n,r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Gc(this.user,Ah(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Oh=new WeakMap;var Dh="__sak",Rh=function(){function e(t,n){ye(this,e),this.storageRetriever=t,this.type=n}return ge(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch(xN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ph=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Wo();return hl(e)||gl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=wl(),e._shouldAllowMigration=!0,e}return ge(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);bl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=vu(du().mark((function e(t,r){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Ke(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vu(du().mark((function e(t){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Ke(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Ke(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Rh);Ph.type="LOCAL";var Fh=Ph,Lh=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ge(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Rh);Lh.type="SESSION";var Mh=Lh;function jh(e){return Promise.all(e.map(function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Uh=function(){function e(t){ye(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ge(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=vu(du().mark((function e(t){var n,r,i,a,o,u,s,c;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,jh(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Vh(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Uh.receivers=[];var zh=function(){function e(t){ye(this,e),this.target=t,this.handlers=new Set}return ge(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=vu(du().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Vh("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Bh(){return window}function qh(){return"undefined"!==typeof Bh().WorkerGlobalScope&&"function"===typeof Bh().importScripts}function Kh(){return Gh.apply(this,arguments)}function Gh(){return(Gh=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Wh(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Hh="firebaseLocalStorageDb",$h="firebaseLocalStorage",Qh="fbase_key",Jh=function(){function e(t){ye(this,e),this.request=t}return ge(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Yh(e,t){return e.transaction([$h],t?"readwrite":"readonly").objectStore($h)}function Xh(){var e=indexedDB.deleteDatabase(Hh);return new Jh(e).toPromise()}function Zh(){var e=indexedDB.open(Hh,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore($h,{keyPath:Qh})}catch(r){n(r)}})),e.addEventListener("success",vu(du().mark((function n(){var r;return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($h)){n.next=12;break}return r.close(),n.next=5,Xh();case 5:return n.t0=t,n.next=8,Zh();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function ed(e,t,n){return td.apply(this,arguments)}function td(){return td=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Yh(t,!0).put((jo(i={},Qh,n),jo(i,"value",r),i)),e.abrupt("return",new Jh(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),td.apply(this,arguments)}function nd(e,t){return rd.apply(this,arguments)}function rd(){return rd=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Yh(t,!1).get(n),e.next=3,new Jh(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),rd.apply(this,arguments)}function id(e,t){var n=Yh(e,!0).delete(t);return new Jh(n).toPromise()}var ad=function(){function e(){ye(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ge(e,[{key:"_openDb",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Zh();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qh()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=vu(du().mark((function e(){var t=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Uh._getInstance(qh()?self:null),this.receiver._subscribe("keyChanged",function(){var e=vu(du().mark((function e(n,r){var i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=vu(du().mark((function e(){var t,n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kh();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new zh(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Wh()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Zh();case 5:return t=e.sent,e.next=8,ed(t,Dh,"1");case 8:return e.next=10,id(t,Dh);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=vu(du().mark((function e(t,n){var r=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return ed(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return nd(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=vu(du().mark((function e(t){var n=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return id(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=vu(du().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Yh(e,!1).getAll();return new Jh(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ht(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ad.type="LOCAL";var od=ad;function ud(e,t){return Ic(e,"POST","/v2/accounts/mfaSignIn:start",Sc(e,t))}function sd(e){return cd.apply(this,arguments)}function cd(){return cd=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ic(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),cd.apply(this,arguments)}function ld(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=sc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function fd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var hd=1e12,dd=function(){function e(t){ye(this,e),this.auth=t,this.counter=hd,this._widgets=new Map}return ge(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new pd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||hd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||hd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||hd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),pd=function(){function e(t,n,r){var i=this;ye(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;hc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ge(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var vd=fd("rcb"),yd=new bc(3e4,6e4),md="https://www.google.com/recaptcha/api.js?",gd=function(){function e(){var t;ye(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Bh().grecaptcha)||void 0===t?void 0:t.render)}return ge(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return hc(kd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Bh().grecaptcha):new Promise((function(r,i){var a=Bh().setTimeout((function(){i(sc(e,"network-request-failed"))}),yd.get());Bh()[vd]=function(){Bh().clearTimeout(a),delete Bh()[vd];var o=Bh().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(sc(e,"internal-error"))},ld("".concat(md,"?").concat(ou({onload:vd,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(sc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Bh().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function kd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var bd=function(){function e(){ye(this,e)}return ge(e,[{key:"load",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new dd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),wd="recaptcha",_d={theme:"light",type:"image"},xd=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},_d),r=arguments.length>2?arguments[2]:void 0;ye(this,e),this.parameters=n,this.type=wd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sl(r),this.isInvisible="invisible"===this.parameters.size,hc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;hc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bd:new gd,this.validateStartingState()}return ge(e,[{key:"verify",value:function(){var e=vu(du().mark((function e(){var t,n,r,i=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){hc(!this.parameters.sitekey,this.auth,"argument-error"),hc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),hc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Bh()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){hc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=vu(du().mark((function e(){var t,n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return hc(gc()&&!qh(),this.auth,"internal-error"),e.next=3,Ed();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,sd(this.auth);case 8:hc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return hc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Ed(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Sd=function(){function e(t,n){ye(this,e),this.verificationId=t,this.onConfirmation=n}return ge(e,[{key:"confirm",value:function(e){var t=lf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Id(){return Id=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(t),e.next=3,Nd(i,n,hu(r));case 3:return a=e.sent,e.abrupt("return",new Sd(a,(function(e){return Vf(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Id.apply(this,arguments)}function Td(e,t,n){return Cd.apply(this,arguments)}function Cd(){return(Cd=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hu(t),e.next=3,Pf(!1,i,"phone");case 3:return e.next=5,Nd(i.auth,n,hu(r));case 5:return a=e.sent,e.abrupt("return",new Sd(a,(function(e){return Bf(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ad(){return(Ad=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=hu(t),e.next=3,Nd(i.auth,n,hu(r));case 3:return a=e.sent,e.abrupt("return",new Sd(a,(function(e){return Kf(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nd(e,t,n){return Od.apply(this,arguments)}function Od(){return Od=vu(du().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,hc("string"===typeof a,t,"argument-error"),hc(r.type===wd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return hc("enroll"===u.type,t,"internal-error"),e.next=13,Ch(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return hc("signin"===u.type,t,"internal-error"),hc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,ud(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,rf(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Od.apply(this,arguments)}function Dd(){return(Dd=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Df(hu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rd=function(){function e(t){ye(this,e),this.providerId=e.PROVIDER_ID,this.auth=Sl(t)}return ge(e,[{key:"verifyPhoneNumber",value:function(e,t){return Nd(this.auth,e,hu(t))}}],[{key:"credential",value:function(e,t){return lf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?lf._fromTokenResponse(n,r):null}}]),e}();function Pd(e,t){return t?yc(t):(hc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Rd.PROVIDER_ID="phone",Rd.PHONE_SIGN_IN_METHOD="phone";var Fd=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ge(n,[{key:"_getIdTokenResponse",value:function(e){return ef(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return ef(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return ef(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Nl);function Ld(e){return jf(e.auth,new Fd(e),e.bypassAuthState)}function Md(e){var t=e.auth,n=e.user;return hc(n,t,"internal-error"),Lf(n,new Fd(e),e.bypassAuthState)}function jd(e){return Ud.apply(this,arguments)}function Ud(){return Ud=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,hc(r=t.user,n,"internal-error"),e.abrupt("return",Df(r,new Fd(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}var Vd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ye(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ge(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=vu(du().mark((function t(n,r){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=vu(du().mark((function e(t){var n,r,i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ld;case"linkViaPopup":case"linkViaRedirect":return jd;case"reauthViaPopup":case"reauthViaRedirect":return Md;default:uc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){pc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){pc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),zd=new bc(2e3,1e4);function Bd(e,t,n){return qd.apply(this,arguments)}function qd(){return qd=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(t),lc(t,n,df),a=Pd(i,r),o=new Hd(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),qd.apply(this,arguments)}function Kd(){return(Kd=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc((i=hu(t)).auth,n,df),a=Pd(i.auth,r),o=new Hd(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gd(e,t,n){return Wd.apply(this,arguments)}function Wd(){return(Wd=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc((i=hu(t)).auth,n,df),a=Pd(i.auth,r),o=new Hd(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hd=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a,o){var u;return ye(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=ze(u),u}return ge(n,[{key:"executeNotNull",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return hc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vu(du().mark((function e(){var t,n=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pc(1===this.filter.length,"Popup operations only handle one event"),t=Vh(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(sc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(sc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(sc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,zd.get())}()}}]),n}(Vd);Hd.currentPopupAction=null;var $d=new Map,Qd=function(e){qe(n,e);var t=$e(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ye(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ge(n,[{key:"execute",value:function(){var e=vu(du().mark((function e(){var t,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=$d.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Jd(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,At(Ke(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:$d.set(this.auth._key(),t);case 21:return this.bypassAuthState||$d.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=vu(du().mark((function e(t){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",At(Ke(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",At(Ke(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Vd);function Jd(e,t){return Yd.apply(this,arguments)}function Yd(){return Yd=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=np(n),i=tp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Yd.apply(this,arguments)}function Xd(e,t){return Zd.apply(this,arguments)}function Zd(){return Zd=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tp(t)._set(np(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Zd.apply(this,arguments)}function ep(e,t){$d.set(e._key(),t)}function tp(e){return yc(e._redirectPersistence)}function np(e){return sl("pendingRedirect",e.config.apiKey,e.name)}function rp(e,t,n){return function(e,t,n){return ip.apply(this,arguments)}(e,t,n)}function ip(){return ip=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Sl(t),lc(t,n,df),a=Pd(i,r),e.next=5,Xd(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),ip.apply(this,arguments)}function ap(e,t,n){return function(e,t,n){return op.apply(this,arguments)}(e,t,n)}function op(){return(op=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc((i=hu(t)).auth,n,df),a=Pd(i.auth,r),e.next=5,Xd(a,i.auth);case 5:return e.next=7,dp(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function up(e,t,n){return function(e,t,n){return sp.apply(this,arguments)}(e,t,n)}function sp(){return(sp=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lc((i=hu(t)).auth,n,df),a=Pd(i.auth,r),e.next=5,Pf(!1,i,n.providerId);case 5:return e.next=7,Xd(a,i.auth);case 7:return e.next=9,dp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cp(e,t){return lp.apply(this,arguments)}function lp(){return lp=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sl(t)._initializationPromise;case 2:return e.abrupt("return",fp(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),lp.apply(this,arguments)}function fp(e,t){return hp.apply(this,arguments)}function hp(){return hp=vu(du().mark((function e(t,n){var r,i,a,o,u,s=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Sl(t),a=Pd(i,n),o=new Qd(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),hp.apply(this,arguments)}function dp(e){return pp.apply(this,arguments)}function pp(){return(pp=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vh("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vp=function(){function e(t){ye(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ge(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!mp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(sc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(yp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function yp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function mp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function gp(e){return kp.apply(this,arguments)}function kp(){return kp=vu(du().mark((function e(t){var n,r=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Ic(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),kp.apply(this,arguments)}var bp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wp=/^https?/;function _p(){return _p=vu(du().mark((function e(t){var n,r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,gp(t);case 4:n=e.sent,r=n.authorizedDomains,i=ht(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!xp(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:uc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),_p.apply(this,arguments)}function xp(e){var t=mc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!wp.test(r))return!1;if(bp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ep=new bc(3e4,6e4);function Sp(){var e=Bh().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=ve(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ip=null;function Tp(e){return Ip=Ip||function(e){return new Promise((function(t,n){var r,i,a;function o(){Sp(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Sp(),n(sc(e,"network-request-failed"))},timeout:Ep.get()})}if(null===(i=null===(r=Bh().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Bh().gapi)||void 0===a?void 0:a.load)){var u=fd("iframefcb");return Bh()[u]=function(){gapi.load?o():n(sc(e,"network-request-failed"))},ld("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Ip=null,e}))}(e),Ip}var Cp=new bc(5e3,15e3),Ap={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Np=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Op(e){var t=e.config;hc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?wc(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:fs},i=Np.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ou(r).slice(1))}function Dp(e){return Rp.apply(this,arguments)}function Rp(){return Rp=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tp(t);case 2:return n=e.sent,hc(r=Bh().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Op(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ap,dontclear:!0},(function(e){return new Promise(function(){var n=vu(du().mark((function n(r,i){var a,o,u;return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Bh().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=sc(t,"network-request-failed"),o=Bh().setTimeout((function(){i(a)}),Cp.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Rp.apply(this,arguments)}var Pp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fp="_blank",Lp="http://localhost",Mp=function(){function e(t){ye(this,e),this.window=t,this.associatedEvent=null}return ge(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function jp(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},Pp),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Wo().toLowerCase();n&&(u=dl(l)?Fp:n),fl(l)&&(t=t||Lp,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(kl(l)&&"_self"!==u)return Up(t||"",u),new Mp(null);var h=window.open(t||"",u,f);hc(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Mp(h)}function Up(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Vp="__/auth/handler",zp="emulator/auth/handler";function Bp(e,t,n,r,i,a){hc(e.config.authDomain,e,"auth-domain-config-required"),hc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(t instanceof df){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof pf){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Vp);return wc(t,zp)}(e),"?").concat(ou(p).slice(1))}var qp="webStorageSupport",Kp=function(){function e(){ye(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mh,this._completeRedirectFn=fp,this._overrideRedirectResult=ep}return ge(e,[{key:"_openPopup",value:function(){var e=vu(du().mark((function e(t,n,r,i){var a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Bp(t,n,r,mc(),i),e.abrupt("return",jp(t,o,Vh()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vu(du().mark((function e(t,n,r,i){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Bp(t,n,r,mc(),i),Bh().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(pc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dp(t);case 2:return n=e.sent,r=new vp(t),n.register("authEvent",(function(e){return hc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(qp,{type:qp},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),uc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _p.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return wl()||hl()||gl()}}]),e}(),Gp=Kp,Wp=function(){function e(t){ye(this,e),this.factorId=t}return ge(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return dc("unexpected MultiFactorSessionType")}}}]),e}(),Hp=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,"phone")).credential=e,r}return ge(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Ic(e,"POST","/v2/accounts/mfaEnrollment:finalize",Sc(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ic(e,"POST","/v2/accounts/mfaSignIn:finalize",Sc(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Wp),$p=function(){function e(){ye(this,e)}return ge(e,null,[{key:"assertion",value:function(e){return Hp._fromCredential(e)}}]),e}();$p.FACTOR_ID="phone";var Qp,Jp="@firebase/auth",Yp="0.20.5",Xp=function(){function e(t){ye(this,e),this.auth=t,this.internalListeners=new Map}return ge(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){hc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Zp(){return window}Qp="Browser",is(new yu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){hc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),hc(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Qp,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_l(Qp)},i=new El(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(yc);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),is(new yu("auth-internal",(function(e){return function(e){return new Xp(e)}(Sl(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),ms(Jp,Yp,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Qp)),ms(Jp,Yp,"esm2017");function ev(e,t,n){return tv.apply(this,arguments)}function tv(){return tv=vu(du().mark((function e(t,n,r){var i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Zp(),o=a.BuildInfo,pc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,uv(n.sessionId);case 4:return u=e.sent,s={},gl()?s.ibi=o.packageName:vl()?s.apn=o.packageName:uc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Bp(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),tv.apply(this,arguments)}function nv(){return nv=vu(du().mark((function e(t){var n,r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Zp(),r=n.BuildInfo,i={},gl()?i.iosBundleId=r.packageName:vl()?i.androidPackageName=r.packageName:uc(t,"operation-not-supported-in-this-environment"),e.next=5,gp(t,i);case 5:case"end":return e.stop()}}),e)}))),nv.apply(this,arguments)}function rv(e){var t=Zp().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function iv(e,t,n){return av.apply(this,arguments)}function av(){return av=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Zp(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(sc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),vl()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),av.apply(this,arguments)}function ov(e){var t,n,r,i,a,o,u,s,c,l,f=Zp();hc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),hc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),hc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),hc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function uv(e){return sv.apply(this,arguments)}function sv(){return(sv=vu(du().mark((function e(t){var n,r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=cv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cv(e){if(pc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var lv=function(e){qe(n,e);var t=$e(n);function n(){var e;return ye(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ge(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),At(Ke(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vp);function fv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:yv(),postBody:null,tenantId:e.tenantId,error:sc(e,"no-auth-event")}}function hv(e,t){return mv()._set(gv(e),t)}function dv(e){return pv.apply(this,arguments)}function pv(){return pv=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mv()._get(gv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,mv()._remove(gv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),pv.apply(this,arguments)}function vv(e,t){var n,r,i=function(e){var t=kv(e),n=t.link?decodeURIComponent(t.link):void 0,r=kv(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return kv(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=kv(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?sc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function yv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function mv(){return yc(Fh)}function gv(e){return sl("authEvent",e.config.apiKey,e.name)}function kv(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||pe(t)||u(t)||s();r[0];return uu(r.slice(1).join("?"))}var bv=function(){function e(){ye(this,e),this._redirectPersistence=Mh,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fp,this._overrideRedirectResult=ep}return ge(e,[{key:"_initialize",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new lv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){uc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=vu(du().mark((function e(t,n,r,i){var a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ov(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),$d.clear(),e.next=10,this._originValidation(t);case 10:return o=fv(t,r,i),e.next=13,hv(t,o);case 13:return e.next=15,ev(t,o,n);case 15:return u=e.sent,e.next=18,rv(u);case 18:return s=e.sent,e.abrupt("return",iv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return nv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Zp(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(vu(du().mark((function n(){return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,dv(e);case 2:t.onEvent(_v());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=vu(du().mark((function n(r){var i,a;return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,dv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=vv(i,r.url)),t.onEvent(a||_v());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Zp().handleOpenURL=function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),wv=bv;function _v(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:sc("no-auth-event")}}function xv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ev(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return!("file:"!==xv()&&"ionic:"!==xv()&&"capacitor:"!==xv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sv(){return Yo()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Iv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return/Edge\/\d+/.test(e)}function Tv(){try{var e=self.localStorage,t=Vh();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo();return Sv()||Iv(e)}()||Xo()}catch(n){return Cv()&&Xo()}return!1}function Cv(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Av(){return("http:"===xv()||"https:"===xv()||Qo()||Ev())&&!(Jo()||$o())&&Tv()&&!Cv()}function Nv(){return Ev()&&"undefined"!==typeof document}function Ov(){return Dv.apply(this,arguments)}function Dv(){return(Dv=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nv()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rv={LOCAL:"local",NONE:"none",SESSION:"session"},Pv=hc,Fv="persistence";function Lv(e,t){Pv(Object.values(Rv).includes(t),e,"invalid-persistence-type"),Jo()?Pv(t!==Rv.SESSION,e,"unsupported-persistence-type"):$o()?Pv(t===Rv.NONE,e,"unsupported-persistence-type"):Cv()?Pv(t===Rv.NONE||t===Rv.LOCAL&&Xo(),e,"unsupported-persistence-type"):Pv(t===Rv.NONE||Tv(),e,"unsupported-persistence-type")}function Mv(e){return jv.apply(this,arguments)}function jv(){return jv=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Uv(),r=sl(Fv,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Uv(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Vv=hc,zv=function(){function e(){ye(this,e),this.browserResolver=yc(Gp),this.cordovaResolver=yc(wv),this.underlyingResolver=null,this._redirectPersistence=Mh,this._completeRedirectFn=fp,this._overrideRedirectResult=ep}return ge(e,[{key:"_initialize",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=vu(du().mark((function e(t,n,r,i){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=vu(du().mark((function e(t,n,r,i){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Nv()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Vv(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ov();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Bv(e){return e.unwrap()}function qv(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new $v(e,function(e,t){var n,r=hu(e),i=t;return hc(t.customData.operationType,r,"argument-error"),hc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Th._fromError(r,i)}(e,t));else if(i){var a=Kv(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function Kv(e){var t=(e instanceof Zo?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Zo)&&"temporaryProof"in t&&"phoneNumber"in t)return Rd.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Hs)return null;switch(r){case Ws:n=mf;break;case Ks:n=yf;break;case Gs:n=gf;break;case $s:n=wf;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?kf._create(r,u):nf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new vf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Zo?n.credentialFromError(e):n.credentialFromResult(e)}function Gv(e,t){return t.catch((function(t){throw t instanceof Zo&&qv(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Kv(t)),additionalUserInfo:Sh(e),user:Qv.getOrCreate(r)}}))}function Wv(e,t){return Hv.apply(this,arguments)}function Hv(){return Hv=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Gv(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Hv.apply(this,arguments)}var $v=function(){function e(t,n){ye(this,e),this.resolver=n,this.auth=function(e){return e.wrapped()}(t)}return ge(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Gv(Bv(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Qv=function(){function e(t){ye(this,e),this._delegate=t,this.multiFactor=function(e){var t=hu(e);return Oh.has(t)||Oh.set(t,Nh._fromUser(t)),Oh.get(t)}(t)}return ge(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this.auth,Bf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wv(this.auth,Td(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this.auth,Gd(this._delegate,t,zv)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(Sl(this.auth));case 2:return e.abrupt("return",up(this._delegate,t,zv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this.auth,Kf(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Wv(this.auth,function(e,t,n){return Ad.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Gv(this.auth,function(e,t,n){return Kd.apply(this,arguments)}(this._delegate,e,zv))}},{key:"reauthenticateWithRedirect",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(Sl(this.auth));case 2:return e.abrupt("return",ap(this._delegate,t,zv));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return hh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nf(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return mh(hu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return mh(hu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Dd.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return yh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return dh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Qv.USER_MAP=new WeakMap;var Jv=hc,Yv=function(){function e(t,n){if(ye(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Jv(r,"invalid-api-key",{appName:t.name}),Jv(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?zv:void 0;this._delegate=n.initialize({options:{persistence:Zv(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(nc),this.linkUnderlyingAuth()}return ge(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Qv.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Tl(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return th.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return nh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return eh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gv(this._delegate,ah(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return fh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ff.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jv(Av(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,cp(this._delegate,zv);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Gv(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Sl(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Xv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Xv(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return uh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return Xf(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Lv(this._delegate,t),e.t0=t,e.next=e.t0===Rv.SESSION?4:e.t0===Rv.LOCAL?6:e.t0===Rv.NONE?11:13;break;case 4:return n=Mh,e.abrupt("break",14);case 6:return e.next=8,yc(od)._isAvailable();case 8:return r=e.sent,n=r?od:Fh,e.abrupt("break",14);case 11:return n=ul,e.abrupt("break",14);case 13:return e.abrupt("return",uc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Gv(this._delegate,function(e){return If.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Gv(this._delegate,Vf(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Gv(this._delegate,function(e,t){return $f.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Gv(this._delegate,function(e,t,n){return Vf(hu(e),hf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Gv(this._delegate,function(e,t,n){return sh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Wv(this._delegate,function(e,t,n){return Id.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jv(Av(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Gv(this._delegate,Bd(this._delegate,t,zv)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jv(Av(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Mv(this._delegate);case 3:return e.abrupt("return",rp(this._delegate,t,zv));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ih.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Xv(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Qv.getOrCreate(e))},error:t,complete:n}}function Zv(e,t){var n=function(e,t){var n=Uv();if(!n)return[];var r=sl(Fv,e,t);switch(n.getItem(r)){case Rv.NONE:return[ul];case Rv.LOCAL:return[od,Mh];case Rv.SESSION:return[Mh];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(od)||n.push(od),"undefined"!==typeof window)for(var r=0,i=[Fh,Mh];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ul)||n.push(ul),n}Yv.Persistence=Rv;var ey=function(){function e(){ye(this,e),this.providerId="phone",this._delegate=new Rd(Bv(zs.auth()))}return ge(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Rd.credential(e,t)}}]),e}();ey.PHONE_SIGN_IN_METHOD=Rd.PHONE_SIGN_IN_METHOD,ey.PROVIDER_ID=Rd.PROVIDER_ID;var ty,ny=hc,ry=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zs.app();ye(this,e),ny(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new xd(t,n,i.auth()),this.type=this._delegate.type}return ge(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ty=zs).INTERNAL.registerComponent(new yu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Yv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Qs,PASSWORD_RESET:Js,RECOVER_EMAIL:Ys,REVERT_SECOND_FACTOR_ADDITION:Xs,VERIFY_AND_CHANGE_EMAIL:Zs,VERIFY_EMAIL:ec}},EmailAuthProvider:hf,FacebookAuthProvider:yf,GithubAuthProvider:gf,GoogleAuthProvider:mf,OAuthProvider:vf,SAMLAuthProvider:bf,PhoneAuthProvider:ey,PhoneMultiFactorGenerator:$p,RecaptchaVerifier:ry,TwitterAuthProvider:wf,Auth:Yv,AuthCredential:Nl,Error:Zo}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ty.registerVersion("@firebase/auth-compat","0.2.18");var iy,ay="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},oy={},uy=uy||{},sy=ay||self;function cy(){}function ly(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fy(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var hy="closure_uid_"+(1e9*Math.random()>>>0),dy=0;function py(e,t,n){return e.call.apply(e.bind,arguments)}function vy(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function yy(e,t,n){return(yy=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?py:vy).apply(null,arguments)}function my(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gy(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ky(){this.s=this.s,this.o=this.o}var by={};ky.prototype.s=!1,ky.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,hy)&&e[hy]||(e[hy]=++dy)}(this);delete by[e]}},ky.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wy=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},_y=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function xy(e){return Array.prototype.concat.apply([],arguments)}function Ey(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Sy(e){return/^[\s\xa0]*$/.test(e)}var Iy,Ty=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Cy(e,t){return-1!=e.indexOf(t)}function Ay(e,t){return e<t?-1:e>t?1:0}e:{var Ny=sy.navigator;if(Ny){var Oy=Ny.userAgent;if(Oy){Iy=Oy;break e}}Iy=""}function Dy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ry(e){var t={};for(var n in e)t[n]=e[n];return t}var Py="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Py.length;a++)n=Py[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ly(e){return Ly[" "](e),e}Ly[" "]=cy;var My,jy=Cy(Iy,"Opera"),Uy=Cy(Iy,"Trident")||Cy(Iy,"MSIE"),Vy=Cy(Iy,"Edge"),zy=Vy||Uy,By=Cy(Iy,"Gecko")&&!(Cy(Iy.toLowerCase(),"webkit")&&!Cy(Iy,"Edge"))&&!(Cy(Iy,"Trident")||Cy(Iy,"MSIE"))&&!Cy(Iy,"Edge"),qy=Cy(Iy.toLowerCase(),"webkit")&&!Cy(Iy,"Edge");function Ky(){var e=sy.document;return e?e.documentMode:void 0}e:{var Gy="",Wy=function(){var e=Iy;return By?/rv:([^\);]+)(\)|;)/.exec(e):Vy?/Edge\/([\d\.]+)/.exec(e):Uy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qy?/WebKit\/(\S+)/.exec(e):jy?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wy&&(Gy=Wy?Wy[1]:""),Uy){var Hy=Ky();if(null!=Hy&&Hy>parseFloat(Gy)){My=String(Hy);break e}}My=Gy}var $y,Qy={};function Jy(){return function(e){var t=Qy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ty(String(My)).split("."),n=Ty("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Ay(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Ay(0==a[2].length,0==o[2].length)||Ay(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(sy.document&&Uy){var Yy=Ky();$y=Yy||(parseInt(My,10)||void 0)}else $y=void 0;var Xy=$y,Zy=function(){if(!sy.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sy.addEventListener("test",cy,t),sy.removeEventListener("test",cy,t)}catch(n){}return e}();function em(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function tm(e,t){if(em.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(By){e:{try{Ly(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nm[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&tm.Z.h.call(this)}}em.prototype.h=function(){this.defaultPrevented=!0},gy(tm,em);var nm={2:"touch",3:"pen",4:"mouse"};tm.prototype.h=function(){tm.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rm="closure_listenable_"+(1e6*Math.random()|0),im=0;function am(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++im,this.ca=this.fa=!1}function om(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function um(e){this.src=e,this.g={},this.h=0}function sm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wy(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(om(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cm(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}um.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=cm(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new am(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var lm="closure_lm_"+(1e6*Math.random()|0),fm={};function hm(e,t,n,r,i){if(r&&r.once)return pm(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)hm(e,t[a],n,r,i);return null}return n=wm(n),e&&e[rm]?e.N(t,n,fy(r)?!!r.capture:!!r,i):dm(e,t,n,!1,r,i)}function dm(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=fy(i)?!!i.capture:!!i,u=km(e);if(u||(e[lm]=u=new um(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=gm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zy||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mm(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function pm(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)pm(e,t[a],n,r,i);return null}return n=wm(n),e&&e[rm]?e.O(t,n,fy(r)?!!r.capture:!!r,i):dm(e,t,n,!0,r,i)}function vm(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)vm(e,t[a],n,r,i);else r=fy(r)?!!r.capture:!!r,n=wm(n),e&&e[rm]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cm(a=e.g[t],n,r,i))&&(om(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=km(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cm(t,n,r,i)),(n=-1<e?t[e]:null)&&ym(n))}function ym(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[rm])sm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mm(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=km(t))?(sm(n,e),0==n.h&&(n.src=null,t[lm]=null)):om(e)}}}function mm(e){return e in fm?fm[e]:fm[e]="on"+e}function gm(e,t){if(e.ca)e=!0;else{t=new tm(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ym(e),e=n.call(r,t)}return e}function km(e){return(e=e[lm])instanceof um?e:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function wm(e){return"function"===typeof e?e:(e[bm]||(e[bm]=function(t){return e.handleEvent(t)}),e[bm])}function _m(){ky.call(this),this.i=new um(this),this.P=this,this.I=null}function xm(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new em(t,e);else if(t instanceof em)t.target=t.target||e;else{var i=t;Fy(t=new em(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Em(o,r,!0,t)&&i}if(i=Em(o=t.g=e,r,!0,t)&&i,i=Em(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Em(o=t.g=n[a],r,!1,t)&&i}function Em(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&sm(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}gy(_m,ky),_m.prototype[rm]=!0,_m.prototype.removeEventListener=function(e,t,n,r){vm(this,e,t,n,r)},_m.prototype.M=function(){if(_m.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)om(n[r]);delete t.g[e],t.h--}}this.I=null},_m.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_m.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Sm=sy.JSON.stringify;function Im(){var e=Pm,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Tm,Cm=function(){function e(){ye(this,e),this.h=this.g=null}return ge(e,[{key:"add",value:function(e,t){var n=Am.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Am=new(function(){function e(t,n){ye(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ge(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Nm}),(function(e){return e.reset()})),Nm=function(){function e(){ye(this,e),this.next=this.g=this.h=null}return ge(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Om(e){sy.setTimeout((function(){throw e}),0)}function Dm(e,t){Tm||function(){var e=sy.Promise.resolve(void 0);Tm=function(){e.then(Fm)}}(),Rm||(Tm(),Rm=!0),Pm.add(e,t)}var Rm=!1,Pm=new Cm;function Fm(){for(var e;e=Im();){try{e.h.call(e.g)}catch(n){Om(n)}var t=Am;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Rm=!1}function Lm(e,t){_m.call(this),this.h=e||1,this.g=t||sy,this.j=yy(this.kb,this),this.l=Date.now()}function Mm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function jm(e,t,n){if("function"===typeof e)n&&(e=yy(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=yy(e.handleEvent,e)}return 2147483647<Number(t)?-1:sy.setTimeout(e,t||0)}function Um(e){e.g=jm((function(){e.g=null,e.i&&(e.i=!1,Um(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}gy(Lm,_m),(iy=Lm.prototype).da=!1,iy.S=null,iy.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xm(this,"tick"),this.da&&(Mm(this),this.start()))}},iy.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},iy.M=function(){Lm.Z.M.call(this),Mm(this),delete this.g};var Vm=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ge(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Um(this)}},{key:"M",value:function(){At(Ke(n.prototype),"M",this).call(this),this.g&&(sy.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ky);function zm(e){ky.call(this),this.h=e,this.g={}}gy(zm,ky);var Bm=[];function qm(e,t,n,r){Array.isArray(n)||(n&&(Bm[0]=n.toString()),n=Bm);for(var i=0;i<n.length;i++){var a=hm(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Km(e){Dy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ym(e)}),e),e.g={}}function Gm(){this.g=!0}function Wm(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Sm(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}zm.prototype.M=function(){zm.Z.M.call(this),Km(this)},zm.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gm.prototype.Aa=function(){this.g=!1},Gm.prototype.info=function(){};var Hm={},$m=null;function Qm(){return $m=$m||new _m}function Jm(e){em.call(this,Hm.Ma,e)}function Ym(e){var t=Qm();xm(t,new Jm(t,e))}function Xm(e,t){em.call(this,Hm.STAT_EVENT,e),this.stat=t}function Zm(e){var t=Qm();xm(t,new Xm(t,e))}function eg(e,t){em.call(this,Hm.Na,e),this.size=t}function tg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sy.setTimeout((function(){e()}),t)}Hm.Ma="serverreachability",gy(Jm,em),Hm.STAT_EVENT="statevent",gy(Xm,em),Hm.Na="timingevent",gy(eg,em);var ng={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},rg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ig(){}function ag(e){return e.h||(e.h=e.i())}function og(){}ig.prototype.h=null;var ug,sg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cg(){em.call(this,"d")}function lg(){em.call(this,"c")}function fg(){}function hg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new zm(this),this.P=pg,e=zy?125:void 0,this.W=new Lm(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new dg}function dg(){this.i=null,this.g="",this.h=!1}gy(cg,em),gy(lg,em),gy(fg,ig),fg.prototype.g=function(){return new XMLHttpRequest},fg.prototype.i=function(){return{}},ug=new fg;var pg=45e3,vg={},yg={};function mg(e,t,n){e.K=1,e.v=Vg(Pg(t)),e.s=n,e.U=!0,gg(e,null)}function gg(e,t){e.F=Date.now(),_g(e),e.A=Pg(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Zg(n.h,"t",r),e.C=0,n=e.l.H,e.h=new dg,e.g=tb(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Vm(yy(e.Ia,e,e.g),e.O)),qm(e.V,e.g,"readystatechange",e.gb),t=e.H?Ry(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ym(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function kg(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function bg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=wg(e,n))==yg){4==t&&(e.o=4,Zm(14),i=!1),Wm(e.j,e.m,null,"[Incomplete Response]");break}if(r==vg){e.o=4,Zm(15),Wm(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wm(e.j,e.m,r,null),Tg(e,r)}kg(e)&&r!=yg&&r!=vg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Zm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hk(t),t.L=!0,Zm(11))):(Wm(e.j,e.m,n,"[Invalid Chunked Response]"),Ig(e),Sg(e))}function wg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yg:(n=Number(t.substring(n,r)),isNaN(n)?vg:(r+=1)+n>t.length?yg:(t=t.substr(r,n),e.C=r+n,t))}function _g(e){e.Y=Date.now()+e.P,xg(e,e.P)}function xg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tg(yy(e.eb,e),t)}function Eg(e){e.B&&(sy.clearTimeout(e.B),e.B=null)}function Sg(e){0==e.l.G||e.I||Jk(e.l,e)}function Ig(e){Eg(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Mm(e.W),Km(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Tg(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||uk(n.i,e)))if(n.I=e.N,!e.J&&uk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Qk(n),jk(n)}Wk(n),Zm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=tg(yy(n.ab,n),6e3));if(1>=ok(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Xk(n,11)}else if((e.J||n.g==e)&&Qk(n),!Sy(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Cy(l,"spdy")||Cy(l,"quic")||Cy(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(sk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Ug(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=eb(r,r.H?r.la:null,r.W),d.J){ck(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Eg(p),_g(p)),r.g=d}else Gk(r);0<n.l.length&&zk(n)}else"stop"!=a[0]&&"close"!=a[0]||Xk(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Xk(n,7):Mk(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Ym(4)}catch(a){}}function Cg(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(ly(e)||"string"===typeof e)_y(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(ly(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(ly(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Ag(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ag)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ng(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Og(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Og(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Og(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(iy=hg.prototype).setTimeout=function(e){this.P=e},iy.gb=function(e){e=e.target;var t=this.L;t&&3==Dk(e)?t.l():this.Ia(e)},iy.Ia=function(e){try{if(e==this.g)e:{var t=Dk(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||zy||this.g&&(this.h.h||this.g.ga()||Rk(this.g)))){this.I||4!=t||7==n||Ym(8==n||0>=r?3:2),Eg(this);var i=this.g.ba();this.N=i;t:if(kg(this)){var a=Rk(this.g);e="";var o=a.length,u=4==Dk(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ig(this),Sg(this);var s="";break t}this.h.i=new sy.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sy(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Zm(12),Ig(this),Sg(this);break e}Wm(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Tg(this,i)}this.U?(bg(this,t,s),zy&&this.i&&3==t&&(qm(this.V,this.W,"tick",this.fb),this.W.start())):(Wm(this.j,this.m,s,null),Tg(this,s)),4==t&&Ig(this),this.i&&!this.I&&(4==t?Jk(this.l,this):(this.i=!1,_g(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Zm(12)):(this.o=0,Zm(13)),Ig(this),Sg(this)}}}catch(t){}},iy.fb=function(){if(this.g){var e=Dk(this.g),t=this.g.ga();this.C<t.length&&(Eg(this),bg(this,e,t),this.i&&4!=e&&_g(this))}},iy.cancel=function(){this.I=!0,Ig(this)},iy.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Ym(3),Zm(17)),Ig(this),this.o=2,Sg(this)):xg(this,this.Y-e)},(iy=Ag.prototype).R=function(){Ng(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},iy.T=function(){return Ng(this),this.g.concat()},iy.get=function(e,t){return Og(this.h,e)?this.h[e]:t},iy.set=function(e,t){Og(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},iy.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Dg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rg(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Rg){this.g=void 0!==t?t:e.g,Fg(this,e.j),this.s=e.s,Lg(this,e.i),Mg(this,e.m),this.l=e.l,t=e.h;var n=new Qg;n.i=t.i,t.g&&(n.g=new Ag(t.g),n.h=t.h),jg(this,n),this.o=e.o}else e&&(n=String(e).match(Dg))?(this.g=!!t,Fg(this,n[1]||"",!0),this.s=zg(n[2]||""),Lg(this,n[3]||"",!0),Mg(this,n[4]),this.l=zg(n[5]||"",!0),jg(this,n[6]||"",!0),this.o=zg(n[7]||"")):(this.g=!!t,this.h=new Qg(null,this.g))}function Pg(e){return new Rg(e)}function Fg(e,t,n){e.j=n?zg(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Lg(e,t,n){e.i=n?zg(t,!0):t}function Mg(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jg(e,t,n){t instanceof Qg?(e.h=t,function(e,t){t&&!e.j&&(Jg(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Yg(this,t),Zg(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Bg(t,Hg)),e.h=new Qg(t,e.g))}function Ug(e,t,n){e.h.set(t,n)}function Vg(e){return Ug(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function zg(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Bg(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qg),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qg(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rg.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Bg(t,Kg,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Bg(t,Kg,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Bg(n,"/"==n.charAt(0)?Wg:Gg,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Bg(n,$g)),e.join("")};var Kg=/[#\/\?@]/g,Gg=/[#\?:]/g,Wg=/[#\?]/g,Hg=/[#\?@]/g,$g=/#/g;function Qg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jg(e){e.g||(e.g=new Ag,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Yg(e,t){Jg(e),t=ek(e,t),Og(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Og((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ng(e)))}function Xg(e,t){return Jg(e),t=ek(e,t),Og(e.g.h,t)}function Zg(e,t,n){Yg(e,t),0<n.length&&(e.i=null,e.g.set(ek(e,t),Ey(n)),e.h+=n.length)}function ek(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(iy=Qg.prototype).add=function(e,t){Jg(this),this.i=null,e=ek(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},iy.forEach=function(e,t){Jg(this),this.g.forEach((function(n,r){_y(n,(function(n){e.call(t,n,r,this)}),this)}),this)},iy.T=function(){Jg(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},iy.R=function(e){Jg(this);var t=[];if("string"===typeof e)Xg(this,e)&&(t=xy(t,this.g.get(ek(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=xy(t,e[n])}return t},iy.set=function(e,t){return Jg(this),this.i=null,Xg(this,e=ek(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},iy.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},iy.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var tk=ge((function e(t,n){ye(this,e),this.h=t,this.g=n}));function nk(e){this.l=e||ik,sy.PerformanceNavigationTiming?e=0<(e=sy.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sy.g&&sy.g.Ea&&sy.g.Ea()&&sy.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rk,ik=10;function ak(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ok(e){return e.h?1:e.g?e.g.size:0}function uk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function sk(e,t){e.g?e.g.add(t):e.h=t}function ck(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function lk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ht(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ey(e.i)}function fk(){}function hk(){this.g=new fk}function dk(e,t,n){var r=n||"";try{Cg(e,(function(e,n){var i=e;fy(e)&&(i=Sm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function pk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function vk(e){this.l=e.$b||null,this.j=e.ib||!1}function yk(e,t){_m.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=mk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}nk.prototype.cancel=function(){if(this.i=lk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ht(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},fk.prototype.stringify=function(e){return sy.JSON.stringify(e,void 0)},fk.prototype.parse=function(e){return sy.JSON.parse(e,void 0)},gy(vk,ig),vk.prototype.g=function(){return new yk(this.l,this.j)},vk.prototype.i=(rk={},function(){return rk}),gy(yk,_m);var mk=0;function gk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function kk(e){e.readyState=4,e.l=null,e.j=null,e.A=null,bk(e)}function bk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(iy=yk.prototype).open=function(e,t){if(this.readyState!=mk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,bk(this)},iy.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||sy).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},iy.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kk(this)),this.readyState=mk},iy.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,bk(this)),this.g&&(this.readyState=3,bk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof sy.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;gk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},iy.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kk(this):bk(this),3==this.readyState&&gk(this)}},iy.Ua=function(e){this.g&&(this.response=this.responseText=e,kk(this))},iy.Ta=function(e){this.g&&(this.response=e,kk(this))},iy.ha=function(){this.g&&kk(this)},iy.setRequestHeader=function(e,t){this.v.append(e,t)},iy.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},iy.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(yk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var wk=sy.JSON.parse;function _k(e){_m.call(this),this.headers=new Ag,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xk,this.K=this.L=!1}gy(_k,_m);var xk="",Ek=/^https?$/i,Sk=["POST","PUT"];function Ik(e){return"content-type"==e.toLowerCase()}function Tk(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ck(e),Nk(e)}function Ck(e){e.D||(e.D=!0,xm(e,"complete"),xm(e,"error"))}function Ak(e){if(e.h&&"undefined"!=typeof uy&&(!e.C[1]||4!=Dk(e)||2!=e.ba()))if(e.v&&4==Dk(e))jm(e.Fa,0,e);else if(xm(e,"readystatechange"),4==Dk(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Dg)[1]||null;if(!a&&sy.self&&sy.self.location){var o=sy.self.location.protocol;a=o.substr(0,o.length-1)}i=!Ek.test(a?a.toLowerCase():"")}t=i}if(t)xm(e,"complete"),xm(e,"success");else{e.m=6;try{var u=2<Dk(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Ck(e)}}finally{Nk(e)}}}function Nk(e,t){if(e.g){Ok(e);var n=e.g,r=e.C[0]?cy:null;e.g=null,e.C=null,t||xm(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ok(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(sy.clearTimeout(e.A),e.A=null)}function Dk(e){return e.g?e.g.readyState:0}function Rk(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Pk(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Dy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ug(e,t,n))}function Fk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Lk(e){this.za=0,this.l=[],this.h=new Gm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fk("baseRetryDelayMs",5e3,e),this.$a=Fk("retryDelaySeedMs",1e4,e),this.Ya=Fk("forwardChannelMaxRetries",2,e),this.ra=Fk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new nk(e&&e.concurrentRequestLimit),this.Ca=new hk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Mk(e){if(Uk(e),3==e.G){var t=e.V++,n=Pg(e.F);Ug(n,"SID",e.J),Ug(n,"RID",t),Ug(n,"TYPE","terminate"),qk(e,n),(t=new hg(e,e.h,t,void 0)).K=2,t.v=Vg(Pg(n)),n=!1,sy.navigator&&sy.navigator.sendBeacon&&(n=sy.navigator.sendBeacon(t.v.toString(),"")),!n&&sy.Image&&((new Image).src=t.v,n=!0),n||(t.g=tb(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_g(t)}Zk(e)}function jk(e){e.g&&(Hk(e),e.g.cancel(),e.g=null)}function Uk(e){jk(e),e.u&&(sy.clearTimeout(e.u),e.u=null),Qk(e),e.i.cancel(),e.m&&("number"===typeof e.m&&sy.clearTimeout(e.m),e.m=null)}function Vk(e,t){e.l.push(new tk(e.Za++,t)),3==e.G&&zk(e)}function zk(e){ak(e.i)||e.m||(e.m=!0,Dm(e.Ha,e),e.C=0)}function Bk(e,t){var n;n=t?t.m:e.V++;var r=Pg(e.F);Ug(r,"SID",e.J),Ug(r,"RID",n),Ug(r,"AID",e.U),qk(e,r),e.o&&e.s&&Pk(r,e.o,e.s),n=new hg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Kk(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),sk(e.i,n),mg(n,r,t)}function qk(e,t){e.j&&Cg({},(function(e,n){Ug(t,n,e)}))}function Kk(e,t,n){n=Math.min(e.l.length,n);var r=e.j?yy(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{dk(l,o,"req"+c+"_")}catch(Ab){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Gk(e){e.g||e.u||(e.Y=1,Dm(e.Ga,e),e.A=0)}function Wk(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=tg(yy(e.Ga,e),Yk(e,e.A)),e.A++,!0)}function Hk(e){null!=e.B&&(sy.clearTimeout(e.B),e.B=null)}function $k(e){e.g=new hg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Pg(e.oa);Ug(t,"RID","rpc"),Ug(t,"SID",e.J),Ug(t,"CI",e.N?"0":"1"),Ug(t,"AID",e.U),qk(e,t),Ug(t,"TYPE","xmlhttp"),e.o&&e.s&&Pk(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Vg(Pg(t)),n.s=null,n.U=!0,gg(n,e)}function Qk(e){null!=e.v&&(sy.clearTimeout(e.v),e.v=null)}function Jk(e,t){var n=null;if(e.g==t){Qk(e),Hk(e),e.g=null;var r=2}else{if(!uk(e.i,t))return;n=t.D,ck(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;xm(r=Qm(),new eg(r,n,t,i)),zk(e)}else Gk(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(ok(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=tg(yy(e.Ha,e,t),Yk(e,e.C)),e.C++,!0))}(e,t)||2==r&&Wk(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xk(e,5);break;case 4:Xk(e,10);break;case 3:Xk(e,6);break;default:Xk(e,2)}}function Yk(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Xk(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=yy(e.jb,e);n||(n=new Rg("//www.google.com/images/cleardot.gif"),sy.location&&"http"==sy.location.protocol||Fg(n,"https"),Vg(n)),function(e,t){var n=new Gm;if(sy.Image){var r=new Image;r.onload=my(pk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=my(pk,n,r,"TestLoadImage: error",!1,t),r.onabort=my(pk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=my(pk,n,r,"TestLoadImage: timeout",!1,t),sy.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Zm(2);e.G=0,e.j&&e.j.va(t),Zk(e),Uk(e)}function Zk(e){e.G=0,e.I=-1,e.j&&(0==lk(e.i).length&&0==e.l.length||(e.i.i.length=0,Ey(e.l),e.l.length=0),e.j.ua())}function eb(e,t,n){var r=function(e){return e instanceof Rg?Pg(e):new Rg(e,void 0)}(n);if(""!=r.i)t&&Lg(r,t+"."+r.i),Mg(r,r.m);else{var i=sy.location;r=function(e,t,n,r){var i=new Rg(null,void 0);return e&&Fg(i,e),t&&Lg(i,t),n&&Mg(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Dy(e.aa,(function(e,t){Ug(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ug(r,t,n),Ug(r,"VER",e.ma),qk(e,r),r}function tb(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new _k(new vk({ib:!0})):new _k(e.qa)).L=e.H,t}function nb(){}function rb(){if(Uy&&!(10<=Number(Xy)))throw Error("Environmental error: no available transport.")}function ib(e,t){_m.call(this),this.g=new Lk(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Sy(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Sy(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ub(this)}function ab(e){cg.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function ob(){lg.call(this),this.status=1}function ub(e){this.g=e}(iy=_k.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ug.g(),this.C=this.u?ag(this.u):ag(ug),this.g.onreadystatechange=yy(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Tk(this,a)}e=n||"";var i=new Ag(this.headers);r&&Cg(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ik,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=sy.FormData&&e instanceof sy.FormData,!(0<=wy(Sk,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ok(this),0<this.B&&((this.K=function(e){return Uy&&Jy()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yy(this.pa,this)):this.A=jm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Tk(this,a)}},iy.pa=function(){"undefined"!=typeof uy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xm(this,"timeout"),this.abort(8))},iy.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,xm(this,"complete"),xm(this,"abort"),Nk(this))},iy.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Nk(this,!0)),_k.Z.M.call(this)},iy.Fa=function(){this.s||(this.F||this.v||this.l?Ak(this):this.cb())},iy.cb=function(){Ak(this)},iy.ba=function(){try{return 2<Dk(this)?this.g.status:-1}catch(rk){return-1}},iy.ga=function(){try{return this.g?this.g.responseText:""}catch(rk){return""}},iy.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),wk(t)}},iy.Da=function(){return this.m},iy.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(iy=Lk.prototype).ma=8,iy.G=1,iy.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},iy.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new hg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Fy(n=Ry(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kk(this,t,r),Ug(i=Pg(this.F),"RID",e),Ug(i,"CVER",22),this.D&&Ug(i,"X-HTTP-Session-Id",this.D),qk(this,i),this.o&&n&&Pk(i,this.o,n),sk(this.i,t),this.Ra&&Ug(i,"TYPE","init"),this.ja?(Ug(i,"$req",r),Ug(i,"SID","null"),t.$=!0,mg(t,i,null)):mg(t,i,r),this.G=2}}else 3==this.G&&(e?Bk(this,e):0==this.l.length||ak(this.i)||Bk(this))},iy.Ga=function(){if(this.u=null,$k(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tg(yy(this.bb,this),e)}},iy.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zm(10),jk(this),$k(this))},iy.ab=function(){null!=this.v&&(this.v=null,jk(this),Wk(this),Zm(19))},iy.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Zm(2)):(this.h.info("Failed to ping google.com"),Zm(1))},(iy=nb.prototype).xa=function(){},iy.wa=function(){},iy.va=function(){},iy.ua=function(){},iy.Oa=function(){},rb.prototype.g=function(e,t){return new ib(e,t)},gy(ib,_m),ib.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Dm(yy(e.hb,e,t))),Zm(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=eb(e,null,e.W),zk(e)},ib.prototype.close=function(){Mk(this.g)},ib.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Vk(this.g,t)}else this.v?((t={}).__data__=Sm(e),Vk(this.g,t)):Vk(this.g,e)},ib.prototype.M=function(){this.g.j=null,delete this.j,Mk(this.g),delete this.g,ib.Z.M.call(this)},gy(ab,cg),gy(ob,lg),gy(ub,nb),ub.prototype.xa=function(){xm(this.g,"a")},ub.prototype.wa=function(e){xm(this.g,new ab(e))},ub.prototype.va=function(e){xm(this.g,new ob(e))},ub.prototype.ua=function(){xm(this.g,"b")},rb.prototype.createWebChannel=rb.prototype.g,ib.prototype.send=ib.prototype.u,ib.prototype.open=ib.prototype.m,ib.prototype.close=ib.prototype.close,ng.NO_ERROR=0,ng.TIMEOUT=8,ng.HTTP_ERROR=6,rg.COMPLETE="complete",og.EventType=sg,sg.OPEN="a",sg.CLOSE="b",sg.ERROR="c",sg.MESSAGE="d",_m.prototype.listen=_m.prototype.N,_k.prototype.listenOnce=_k.prototype.O,_k.prototype.getLastError=_k.prototype.La,_k.prototype.getLastErrorCode=_k.prototype.Da,_k.prototype.getStatus=_k.prototype.ba,_k.prototype.getResponseJson=_k.prototype.Qa,_k.prototype.getResponseText=_k.prototype.ga,_k.prototype.send=_k.prototype.ea;var sb=oy.createWebChannelTransport=function(){return new rb},cb=oy.getStatEventTarget=function(){return Qm()},lb=oy.ErrorCode=ng,fb=oy.EventType=rg,hb=oy.Event=Hm,db=oy.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pb=oy.FetchXmlHttpFactory=vk,vb=oy.WebChannel=og,yb=oy.XhrIo=_k,mb="@firebase/firestore",gb=function(){function e(t){ye(this,e),this.uid=t}return ge(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();gb.UNAUTHENTICATED=new gb(null),gb.GOOGLE_CREDENTIALS=new gb("google-credentials-uid"),gb.FIRST_PARTY=new gb("first-party-uid"),gb.MOCK_USER=new gb("mock-user");var kb="9.9.0",bb=new Tu("@firebase/firestore");function wb(){return bb.logLevel}function _b(e){if(bb.logLevel<=bu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sb);bb.debug.apply(bb,["Firestore (".concat(kb,"): ").concat(e)].concat(ve(i)))}}function xb(e){if(bb.logLevel<=bu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sb);bb.error.apply(bb,["Firestore (".concat(kb,"): ").concat(e)].concat(ve(i)))}}function Eb(e){if(bb.logLevel<=bu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sb);bb.warn.apply(bb,["Firestore (".concat(kb,"): ").concat(e)].concat(ve(i)))}}function Sb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ib(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(kb,") INTERNAL ASSERTION FAILED: ")+e;throw xb(t),new Error(t)}function Tb(e,t){e||Ib()}function Cb(e,t){return e}var Ab={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nb=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ge(n)}(Zo),Ob=ge((function e(){var t=this;ye(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Db=ge((function e(t,n){ye(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Rb=function(){function e(){ye(this,e)}return ge(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gb.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Pb=function(){function e(t){ye(this,e),this.token=t,this.changeListener=null}return ge(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Fb=function(){function e(t){ye(this,e),this.t=t,this.currentUser=gb.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ge(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Ob;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Ob,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){_b("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(_b("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ob)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(_b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Tb("string"==typeof n.accessToken),new Db(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Tb(null===e||"string"==typeof e),new gb(e)}}]),e}(),Lb=ge((function e(t,n,r){ye(this,e),this.type="FirstParty",this.user=gb.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Mb=function(){function e(t,n,r){ye(this,e),this.h=t,this.l=n,this.m=r}return ge(e,[{key:"getToken",value:function(){return Promise.resolve(new Lb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(gb.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),jb=ge((function e(t){ye(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Ub=function(){function e(t){ye(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ge(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&_b("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,_b("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){_b("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):_b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Tb("string"==typeof t.token),e.p=t.token,new jb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Vb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var zb=function(){function e(){ye(this,e)}return ge(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Vb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Bb(e,t){return e<t?-1:e>t?1:0}function qb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Kb(e){return e+"\0"}var Gb=function(){function e(t,n){if(ye(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Nb(Ab.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nb(Ab.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Nb(Ab.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nb(Ab.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ge(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Bb(this.nanoseconds,e.nanoseconds):Bb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Wb=function(){function e(t){ye(this,e),this.timestamp=t}return ge(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Gb(0,0))}},{key:"max",value:function(){return new e(new Gb(253402300799,999999999))}}]),e}(),Hb=function(){function e(t,n,r){ye(this,e),void 0===n?n=0:n>t.length&&Ib(),void 0===r?r=t.length-n:r>t.length-n&&Ib(),this.segments=t,this.offset=n,this.len=r}return ge(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),$b=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,ve(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hb),Qb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Jb=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Qb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Nb(Ab.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Nb(Ab.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Nb(Ab.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Hb),Yb=function(){function e(t){ye(this,e),this.path=t}return ge(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===$b.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e($b.fromString(t))}},{key:"fromName",value:function(t){return new e($b.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e($b.emptyPath())}},{key:"comparator",value:function(e,t){return $b.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new $b(t.slice()))}}]),e}(),Xb=ge((function e(t,n,r,i){ye(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Zb(e){return e.fields.find((function(e){return 2===e.kind}))}function ew(e){return e.fields.filter((function(e){return 2!==e.kind}))}Xb.UNKNOWN_ID=-1;var tw=ge((function e(t,n){ye(this,e),this.fieldPath=t,this.kind=n})),nw=function(){function e(t,n){ye(this,e),this.sequenceNumber=t,this.offset=n}return ge(e,null,[{key:"empty",value:function(){return new e(0,aw.min())}}]),e}();function rw(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Wb.fromTimestamp(1e9===r?new Gb(n+1,0):new Gb(n,r));return new aw(i,Yb.empty(),t)}function iw(e){return new aw(e.readTime,e.key,-1)}var aw=function(){function e(t,n,r){ye(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ge(e,null,[{key:"min",value:function(){return new e(Wb.min(),Yb.empty(),-1)}},{key:"max",value:function(){return new e(Wb.max(),Yb.empty(),-1)}}]),e}();function ow(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Yb.comparator(e.documentKey,t.documentKey))?n:Bb(e.largestBatchId,t.largestBatchId)}var uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",sw=function(){function e(){ye(this,e),this.onCommittedListeners=[]}return ge(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function cw(e){return lw.apply(this,arguments)}function lw(){return lw=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Ab.FAILED_PRECONDITION&&t.message===uw){e.next=2;break}throw t;case 2:_b("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}var fw=function(){function e(t){var n=this;ye(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ge(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ib(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ht(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),hw=function(){function e(t,n){var r=this;ye(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new Ob,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new vw(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=bw(e.target.error);r.T.reject(new vw(t,n))}}return ge(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(_b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new mw(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new vw(n,t)}}}]),e}(),dw=function(){function e(t,n,r){ye(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Wo())&&xb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ge(e,[{key:"k",value:function(){var e=vu(du().mark((function e(t){var n=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return _b("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new vw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Nb(Ab.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Nb(Ab.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new vw(t,n))},i.onupgradeneeded=function(e){_b("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){_b("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=vu(du().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(du().mark((function e(){var n,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=hw.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),fw.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,_b("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return _b("SimpleDb","Removing database:",e),gw(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Xo())return!1;if(e.S())return!0;var t=Wo(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/firebase-auth",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyCKruM_WOf9RrGSseJUEVQ8oIK3ARz8r98",REACT_APP_APP_ID:"1:949447297736:web:12f402cd7f2ca37434f3fd",REACT_APP_AUTH_DOMAIN:"fir-auth-c6b93.firebaseapp.com",REACT_APP_MESSAGING_SENDER_ID:"949447297736",REACT_APP_PROJECT_ID:"fir-auth-c6b93",REACT_APP_STORAGE_BUCKET:"fir-auth-c6b93.appspot.com"})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),pw=function(){function e(t){ye(this,e),this.$=t,this.B=!1,this.L=null}return ge(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return gw(this.$.delete())}}]),e}(),vw=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,Ab.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ge(n)}(Nb);function yw(e){return"IndexedDbTransactionError"===e.name}var mw=function(){function e(t){ye(this,e),this.store=t}return ge(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(_b("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_b("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),gw(n)}},{key:"add",value:function(e){return _b("SimpleDb","ADD",this.store.name,e,e),gw(this.store.add(e))}},{key:"get",value:function(e){var t=this;return gw(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_b("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return _b("SimpleDb","DELETE",this.store.name,e),gw(this.store.delete(e))}},{key:"count",value:function(){return _b("SimpleDb","COUNT",this.store.name),gw(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new fw((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new fw((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){_b("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new fw((function(n,r){t.onerror=function(e){var t=bw(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new fw((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new pw(i),o=t(i.primaryKey,i.value,a);if(o instanceof fw){var u=o.catch((function(e){return a.done(),fw.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return fw.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function gw(e){return new fw((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=bw(e.target.error);n(t)}}))}var kw=!1;function bw(e){var t=dw.v(Wo());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Nb("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return kw||(kw=!0,setTimeout((function(){throw r}),0)),r}}return e}var ww=function(){function e(t,n){ye(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ge(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;_b("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=_b,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!yw(e.t4)){e.next=17;break}_b("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,cw(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),_w=function(){function e(t,n){ye(this,e),this.localStore=t,this.persistence=n}return ge(e,[{key:"tt",value:function(){var e=vu(du().mark((function e(){var t,n=this,r=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return fw.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return _b("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return _b("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=iw(t);ow(r,n)>0&&(n=r)})),new aw(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),xw=function(){function e(t,n){var r=this;ye(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ge(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Ew(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sw(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Iw(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}xw.ot=-1;var Tw=function(){function e(t,n){ye(this,e),this.comparator=t,this.root=n||Aw.EMPTY}return ge(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Aw.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Aw.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Cw(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Cw(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Cw(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Cw(this.root,e,this.comparator,!0)}}]),e}(),Cw=function(){function e(t,n,r,i){ye(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ge(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Aw=function(){function e(t,n,r,i,a){ye(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ge(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ib();if(this.right.isRed())throw Ib();var e=this.left.check();if(e!==this.right.check())throw Ib();return e+(this.isRed()?0:1)}}]),e}();Aw.EMPTY=null,Aw.RED=!0,Aw.BLACK=!1,Aw.EMPTY=new(function(){function e(){ye(this,e),this.size=0}return ge(e,[{key:"key",get:function(){throw Ib()}},{key:"value",get:function(){throw Ib()}},{key:"color",get:function(){throw Ib()}},{key:"left",get:function(){throw Ib()}},{key:"right",get:function(){throw Ib()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Aw(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Nw=function(){function e(t){ye(this,e),this.comparator=t,this.data=new Tw(this.comparator)}return ge(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Ow(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Ow(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Ow=function(){function e(t){ye(this,e),this.iter=t}return ge(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Dw(e){return e.hasNext()?e.getNext():void 0}var Rw=function(){function e(t){ye(this,e),this.fields=t,t.sort(Jb.comparator)}return ge(e,[{key:"unionWith",value:function(t){var n,r=new Nw(Jb.comparator),i=ht(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=ht(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=ht(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return qb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Pw=function(e){function t(e){ye(this,t),this.binaryString=e}return ge(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Bb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Pw.EMPTY_BYTE_STRING=new Pw("");var Fw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lw(e){if(Tb(!!e),"string"==typeof e){var t=0,n=Fw.exec(e);if(Tb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Mw(e.seconds),nanos:Mw(e.nanos)}}function Mw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function jw(e){return"string"==typeof e?Pw.fromBase64String(e):Pw.fromUint8Array(e)}function Uw(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Vw(e){var t=e.mapValue.fields.__previous_value__;return Uw(t)?Vw(t):t}function zw(e){var t=Lw(e.mapValue.fields.__local_write_time__.timestampValue);return new Gb(t.seconds,t.nanos)}var Bw=ge((function e(t,n,r,i,a,o,u,s){ye(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),qw=function(){function e(t,n){ye(this,e),this.projectId=t,this.database=n||"(default)"}return ge(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Kw(e){return null==e}function Gw(e){return 0===e&&1/e==-1/0}function Ww(e){return"number"==typeof e&&Number.isInteger(e)&&!Gw(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Hw={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$w={nullValue:"NULL_VALUE"};function Qw(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Uw(e)?4:c_(e)?9007199254740991:10:Ib()}function Jw(e,t){if(e===t)return!0;var n=Qw(e);if(n!==Qw(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return zw(e).isEqual(zw(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Lw(e.timestampValue),r=Lw(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return jw(e.bytesValue).isEqual(jw(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Mw(e.geoPointValue.latitude)===Mw(t.geoPointValue.latitude)&&Mw(e.geoPointValue.longitude)===Mw(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Mw(e.integerValue)===Mw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Mw(e.doubleValue),r=Mw(t.doubleValue);return n===r?Gw(n)===Gw(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qb(e.arrayValue.values||[],t.arrayValue.values||[],Jw);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ew(n)!==Ew(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jw(n[i],r[i])))return!1;return!0}(e,t);default:return Ib()}}function Yw(e,t){return void 0!==(e.values||[]).find((function(e){return Jw(e,t)}))}function Xw(e,t){if(e===t)return 0;var n=Qw(e),r=Qw(t);if(n!==r)return Bb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Mw(e.integerValue||e.doubleValue),r=Mw(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Zw(e.timestampValue,t.timestampValue);case 4:return Zw(zw(e),zw(t));case 5:return Bb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=jw(e),r=jw(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Bb(n[i],r[i]);if(0!==a)return a}return Bb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Bb(Mw(e.latitude),Mw(t.latitude));return 0!==n?n:Bb(Mw(e.longitude),Mw(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Xw(n[i],r[i]);if(a)return a}return Bb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Hw.mapValue&&t===Hw.mapValue)return 0;if(e===Hw.mapValue)return 1;if(t===Hw.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Bb(r[o],a[o]);if(0!==u)return u;var s=Xw(n[r[o]],i[a[o]]);if(0!==s)return s}return Bb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Ib()}}function Zw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Bb(e,t);var n=Lw(e),r=Lw(t),i=Bb(n.seconds,r.seconds);return 0!==i?i:Bb(n.nanos,r.nanos)}function e_(e){return t_(e)}function t_(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Lw(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?jw(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Yb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ht(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=t_(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ht(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(t_(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Ib();var t,n}function n_(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function r_(e){return!!e&&"integerValue"in e}function i_(e){return!!e&&"arrayValue"in e}function a_(e){return!!e&&"nullValue"in e}function o_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function u_(e){return!!e&&"mapValue"in e}function s_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Sw(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=s_(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=s_(e.arrayValue.values[r]);return n}return Object.assign({},e)}function c_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function l_(e){return"nullValue"in e?$w:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?n_(qw.empty(),Yb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ib()}function f_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?n_(qw.empty(),Yb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Hw:Ib()}function h_(e,t){var n=Xw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function d_(e,t){var n=Xw(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var p_=function(){function e(t){ye(this,e),this.value=t}return ge(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!u_(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=s_(t)}},{key:"setAll",value:function(e){var t=this,n=Jb.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=s_(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());u_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Jw(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];u_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Sw(t,(function(t,n){return e[t]=n}));var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(s_(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function v_(e){var t=[];return Sw(e.fields,(function(e,n){var r=new Jb([e]);if(u_(n)){var i=v_(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ht(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Rw(t)}var y_=function(){function e(t,n,r,i,a,o){ye(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ge(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=p_.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=p_.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Wb.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Wb.min(),Wb.min(),p_.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Wb.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Wb.min(),p_.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Wb.min(),p_.empty(),2)}}]),e}(),m_=ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ye(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function g_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new m_(e,t,n,r,i,a,o)}function k_(e){var t=Cb(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+e_(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Kw(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return e_(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return e_(e)})).join(",")),t.ut=n}return t.ut}function b_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!L_(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Jw(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!j_(e.startAt,t.startAt)&&j_(e.endAt,t.endAt)}function w_(e){return Yb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function __(e,t){return e.filters.filter((function(e){return e instanceof S_&&e.field.isEqual(t)}))}function x_(e,t,n){var r,i=$w,a=!0,o=ht(__(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=$w,c=!0;switch(u.op){case"<":case"<=":s=l_(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=$w}h_({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];h_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function E_(e,t,n){var r,i=Hw,a=!0,o=ht(__(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Hw,c=!0;switch(u.op){case">=":case">":s=f_(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Hw}d_({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];d_({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var S_=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Xw(t,this.value)):null!==t&&Qw(this.value)===Qw(t)&&this.at(Xw(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ib()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new I_(e,t,r):"array-contains"===t?new N_(e,r):"in"===t?new O_(e,r):"not-in"===t?new D_(e,r):"array-contains-any"===t?new R_(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new T_(e,n):new C_(e,n)}}]),n}(function(){return ge((function e(){ye(this,e)}))}()),I_=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this,e,r,i)).key=Yb.fromName(i.referenceValue),a}return ge(n,[{key:"matches",value:function(e){var t=Yb.comparator(e.key,this.key);return this.at(t)}}]),n}(S_),T_=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,"in",r)).keys=A_("in",r),i}return ge(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(S_),C_=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,"not-in",r)).keys=A_("not-in",r),i}return ge(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(S_);function A_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Yb.fromName(e.referenceValue)}))}var N_=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"array-contains",r)}return ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return i_(t)&&Yw(t.arrayValue,this.value)}}]),n}(S_),O_=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"in",r)}return ge(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yw(this.value.arrayValue,t)}}]),n}(S_),D_=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"not-in",r)}return ge(n,[{key:"matches",value:function(e){if(Yw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yw(this.value.arrayValue,t)}}]),n}(S_),R_=function(e){qe(n,e);var t=$e(n);function n(e,r){return ye(this,n),t.call(this,e,"array-contains-any",r)}return ge(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!i_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yw(t.value.arrayValue,e)}))}}]),n}(S_),P_=ge((function e(t,n){ye(this,e),this.position=t,this.inclusive=n})),F_=ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ye(this,e),this.field=t,this.dir=n}));function L_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function M_(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Yb.comparator(Yb.fromName(o.referenceValue),n.key):Xw(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function j_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Jw(e.position[n],t.position[n]))return!1;return!0}var U_=ge((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ye(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function V_(e,t,n,r,i,a,o,u){return new U_(e,t,n,r,i,a,o,u)}function z_(e){return new U_(e)}function B_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function q_(e){var t,n=ht(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function K_(e){return null!==e.collectionGroup}function G_(e){var t=Cb(e);if(null===t.lt){t.lt=[];var n=q_(t),r=B_(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new F_(n)),t.lt.push(new F_(Jb.keyField(),"asc"));else{var i,a=!1,o=ht(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new F_(Jb.keyField(),s))}}}return t.lt}function W_(e){var t=Cb(e);if(!t.ft)if("F"===t.limitType)t.ft=g_(t.path,t.collectionGroup,G_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ht(G_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new F_(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new P_(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new P_(t.startAt.position,t.startAt.inclusive):null;t.ft=g_(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function H_(e,t,n){return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $_(e,t){return b_(W_(e),W_(t))&&e.limitType===t.limitType}function Q_(e){return"".concat(k_(W_(e)),"|lt:").concat(e.limitType)}function J_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(e_(t.value));var t})).join(", "),"]")),Kw(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return e_(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return e_(e)})).join(",")),"Target(".concat(t,")")}(W_(e)),"; limitType=").concat(e.limitType,")")}function Y_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Yb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ht(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ht(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=M_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,G_(e),t))&&!(e.endAt&&!function(e,t,n){var r=M_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,G_(e),t))}(e,t)}function X_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Z_(e){return function(t,n){var r,i=!1,a=ht(G_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ex(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ex(e,t,n){var r=e.field.isKeyField()?Yb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Xw(r,i):Ib()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ib()}}function tx(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gw(t)?"-0":t}}function nx(e){return{integerValue:""+e}}function rx(e,t){return Ww(t)?nx(t):tx(e,t)}var ix=ge((function e(){ye(this,e),this._=void 0}));function ax(e,t,n){return e instanceof sx?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof cx?lx(e,t):e instanceof fx?hx(e,t):function(e,t){var n=ux(e,t),r=px(n)+px(e._t);return r_(n)&&r_(e._t)?nx(r):tx(e.wt,r)}(e,t)}function ox(e,t,n){return e instanceof cx?lx(e,t):e instanceof fx?hx(e,t):n}function ux(e,t){return e instanceof dx?r_(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var sx=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n)}(ix),cx=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).elements=e,r}return ge(n)}(ix);function lx(e,t){var n,r=vx(t),i=ht(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Jw(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var fx=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).elements=e,r}return ge(n)}(ix);function hx(e,t){var n,r=vx(t),i=ht(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Jw(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var dx=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ge(n)}(ix);function px(e){return Mw(e.integerValue||e.doubleValue)}function vx(e){return i_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var yx=ge((function e(t,n){ye(this,e),this.field=t,this.transform=n}));var mx=ge((function e(t,n){ye(this,e),this.version=t,this.transformResults=n})),gx=function(){function e(t,n){ye(this,e),this.updateTime=t,this.exists=n}return ge(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function kx(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var bx=ge((function e(){ye(this,e)}));function wx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Rx(e.key,gx.none()):new Ix(e.key,e.data,gx.none());var n,r=e.data,i=p_.empty(),a=new Nw(Jb.comparator),o=ht(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Tx(e.key,i,new Rw(a.toArray()),gx.none())}function _x(e,t,n){e instanceof Ix?function(e,t,n){var r=e.value.clone(),i=Ax(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Tx?function(e,t,n){if(kx(e.precondition,t)){var r=Ax(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Cx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function xx(e,t,n,r){return e instanceof Ix?function(e,t,n,r){if(!kx(e.precondition,t))return n;var i=e.value.clone(),a=Nx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Tx?function(e,t,n,r){if(!kx(e.precondition,t))return n;var i=Nx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Cx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return kx(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ex(e,t){var n,r=null,i=ht(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ux(a.transform,o||null);null!=u&&(null===r&&(r=p_.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Sx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof cx&&t instanceof cx||e instanceof fx&&t instanceof fx?qb(e.elements,t.elements,Jw):e instanceof dx&&t instanceof dx?Jw(e._t,t._t):e instanceof sx&&t instanceof sx}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Ix=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ye(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ge(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bx),Tx=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ye(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ge(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(bx);function Cx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Ax(e,t,n){var r=new Map;Tb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,ox(o,u,n[i]))}return r}function Nx(e,t,n){var r,i=new Map,a=ht(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,ax(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Ox,Dx,Rx=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ge(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bx),Px=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ge(n,[{key:"getFieldMask",value:function(){return null}}]),n}(bx),Fx=ge((function e(t){ye(this,e),this.count=t}));function Lx(e){switch(e){default:return Ib();case Ab.CANCELLED:case Ab.UNKNOWN:case Ab.DEADLINE_EXCEEDED:case Ab.RESOURCE_EXHAUSTED:case Ab.INTERNAL:case Ab.UNAVAILABLE:case Ab.UNAUTHENTICATED:return!1;case Ab.INVALID_ARGUMENT:case Ab.NOT_FOUND:case Ab.ALREADY_EXISTS:case Ab.PERMISSION_DENIED:case Ab.FAILED_PRECONDITION:case Ab.ABORTED:case Ab.OUT_OF_RANGE:case Ab.UNIMPLEMENTED:case Ab.DATA_LOSS:return!0}}function Mx(e){if(void 0===e)return xb("GRPC error has no .code"),Ab.UNKNOWN;switch(e){case Ox.OK:return Ab.OK;case Ox.CANCELLED:return Ab.CANCELLED;case Ox.UNKNOWN:return Ab.UNKNOWN;case Ox.DEADLINE_EXCEEDED:return Ab.DEADLINE_EXCEEDED;case Ox.RESOURCE_EXHAUSTED:return Ab.RESOURCE_EXHAUSTED;case Ox.INTERNAL:return Ab.INTERNAL;case Ox.UNAVAILABLE:return Ab.UNAVAILABLE;case Ox.UNAUTHENTICATED:return Ab.UNAUTHENTICATED;case Ox.INVALID_ARGUMENT:return Ab.INVALID_ARGUMENT;case Ox.NOT_FOUND:return Ab.NOT_FOUND;case Ox.ALREADY_EXISTS:return Ab.ALREADY_EXISTS;case Ox.PERMISSION_DENIED:return Ab.PERMISSION_DENIED;case Ox.FAILED_PRECONDITION:return Ab.FAILED_PRECONDITION;case Ox.ABORTED:return Ab.ABORTED;case Ox.OUT_OF_RANGE:return Ab.OUT_OF_RANGE;case Ox.UNIMPLEMENTED:return Ab.UNIMPLEMENTED;case Ox.DATA_LOSS:return Ab.DATA_LOSS;default:return Ib()}}(Dx=Ox||(Ox={}))[Dx.OK=0]="OK",Dx[Dx.CANCELLED=1]="CANCELLED",Dx[Dx.UNKNOWN=2]="UNKNOWN",Dx[Dx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dx[Dx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dx[Dx.NOT_FOUND=5]="NOT_FOUND",Dx[Dx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dx[Dx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dx[Dx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dx[Dx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dx[Dx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dx[Dx.ABORTED=10]="ABORTED",Dx[Dx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dx[Dx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dx[Dx.INTERNAL=13]="INTERNAL",Dx[Dx.UNAVAILABLE=14]="UNAVAILABLE",Dx[Dx.DATA_LOSS=15]="DATA_LOSS";var jx=function(){function e(t,n){ye(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ge(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Sw(this.inner,(function(t,n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Iw(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Ux=new Tw(Yb.comparator);function Vx(){return Ux}var zx=new Tw(Yb.comparator);function Bx(){for(var e=zx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function qx(e){var t=zx;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Kx(){return Wx()}function Gx(){return Wx()}function Wx(){return new jx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hx=new Tw(Yb.comparator),$x=new Nw(Yb.comparator);function Qx(){for(var e=$x,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Jx=new Nw(Bb);function Yx(){return Jx}var Xx=function(){function e(t,n,r,i,a){ye(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ge(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Zx.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Wb.min(),r,Yx(),Vx(),Qx())}}]),e}(),Zx=function(){function e(t,n,r,i,a){ye(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ge(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Pw.EMPTY_BYTE_STRING,n,Qx(),Qx(),Qx())}}]),e}(),eE=ge((function e(t,n,r,i){ye(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),tE=ge((function e(t,n){ye(this,e),this.targetId=t,this.It=n})),nE=ge((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pw.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ye(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),rE=function(){function e(){ye(this,e),this.Tt=0,this.Et=oE(),this.At=Pw.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ge(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=Qx(),t=Qx(),n=Qx();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ib()}})),new Zx(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=oE()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),iE=function(){function e(t){ye(this,e),this.Mt=t,this.Ft=new Map,this.$t=Vx(),this.Bt=aE(),this.Lt=new Nw(Bb)}return ge(e,[{key:"Ut",value:function(e){var t,n=ht(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=ht(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Ib()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(w_(i))if(0===n){var a=new Yb(i.path);this.Kt(t,a,y_.newNoDocument(a,Wb.min()))}else Tb(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&w_(a.target)){var o=new Yb(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,y_.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=Qx();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new Xx(e,n,this.Lt,this.$t,r);return this.$t=Vx(),this.Bt=aE(),this.Lt=new Nw(Bb),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new rE,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new Nw(Bb),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||_b("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new rE),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function aE(){return new Tw(Yb.comparator)}function oE(){return new Tw(Yb.comparator)}var uE={asc:"ASCENDING",desc:"DESCENDING"},sE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cE=ge((function e(t,n){ye(this,e),this.databaseId=t,this.dt=n}));function lE(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function fE(e,t){return e.dt?t.toBase64():t.toUint8Array()}function hE(e,t){return lE(e,t.toTimestamp())}function dE(e){return Tb(!!e),Wb.fromTimestamp(function(e){var t=Lw(e);return new Gb(t.seconds,t.nanos)}(e))}function pE(e,t){return function(e){return new $b(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function vE(e){var t=$b.fromString(e);return Tb(jE(t)),t}function yE(e,t){return pE(e.databaseId,t.path)}function mE(e,t){var n=vE(t);if(n.get(1)!==e.databaseId.projectId)throw new Nb(Ab.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Nb(Ab.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Yb(wE(n))}function gE(e,t){return pE(e.databaseId,t)}function kE(e){var t=vE(e);return 4===t.length?$b.emptyPath():wE(t)}function bE(e){return new $b(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function wE(e){return Tb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _E(e,t,n){return{name:yE(e,t),fields:n.value.mapValue.fields}}function xE(e,t,n){var r=mE(e,t.name),i=dE(t.updateTime),a=new p_({mapValue:{fields:t.fields}}),o=y_.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function EE(e,t){return"found"in t?function(e,t){Tb(!!t.found),t.found.name,t.found.updateTime;var n=mE(e,t.found.name),r=dE(t.found.updateTime),i=new p_({mapValue:{fields:t.found.fields}});return y_.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Tb(!!t.missing),Tb(!!t.readTime);var n=mE(e,t.missing),r=dE(t.readTime);return y_.newNoDocument(n,r)}(e,t):Ib()}function SE(e,t){var n;if(t instanceof Ix)n={update:_E(e,t.key,t.value)};else if(t instanceof Rx)n={delete:yE(e,t.key)};else if(t instanceof Tx)n={update:_E(e,t.key,t.data),updateMask:ME(t.fieldMask)};else{if(!(t instanceof Px))return Ib();n={verify:yE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof sx)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof cx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof fx)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof dx)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Ib()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ib()}(e,t.precondition)),n}function IE(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?gx.updateTime(dE(e.updateTime)):void 0!==e.exists?gx.exists(e.exists):gx.none()}(t.currentDocument):gx.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Tb("REQUEST_TIME"===t.setToServerValue),n=new sx;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new cx(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new fx(i)}else"increment"in t?n=new dx(e,t.increment):Ib();var a=Jb.fromServerFormat(t.fieldPath);return new yx(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=mE(e,t.update.name),a=new p_({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Rw(t.map((function(e){return Jb.fromServerFormat(e)})))}(t.updateMask);return new Tx(i,a,o,n,r)}return new Ix(i,a,n,r)}if(t.delete){var u=mE(e,t.delete);return new Rx(u,n)}if(t.verify){var s=mE(e,t.verify);return new Px(s,n)}return Ib()}function TE(e,t){return{documents:[gE(e,t.path)]}}function CE(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=gE(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=gE(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(o_(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NAN"}};if(a_(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(o_(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NOT_NAN"}};if(a_(e.value))return{unaryFilter:{field:RE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:RE(e.field),op:DE(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:RE(e.field),direction:OE(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||Kw(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function AE(e){var t=kE(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Tb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=NE(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new F_(PE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Kw(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new P_(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new P_(n,t)}(n.endAt)),V_(t,i,u,o,s,"F",c,l)}function NE(e){return e?void 0!==e.unaryFilter?[LE(e)]:void 0!==e.fieldFilter?[FE(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return NE(e)})).reduce((function(e,t){return e.concat(t)})):Ib():[]}function OE(e){return uE[e]}function DE(e){return sE[e]}function RE(e){return{fieldPath:e.canonicalString()}}function PE(e){return Jb.fromServerFormat(e.fieldPath)}function FE(e){return S_.create(PE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ib()}}(e.fieldFilter.op),e.fieldFilter.value)}function LE(e){switch(e.unaryFilter.op){case"IS_NAN":var t=PE(e.unaryFilter.field);return S_.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=PE(e.unaryFilter.field);return S_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=PE(e.unaryFilter.field);return S_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=PE(e.unaryFilter.field);return S_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ib()}}function ME(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function jE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function UE(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=zE(t)),t=VE(e.get(n),t);return zE(t)}function VE(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function zE(e){return e+"\x01\x01"}function BE(e){var t=e.length;if(Tb(t>=2),2===t)return Tb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),$b.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Ib(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Ib()}a=o+2}return new $b(r)}var qE=["userId","batchId"];function KE(e,t){return[e,UE(t)]}function GE(e,t,n){return[e,UE(t),n]}var WE={},HE=["prefixPath","collectionGroup","readTime","documentId"],$E=["prefixPath","collectionGroup","documentId"],QE=["collectionGroup","readTime","prefixPath","documentId"],JE=["canonicalId","targetId"],YE=["targetId","path"],XE=["path","targetId"],ZE=["collectionId","parent"],eS=["indexId","uid"],tS=["uid","sequenceNumber"],nS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],rS=["indexId","uid","orderedDocumentKey"],iS=["userId","collectionPath","documentId"],aS=["userId","collectionPath","largestBatchId"],oS=["userId","collectionGroup","largestBatchId"],uS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),sS=[].concat(ve(uS),["documentOverlays"]),cS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lS=cS,fS=[].concat(lS,["indexConfiguration","indexState","indexEntries"]),hS=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ge(n)}(sw);function dS(e,t){var n=Cb(e);return dw.N(n.ee,t)}var pS=function(){function e(t,n,r,i){ye(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ge(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&_x(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=ht(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=xx(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=ht(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=xx(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Gx();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=wx(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Wb.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Qx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&qb(this.mutations,e.mutations,(function(e,t){return Sx(e,t)}))&&qb(this.baseMutations,e.baseMutations,(function(e,t){return Sx(e,t)}))}}]),e}(),vS=function(){function e(t,n,r,i){ye(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ge(e,null,[{key:"from",value:function(t,n,r){Tb(t.mutations.length===r.length);for(var i=Hx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yS=function(){function e(t,n){ye(this,e),this.largestBatchId=t,this.mutation=n}return ge(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),mS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Wb.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Wb.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Pw.EMPTY_BYTE_STRING;ye(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ge(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),gS=ge((function e(t){ye(this,e),this.ne=t}));function kS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:bS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:yE(e,t.key),fields:t.data.value.mapValue.fields,updateTime:lE(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:wS(t.version)};else{if(!t.isUnknownDocument())return Ib();r.unknownDocument={path:n.path.toArray(),version:wS(t.version)}}return r}function bS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function wS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function _S(e){var t=new Gb(e.seconds,e.nanoseconds);return Wb.fromTimestamp(t)}function xS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return IE(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return IE(e.ne,t)})),u=Gb.fromMillis(t.localWriteTimeMs);return new pS(t.batchId,u,n,o)}function ES(e){var t,n,r=_S(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?_S(e.lastLimboFreeSnapshotVersion):Wb.min();return void 0!==e.query.documents?(Tb(1===(n=e.query).documents.length),t=W_(z_(kE(n.documents[0])))):t=function(e){return W_(AE(e))}(e.query),new mS(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Pw.fromBase64String(e.resumeToken))}function SS(e,t){var n,r=wS(t.snapshotVersion),i=wS(t.lastLimboFreeSnapshotVersion);n=w_(t.target)?TE(e.ne,t.target):CE(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:k_(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function IS(e){var t=AE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?H_(t,t.limit,"L"):t}function TS(e,t){return new yS(t.largestBatchId,IE(e.ne,t.overlayMutation))}function CS(e,t){var n=t.path.lastSegment();return[e,UE(t.path.popLast()),n]}function AS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:wS(r.readTime),documentKey:UE(r.documentKey.path),largestBatchId:r.largestBatchId}}var NS=function(){function e(){ye(this,e)}return ge(e,[{key:"getBundleMetadata",value:function(e,t){return OS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:_S(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return OS(e).put({bundleId:(n=t).id,createTime:wS(dE(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return DS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:IS(t.bundledQuery),readTime:_S(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return DS(e).put(function(e){return{name:e.name,readTime:wS(dE(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function OS(e){return dS(e,"bundles")}function DS(e){return dS(e,"namedQueries")}var RS=function(){function e(t,n){ye(this,e),this.wt=t,this.userId=n}return ge(e,[{key:"getOverlay",value:function(e,t){var n=this;return PS(e).get(CS(this.userId,t)).next((function(e){return e?TS(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Kx();return fw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new yS(t,a);i.push(r.ie(e,o))})),fw.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(UE(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(PS(e).W("collectionPathOverlayIndex",i))})),fw.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Kx(),a=UE(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return PS(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=TS(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Kx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return PS(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=TS(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return PS(e).put(function(e,t,n){var r=c(CS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:SE(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function PS(e){return dS(e,"documentOverlays")}var FS=function(){function e(){ye(this,e)}return ge(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Mw(e.integerValue));else if("doubleValue"in e){var n=Mw(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Gw(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(jw(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?c_(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Ib()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),Yb.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function LS(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function MS(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=LS(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}FS.ye=new FS;var jS=function(){function e(){ye(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ge(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=MS(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=MS(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),US=function(){function e(t){ye(this,e),this.Me=t}return ge(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),VS=function(){function e(t){ye(this,e),this.Me=t}return ge(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),zS=function(){function e(){ye(this,e),this.Me=new jS,this.Fe=new US(this.Me),this.$e=new VS(this.Me)}return ge(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),BS=function(){function e(t,n,r,i){ye(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ge(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function qS(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=KS(e.arrayValue,t.arrayValue))?n:0!==(n=KS(e.directionalValue,t.directionalValue))?n:Yb.comparator(e.documentKey,t.documentKey)}function KS(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var GS=function(){function e(t){ye(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=ht(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ge(e,[{key:"Ge",value:function(e){var t=Zb(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=ew(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=ht(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),WS=function(){function e(){ye(this,e),this.ze=new HS}return ge(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),fw.resolve()}},{key:"getCollectionParents",value:function(e,t){return fw.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return fw.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return fw.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return fw.resolve(null)}},{key:"getIndexType",value:function(e,t){return fw.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return fw.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return fw.resolve(null)}},{key:"getMinOffset",value:function(e,t){return fw.resolve(aw.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return fw.resolve(aw.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return fw.resolve()}},{key:"updateIndexEntries",value:function(e,t){return fw.resolve()}}]),e}(),HS=function(){function e(){ye(this,e),this.index={}}return ge(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Nw($b.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Nw($b.comparator)).toArray()}}]),e}(),$S=new Uint8Array(0),QS=function(){function e(t,n){ye(this,e),this.user=t,this.databaseId=n,this.He=new HS,this.Je=new jx((function(e){return k_(e)}),(function(e,t){return b_(e,t)})),this.uid=t.uid||""}return ge(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:UE(i)};return JS(e).put(a)}return fw.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Kb(t),""],!1,!0);return JS(e).K(r).next((function(e){var r,i=ht(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(BE(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=XS(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=ZS(e);return a.next((function(e){o.put(AS(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=XS(e),r=ZS(e),i=YS(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=YS(e),i=!0,a=new Map;return fw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Qx(),o=[];return fw.forEach(a,(function(i,a){var u;_b("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(k_(t)));var s=function(e,t){var n=Zb(t);if(void 0===n)return null;var r,i=ht(__(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=ht(ew(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=ht(__(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=ht(ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?x_(e,o.fieldPath,e.startAt):E_(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new P_(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=ht(ew(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?E_(e,o.fieldPath,e.endAt):x_(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new P_(r,i)}(a,i),h=n.Ze(i,a,l),d=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return fw.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=Yb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return fw.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):$S,h=u.sn(e,f,n[s%c],r),d=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,ve(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"sn",value:function(e,t,n,r){var i=new BS(e,Yb.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new BS(e,Yb.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new GS(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=ht(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return fw.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Nw(Jb.comparator),r=!1,i=ht(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=ht(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new zS,i=ht(ew(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);FS.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new zS;return FS.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new zS;return FS.ye.re(n_(this.databaseId,t),n.Be(function(e){var t=ew(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new zS);var i,a=0,o=ht(ew(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=ht(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&i_(c))r=this.an(r,s,c);else{var h=f.Be(s.kind);FS.ye.re(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=ve(e),a=[],o=ht(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=ht(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new zS;f.seed(l.Oe()),FS.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof S_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=XS(e),i=ZS(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return fw.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new nw(t.sequenceNumber,new aw(_S(t.readTime),new Yb(BE(t.documentKey)),t.largestBatchId)):nw.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new tw(Jb.fromServerFormat(n),r)}));return new Xb(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Bb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=XS(e),a=ZS(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return fw.forEach(t,(function(t){return a.put(AS(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return fw.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?fw.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),fw.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?fw.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return YS(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return YS(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=YS(e),i=new Nw(qS);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new BS(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new Nw(qS),r=this.on(t,e);if(null==r)return n;var i=Zb(t);if(null!=i){var a=e.data.field(i.fieldPath);if(i_(a)){var o,u=ht(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new BS(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new BS(t.indexId,e.key,$S,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;_b("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Dw(a),s=Dw(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Dw(o)):l?(i(u),u=Dw(a)):(u=Dw(a),s=Dw(o))}}(r,i,qS,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),fw.waitFor(o)}},{key:"ln",value:function(e){var t=1;return ZS(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return qS(e,t)})).filter((function(e,t,n){return!t||0!==qS(e,n[t-1])}));var r=[];r.push(e);var i,a=ht(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=qS(o,e),s=qS(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,$S,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,$S,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(eI)}},{key:"getMinOffset",value:function(e,t){var n=this;return fw.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Ib()}))})).next(eI)}}]),e}();function JS(e){return dS(e,"collectionParents")}function YS(e){return dS(e,"indexEntries")}function XS(e){return dS(e,"indexConfiguration")}function ZS(e){return dS(e,"indexState")}function eI(e){Tb(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;ow(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new aw(t.readTime,t.documentKey,n)}var tI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nI=function(){function e(t,n,r){ye(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ge(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function rI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Tb(1===u)})));var c,l=[],f=ht(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=GE(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return fw.waitFor(a).next((function(){return l}))}function iI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ib();t=e.noDocument}return JSON.stringify(t).length}nI.DEFAULT_COLLECTION_PERCENTILE=10,nI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nI.DEFAULT=new nI(41943040,nI.DEFAULT_COLLECTION_PERCENTILE,nI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nI.DISABLED=new nI(-1,0,0);var aI=function(){function e(t,n,r,i){ye(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ge(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uI(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=sI(e),o=uI(e);return o.add({}).next((function(u){Tb("number"==typeof u);var s,c=new pS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return SE(e.ne,t)})),i=n.mutations.map((function(t){return SE(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],h=new Nw((function(e,t){return Bb(e.canonicalString(),t.canonicalString())})),d=ht(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=GE(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,WE))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),fw.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return uI(e).get(t).next((function(e){return e?(Tb(e.userId===n.userId),xS(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?fw.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return uI(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Tb(t.batchId>=r),a=xS(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return uI(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uI(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return xS(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=KE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return sI(e).J({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=BE(l);if(s===n.userId&&t.path.isEqual(h))return uI(e).get(f).next((function(e){if(!e)throw Ib();Tb(e.userId===n.userId),a.push(xS(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Nw(Bb),i=[];return t.forEach((function(t){var a=KE(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=sI(e).J({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=BE(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),fw.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=KE(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Nw(Bb);return sI(e).J({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=BE(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(uI(e).get(t).next((function(e){if(null===e)throw Ib();Tb(e.userId===n.userId),r.push(xS(n.wt,e))})))})),fw.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return rI(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),fw.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return fw.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return sI(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=BE(e[1]);i.push(a)}else r.done()})).next((function(){Tb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return oI(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return cI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Tb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function oI(e,t,n){var r=KE(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return sI(e).J({range:a,H:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function uI(e){return dS(e,"mutations")}function sI(e){return dS(e,"documentMutations")}function cI(e){return dS(e,"mutationQueues")}var lI=function(){function e(t){ye(this,e),this.En=t}return ge(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),fI=function(){function e(t,n){ye(this,e),this.referenceDelegate=t,this.wt=n}return ge(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new lI(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return Wb.fromTimestamp(new Gb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return hI(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Tb(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return hI(e).J((function(o,u){var s=ES(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return fw.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return hI(e).J((function(e,n){var r=ES(n);t(r)}))}},{key:"bn",value:function(e){return dI(e).get("targetGlobalKey").next((function(e){return Tb(null!==e),e}))}},{key:"Pn",value:function(e,t){return dI(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return hI(e).put(SS(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=k_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hI(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=ES(n);b_(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=pI(e);return t.forEach((function(t){var o=UE(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),fw.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=pI(e);return fw.forEach(t,(function(t){var a=UE(t.path);return fw.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=pI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pI(e),i=Qx();return r.J({range:n,H:!0},(function(e,t,n){var r=BE(e[1]),a=new Yb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=UE(t.path),r=IDBKeyRange.bound([n],[Kb(n)],!1,!0),i=0;return pI(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return hI(e).get(t).next((function(e){return e?ES(e):null}))}}]),e}();function hI(e){return dS(e,"targets")}function dI(e){return dS(e,"targetGlobal")}function pI(e){return dS(e,"targetDocuments")}function vI(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Bb(r,o);return 0===s?Bb(i,u):s}var yI=function(){function e(t){ye(this,e),this.Sn=t,this.buffer=new Nw(vI),this.Dn=0}return ge(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();vI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),mI=function(){function e(t,n,r){ye(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ge(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;_b("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!yw(e.t0)){e.next=12;break}_b("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,cw(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),gI=function(){function e(t,n){ye(this,e),this.On=t,this.params=n}return ge(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return fw.resolve(xw.ot);var r=new yI(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_b("LruGarbageCollector","Garbage collection skipped; disabled"),fw.resolve(tI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_b("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),tI):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_b("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),wb()<=bu.DEBUG&&_b("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),fw.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),kI=function(){function e(t,n){ye(this,e),this.db=t,this.garbageCollector=function(e,t){return new gI(e,t)}(this,n)}return ge(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return bI(e,n)}},{key:"removeReference",value:function(e,t,n){return bI(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return bI(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return cI(e).Y((function(r){return oI(e,r,t).next((function(e){return e&&(n=!0),fw.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Wb.min()),pI(e).delete([0,UE(o.path)])}))}));i.push(s)}})).next((function(){return fw.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return bI(e,t)}},{key:"Ln",value:function(e,t){var n,r=pI(e),i=xw.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==xw.ot&&t(new Yb(BE(n)),i),i=s,n=u):i=xw.ot})).next((function(){i!==xw.ot&&t(new Yb(BE(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function bI(e,t){return pI(e).put(function(e,t){return{targetId:0,path:UE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var wI=function(){function e(){ye(this,e),this.changes=new jx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ge(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,y_.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?fw.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),_I=function(){function e(t){ye(this,e),this.wt=t}return ge(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return II(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return II(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],bS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=y_.newInvalidDocument(t);return II(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(TI(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:y_.newInvalidDocument(t)};return II(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(TI(t))},(function(e,i){r={document:n.Kn(t,i),size:iI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Vx();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=Vx(),i=new Tw(Yb.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,iI(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return fw.resolve();var r=new Nw(AI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(TI(r.first()),TI(r.last())),a=r.getIterator(),o=a.getNext();return II(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Yb.fromSegments([].concat(ve(t.prefixPath),[t.collectionGroup,t.documentId]));o&&AI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(TI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),bS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return II(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Vx(),i=ht(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(Yb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Vx(),o=CI(t,n),u=CI(t,aw.max());return II(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(Yb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new EI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return SI(e).get("remoteDocumentGlobalKey").next((function(e){return Tb(!!e),e}))}},{key:"qn",value:function(e,t){return SI(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=xE(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Yb.fromSegments(t.noDocument.path),i=_S(t.noDocument.readTime);n=y_.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ib();var a=Yb.fromSegments(t.unknownDocument.path),o=_S(t.unknownDocument.version);n=y_.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Gb(e[0],e[1]);return Wb.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(Wb.min()))return n}return y_.newInvalidDocument(e)}}]),e}();function xI(e){return new _I(e)}var EI=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new jx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ge(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Nw((function(e,t){return Bb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=kS(t.zn.wt,o);i=i.add(a.path.popLast());var c=iI(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=kS(t.zn.wt,o.convertToNoDocument(Wb.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),fw.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(wI);function SI(e){return dS(e,"remoteDocumentGlobal")}function II(e){return dS(e,"remoteDocumentsV14")}function TI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function CI(e,t){var n=t.documentKey.path.toArray();return[e,bS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function AI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Bb(n[a],r[a]))return i;return(i=Bb(n.length,r.length))||((i=Bb(n[n.length-2],r[r.length-2]))||Bb(n[n.length-1],r[r.length-1]))}var NI=ge((function e(t,n){ye(this,e),this.overlayedDocument=t,this.mutatedFields=n})),OI=function(){function e(t,n,r,i){ye(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ge(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&xx(r.mutation,e,Rw.empty(),Gb.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Qx()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Qx(),i=Kx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Bx();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Kx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Qx())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Vx(),a=Wx(),o=Wx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Tx)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),xx(o.mutation,t,o.mutation.getFieldMask(),Gb.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new NI(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Wx(),i=new Tw((function(e,t){return e-t})),a=Qx();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=ht(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Rw.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Qx()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Gx();c.forEach((function(e){if(!a.has(e)){var n=wx(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return fw.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Yb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):K_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):fw.resolve(Kx()),u=-1,s=a;return o.next((function(t){return fw.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?fw.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Qx())})).next((function(e){return{batchId:u,changes:qx(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Yb(t)).next((function(e){var t=Bx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Bx();return this.indexManager.getCollectionParents(e,i).next((function(o){return fw.forEach(o,(function(o){var u=function(e,t){return new U_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,y_.newInvalidDocument(n)))}));var n=Bx();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&xx(a.mutation,i,Rw.empty(),Gb.now()),Y_(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):fw.resolve(y_.newInvalidDocument(t))}}]),e}(),DI=function(){function e(t){ye(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ge(e,[{key:"getBundleMetadata",value:function(e,t){return fw.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:dE(n.createTime)}),fw.resolve()}},{key:"getNamedQuery",value:function(e,t){return fw.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:IS(e.bundledQuery),readTime:dE(e.readTime)}}(t)),fw.resolve()}}]),e}(),RI=function(){function e(){ye(this,e),this.overlays=new Tw(Yb.comparator),this.Xn=new Map}return ge(e,[{key:"getOverlay",value:function(e,t){return fw.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Kx();return fw.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),fw.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),fw.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Kx(),i=t.length+1,a=new Yb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return fw.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Tw((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Kx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Kx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return fw.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yS(t,n));var a=this.Xn.get(t);void 0===a&&(a=Qx(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),PI=function(){function e(){ye(this,e),this.Zn=new Nw(FI.ts),this.es=new Nw(FI.ns)}return ge(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new FI(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new FI(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Yb(new $b([])),r=new FI(n,e),i=new FI(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new Yb(new $b([])),n=new FI(t,e),r=new FI(t,e+1),i=Qx();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new FI(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),FI=function(){function e(t,n){ye(this,e),this.key=t,this.ls=n}return ge(e,null,[{key:"ts",value:function(e,t){return Yb.comparator(e.key,t.key)||Bb(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Bb(e.ls,t.ls)||Yb.comparator(e.key,t.key)}}]),e}(),LI=function(){function e(t,n){ye(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new Nw(FI.ts)}return ge(e,[{key:"checkEmpty",value:function(e){return fw.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new pS(i,t,n,r);this.mutationQueue.push(a);var o,u=ht(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new FI(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return fw.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return fw.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return fw.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return fw.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return fw.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new FI(t,0),i=new FI(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),fw.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Nw(Bb);return t.forEach((function(e){var t=new FI(e,0),i=new FI(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),fw.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Yb.isDocumentKey(i)||(i=i.child(""));var a=new FI(new Yb(i),0),o=new Nw(Bb);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),fw.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Tb(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return fw.forEach(t.mutations,(function(i){var a=new FI(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new FI(t,0),r=this.ds.firstAfterOrEqual(n);return fw.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,fw.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),MI=function(){function e(t){ye(this,e),this.ps=t,this.docs=new Tw(Yb.comparator),this.size=0}return ge(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return fw.resolve(n?n.document.mutableCopy():y_.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Vx();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():y_.newInvalidDocument(e))})),fw.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Vx(),i=new Yb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||ow(iw(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return fw.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ib()}},{key:"Is",value:function(e,t){return fw.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jI(this)}},{key:"getSize",value:function(e){return fw.resolve(this.size)}}]),e}(),jI=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).zn=e,r}return ge(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),fw.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(wI),UI=function(){function e(t){ye(this,e),this.persistence=t,this.Ts=new jx((function(e){return k_(e)}),b_),this.lastRemoteSnapshotVersion=Wb.min(),this.highestTargetId=0,this.Es=0,this.As=new PI,this.targetCount=0,this.Rs=lI.An()}return ge(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),fw.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return fw.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return fw.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),fw.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),fw.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new lI(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,fw.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),fw.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,fw.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),fw.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return fw.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return fw.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),fw.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),fw.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),fw.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return fw.resolve(n)}},{key:"containsKey",value:function(e,t){return fw.resolve(this.As.containsKey(t))}}]),e}(),VI=function(){function e(t,n){var r=this;ye(this,e),this.bs={},this.overlays={},this.Ps=new xw(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new UI(this),this.indexManager=new WS,this.remoteDocumentCache=new MI((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new gS(n),this.Ds=new DI(this.wt)}return ge(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new RI,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new LI(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;_b("MemoryPersistence","Starting transaction:",e);var i=new zI(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return fw.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),zI=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ge(n)}(sw),BI=function(){function e(t){ye(this,e),this.persistence=t,this.ks=new PI,this.Os=null}return ge(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Ib()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),fw.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),fw.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),fw.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fw.forEach(this.Fs,(function(r){var i=Yb.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,Wb.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return fw.or([function(){return fw.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),qI=function(){function e(t){ye(this,e),this.wt=t}return ge(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new hw("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qE,{unique:!0}),e.createObjectStore("documentMutations")}(e),KI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=fw.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),KI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wb.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",qE,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return fw.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:iS});t.createIndex("collectionPathOverlayIndex",aS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",oS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:HE});t.createIndex("documentKeyIndex",$E),t.createIndex("collectionGroupIndex",QE)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:eS}).createIndex("sequenceNumberIndex",tS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:nS}).createIndex("documentKeyIndex",rS,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=iI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return fw.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return fw.forEach(r,(function(r){Tb(r.userId===n.userId);var i=xS(t.wt,r);return rI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new $b(n),o=function(e){return[0,UE(e)]}(a);r.push(t.get(o).next((function(n){return n?fw.resolve():function(n){return t.put({targetId:0,path:UE(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return fw.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:ZE});var n=t.store("collectionParents"),r=new HS,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:UE(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new $b(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],BE(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=ES(r),a=SS(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Yb($b.fromString(i.document.name).popFirst(5)):i.noDocument?Yb.fromSegments(i.noDocument.path):i.unknownDocument?Yb.fromSegments(i.unknownDocument.path):Ib()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return fw.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=xI(this.wt),a=new VI(BI.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Qx();xS(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),fw.forEach(r,(function(e,r){var o=new gb(r),u=RS.se(n.wt,o),s=a.getIndexManager(o),c=aI.se(o,n.wt,s,a.referenceDelegate);return new OI(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new hS(t,xw.ot),e).next()}))}))}}]),e}();function KI(e){e.createObjectStore("targetDocuments",{keyPath:YE}).createIndex("documentTargetsIndex",XE,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JE,{unique:!0}),e.createObjectStore("targetGlobal")}var GI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",WI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(ye(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new Nb(Ab.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kI(this,i),this.ei=n+"main",this.wt=new gS(s),this.ni=new dw(this.ei,this.Hs,new qI(this.wt)),this.Vs=new fI(this.referenceDelegate,this.wt),this.remoteDocumentCache=xI(this.wt),this.Ds=new NS,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&xb("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ge(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Nb(Ab.FAILED_PRECONDITION,GI);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new xw(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=vu(du().mark((function n(r){return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=vu(du().mark((function t(n){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return $I(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(yw(t))return _b("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _b("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return HI(e).get("owner").next((function(e){return fw.resolve(t.di(e))}))}},{key:"_i",value:function(e){return $I(e).delete(this.clientId)}},{key:"wi",value:function(){var e=vu(du().mark((function e(){var t,n,r,i,a=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=dS(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return fw.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=ht(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?fw.resolve(!0):HI(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new Nb(Ab.FAILED_PRECONDITION,GI);return!1}}return!(!t.networkEnabled||!t.inForeground)||$I(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_b("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=vu(du().mark((function e(){var t=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new hS(e,xw.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return $I(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return aI.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new QS(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return RS.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;_b("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?fS:14===i?lS:13===i?cS:12===i?sS:11===i?uS:void Ib();return this.ni.runTransaction(e,o,u,(function(i){return a=new hS(i,r.Ps?r.Ps.next():xw.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw xb("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new Nb(Ab.FAILED_PRECONDITION,uw);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return HI(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Nb(Ab.FAILED_PRECONDITION,GI)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return HI(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=HI(e);return n.get("owner").next((function(e){return t.di(e)?(_b("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):fw.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(xb("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!$o()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return _b("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return xb("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(gy){xb("Failed to set zombie client id.",gy)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(gy){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return dw.V()}}]),e}();function HI(e){return dS(e,"owner")}function $I(e){return dS(e,"clientMetadata")}function QI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var JI=function(){function e(t,n,r,i){ye(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ge(e,null,[{key:"Vi",value:function(t,n){var r,i=Qx(),a=Qx(),o=ht(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),YI=function(){function e(){ye(this,e),this.Si=!1}return ge(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return fw.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Wb.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(wb()<=bu.DEBUG&&_b("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),J_(t)),i.Mi(e,o,t,rw(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new Nw(Z_(e));return t.forEach((function(t,r){Y_(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return wb()<=bu.DEBUG&&_b("QueryEngine","Using full collection scan to execute query:",J_(t)),this.Di.getDocumentsMatchingQuery(e,t,aw.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),XI=function(){function e(t,n,r,i){ye(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Tw(Bb),this.Bi=new jx((function(e){return k_(e)}),b_),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ge(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OI(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function ZI(e,t,n,r){return new XI(e,t,n,r)}function eT(e,t){return tT.apply(this,arguments)}function tT(){return tT=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Qx(),s=ht(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ht(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ht(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ht(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n=Cb(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=fw.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Tb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Qx(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function rT(e){var t=Cb(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function iT(e,t){var n=Cb(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Pw.EMPTY_BYTE_STRING,Wb.min()).withLastLimboFreeSnapshotVersion(Wb.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=Vx(),s=Qx();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(aT(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(Wb.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return fw.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function aT(e,t,n){var r=Qx(),i=Qx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Vx();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Wb.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):_b("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function oT(e,t){var n=Cb(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function uT(e,t){var n=Cb(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,fw.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new mS(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function sT(e,t,n){return cT.apply(this,arguments)}function cT(){return cT=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cb(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),yw(e.t1)){e.next=12;break}throw e.t1;case 12:_b("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),cT.apply(this,arguments)}function lT(e,t,n){var r=Cb(e),i=Wb.min(),a=Qx();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Cb(e),i=r.Bi.get(n);return void 0!==i?fw.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,W_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:Wb.min(),n?a:Qx())})).next((function(e){return dT(r,X_(t),e),{documents:e,ji:a}}))}))}function fT(e,t){var n=Cb(e),r=Cb(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function hT(e,t){var n=Cb(e),r=n.Li.get(t)||Wb.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,rw(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return dT(n,t,e),e}))}function dT(e,t,n){var r=Wb.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function pT(e,t,n,r){return vT.apply(this,arguments)}function vT(){return vT=vu(du().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Cb(t),o=Qx(),u=Vx(),s=ht(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,uT(a,function(e){return W_(z_($b.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return aT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function yT(e,t){return mT.apply(this,arguments)}function mT(){return mT=vu(du().mark((function e(t,n){var r,i,a,o=arguments;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Qx(),e.next=3,uT(t,W_(IS(n.bundledQuery)));case 3:return i=e.sent,a=Cb(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=dE(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(Pw.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),mT.apply(this,arguments)}function gT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function kT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function bT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var wT=function(){function e(t,n,r,i){ye(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ge(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Nb(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(xb("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),_T=function(){function e(t,n,r){ye(this,e),this.targetId=t,this.state=n,this.error=r}return ge(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nb(i.error.code,i.error.message))),a?new e(t,i.state,r):(xb("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),xT=function(){function e(t,n){ye(this,e),this.clientId=t,this.activeTargetIds=n}return ge(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Yx(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ww(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(xb("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ET=function(){function e(t,n){ye(this,e),this.clientId=t,this.onlineState=n}return ge(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(xb("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),ST=function(){function e(){ye(this,e),this.activeTargetIds=Yx()}return ge(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),IT=function(){function e(t,n,r,i,a){ye(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Tw(Bb),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=gT(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new ST),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ge(e,[{key:"start",value:function(){var e=vu(du().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=ht(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(gT(this.persistenceKey,i)))&&(o=xT.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=ht(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(d){c.e(d)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(bT(this.persistenceKey,e));if(n){var r=_T.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(bT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return _b("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){_b("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){_b("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_b("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void xb("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(vu(du().mark((function e(){var r,i,a,o,u,s,c;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=xw.ot;if(null!=e)try{var n=JSON.parse(e);Tb("number"==typeof n),t=n}catch(e){xb("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==xw.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new wT(this.currentUser,e,t,n),i=kT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=kT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=bT(this.persistenceKey,e),i=new _T(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return xT.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return wT.Ji(new gb(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return _T.Ji(r,t)}},{key:"wr",value:function(e){return ET.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:_b("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=Yx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),TT=function(){function e(){ye(this,e),this.Fr=new ST,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ge(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new ST,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),CT=function(){function e(){ye(this,e)}return ge(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),AT=function(){function e(){var t=this;ye(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ge(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){_b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ht(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){_b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ht(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),NT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},OT=function(){function e(t){ye(this,e),this.jr=t.jr,this.Wr=t.Wr}return ge(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),DT=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ge(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new yb;o.listenOnce(fb.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case lb.NO_ERROR:var t=o.getResponseJson();_b("Connection","XHR received:",JSON.stringify(t)),i(t);break;case lb.TIMEOUT:_b("Connection",'RPC "'+e+'" timed out'),a(new Nb(Ab.DEADLINE_EXCEEDED,"Request time out"));break;case lb.HTTP_ERROR:var n=o.getStatus();if(_b("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ab).indexOf(t)>=0?t:Ab.UNKNOWN}(r.status);a(new Nb(u,r.message))}else a(new Nb(Ab.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Nb(Ab.UNAVAILABLE,"Connection failed."));break;default:Ib()}}finally{_b("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=sb(),a=cb(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new pb({})),this.uo(o.initMessageHeaders,t,n),Ho()||Jo()||Wo().indexOf("Electron/")>=0||Yo()||Wo().indexOf("MSAppHost/")>=0||Qo()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");_b("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new OT({jr:function(e){l?_b("Connection","Not sending because WebChannel is closed:",e):(c||(_b("Connection","Opening WebChannel transport."),s.open(),c=!0),_b("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,vb.EventType.OPEN,(function(){l||_b("Connection","WebChannel transport opened.")})),h(s,vb.EventType.CLOSE,(function(){l||(l=!0,_b("Connection","WebChannel transport closed"),f.eo())})),h(s,vb.EventType.ERROR,(function(e){l||(l=!0,Eb("Connection","WebChannel transport errored:",e),f.eo(new Nb(Ab.UNAVAILABLE,"The operation could not be completed")))})),h(s,vb.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Tb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_b("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Ox[e];if(void 0!==t)return Mx(t)}(a),u=i.message;void 0===o&&(o=Ab.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new Nb(o,u)),s.close()}else _b("Connection","WebChannel received:",n),f.no(n)}})),h(a,hb.STAT_EVENT,(function(e){e.stat===db.PROXY?_b("Connection","Detected buffering proxy"):e.stat===db.NOPROXY&&_b("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ye(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ge(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);_b("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return _b("RestConnection","Received: ",e),e}),(function(t){throw Eb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+kb,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=NT[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function RT(){return"undefined"!=typeof window?window:null}function PT(){return"undefined"!=typeof document?document:null}function FT(e){return new cE(e,!0)}var LT=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ye(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ge(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&_b("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),MT=function(){function e(t,n,r,i,a,o,u,s){ye(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new LT(t,n)}return ge(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===Ab.RESOURCE_EXHAUSTED?(xb(n.toString()),xb("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===Ab.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new Nb(Ab.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return _b("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(_b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),jT=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a,o,u){var s;return ye(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return ge(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ib()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Tb(void 0===t||"string"==typeof t),Pw.fromBase64String(t||"")):(Tb(void 0===t||t instanceof Uint8Array),Pw.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Ab.UNKNOWN:Mx(e.code);return new Nb(t,e.message||"")}(o);n=new nE(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=mE(e,s.document.name),l=dE(s.document.updateTime),f=new p_({mapValue:{fields:s.document.fields}}),h=y_.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new eE(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=mE(e,v.document),m=v.readTime?dE(v.readTime):Wb.min(),g=y_.newNoDocument(y,m),k=v.removedTargetIds||[];n=new eE([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=mE(e,b.document),_=b.removedTargetIds||[];n=new eE([],_,w,null)}else{if(!("filter"in t))return Ib();t.filter;var x=t.filter;x.targetId;var E=x.count||0,S=new Fx(E),I=x.targetId;n=new tE(I,S)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Wb.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Wb.min():t.readTime?dE(t.readTime):Wb.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=bE(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=w_(r)?{documents:TE(e,r)}:{query:CE(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=fE(e,t.resumeToken):t.snapshotVersion.compareTo(Wb.min())>0&&(n.readTime=lE(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ib()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=bE(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(MT),UT=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a,o,u){var s;return ye(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return ge(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,At(Ke(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Tb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Tb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?dE(e.updateTime):dE(t);return n.isEqual(Wb.min())&&(n=dE(t)),new mx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=dE(e.commitTime);return this.listener.Jo(n,t)}return Tb(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=bE(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return SE(t.wt,e)}))};this.Mo(n)}}]),n}(MT),VT=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a){var o;return ye(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ge(n,[{key:"tu",value:function(){if(this.Zo)throw new Nb(Ab.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ab.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Nb(Ab.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=c(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Ab.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Nb(Ab.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ge((function e(){ye(this,e)}))}()),zT=function(){function e(t,n){ye(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ge(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(xb(t),this.su=!1):_b("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),BT=ge((function e(t,n,r,i,a){var o=this;ye(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ZT(o),!e.t0){e.next=5;break}return _b("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cb(t)).lu.add(4),e.next=4,GT(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,qT(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new zT(r,i)}));function qT(e){return KT.apply(this,arguments)}function KT(){return KT=vu(du().mark((function e(t){var n,r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!ZT(t)){e.next=18;break}n=ht(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),KT.apply(this,arguments)}function GT(e){return WT.apply(this,arguments)}function WT(){return WT=vu(du().mark((function e(t){var n,r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ht(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),WT.apply(this,arguments)}function HT(e,t){var n=Cb(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),XT(n)?YT(n):CC(n).Co()&&QT(n,t))}function $T(e,t){var n=Cb(e),r=CC(n);n.hu.delete(t),r.Co()&&JT(n,t),0===n.hu.size&&(r.Co()?r.ko():ZT(n)&&n._u.set("Unknown"))}function QT(e,t){e.wu.Nt(t.targetId),CC(e).Qo(t)}function JT(e,t){e.wu.Nt(t),CC(e).jo(t)}function YT(e){e.wu=new iE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),CC(e).start(),e._u.iu()}function XT(e){return ZT(e)&&!CC(e).Do()&&e.hu.size>0}function ZT(e){return 0===Cb(e).lu.size}function eC(e){e.wu=void 0}function tC(e){return nC.apply(this,arguments)}function nC(){return nC=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){QT(t,e)}));case 1:case"end":return e.stop()}}),e)}))),nC.apply(this,arguments)}function rC(e,t){return iC.apply(this,arguments)}function iC(){return iC=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eC(t),XT(t)?(t._u.uu(n),YT(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),iC.apply(this,arguments)}function aC(e,t,n){return oC.apply(this,arguments)}function oC(){return oC=vu(du().mark((function e(t,n,r){var i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof nE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ht(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),_b("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,uC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof eE?t.wu.Ut(n):n instanceof tE?t.wu.zt(n):t.wu.Gt(n),r.isEqual(Wb.min())){e.next=29;break}return e.prev=14,e.next=17,rT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(Pw.EMPTY_BYTE_STRING,n.snapshotVersion)),JT(e,t);var r=new mS(n.target,t,1,n.sequenceNumber);QT(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),_b("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,uC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),oC.apply(this,arguments)}function uC(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=vu(du().mark((function e(t,n,r){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yw(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,GT(t);case 5:t._u.set("Offline"),r||(r=function(){return rT(t.localStore)}),t.asyncQueue.enqueueRetryable(vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _b("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,qT(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t){return t().catch((function(n){return uC(e,n,t)}))}function lC(e){return fC.apply(this,arguments)}function fC(){return fC=vu(du().mark((function e(t){var n,r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Cb(t),r=AC(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!hC(n)){e.next=19;break}return e.prev=3,e.next=6,oT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,dC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,uC(n,e.t0);case 17:e.next=2;break;case 19:pC(n)&&vC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),fC.apply(this,arguments)}function hC(e){return ZT(e)&&e.au.length<10}function dC(e,t){e.au.push(t);var n=AC(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function pC(e){return ZT(e)&&!AC(e).Do()&&e.au.length>0}function vC(e){AC(e).start()}function yC(e){return mC.apply(this,arguments)}function mC(){return mC=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:AC(t).Xo();case 1:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function gC(e){return kC.apply(this,arguments)}function kC(){return kC=vu(du().mark((function e(t){var n,r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=AC(t),r=ht(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),kC.apply(this,arguments)}function bC(e,t,n){return wC.apply(this,arguments)}function wC(){return wC=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=vS.from(i,n,r),e.next=3,cC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,lC(t);case 5:case"end":return e.stop()}}),e)}))),wC.apply(this,arguments)}function _C(e,t){return xC.apply(this,arguments)}function xC(){return xC=vu(du().mark((function e(t,n){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&AC(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Lx(i=n.code)||i===Ab.ABORTED){e.next=7;break}return r=t.au.shift(),AC(t).No(),e.next=5,cC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,lC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:pC(t)&&vC(t);case 5:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function EC(e,t){return SC.apply(this,arguments)}function SC(){return SC=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Cb(t)).asyncQueue.verifyOperationInProgress(),_b("RemoteStore","RemoteStore received new credentials"),i=ZT(r),r.lu.add(3),e.next=6,GT(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,qT(r);case 12:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function IC(e,t){return TC.apply(this,arguments)}function TC(){return TC=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cb(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,qT(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,GT(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),TC.apply(this,arguments)}function CC(e){return e.mu||(e.mu=function(e,t,n){var r=Cb(e);return r.tu(),new jT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:tC.bind(null,e),Jr:rC.bind(null,e),Go:aC.bind(null,e)}),e.fu.push(function(){var t=vu(du().mark((function t(n){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),XT(e)?YT(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:eC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function AC(e){return e.gu||(e.gu=function(e,t,n){var r=Cb(e);return r.tu(),new UT(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:yC.bind(null,e),Jr:_C.bind(null,e),Yo:gC.bind(null,e),Jo:bC.bind(null,e)}),e.fu.push(function(){var t=vu(du().mark((function t(n){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,lC(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(_b("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var NC=function(){function e(t,n,r,i,a){ye(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ob,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ge(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nb(Ab.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function OC(e,t){if(xb("AsyncQueue","".concat(t,": ").concat(e)),yw(e))return new Nb(Ab.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var DC=function(){function e(t){ye(this,e),this.comparator=t?function(e,n){return t(e,n)||Yb.comparator(e.key,n.key)}:function(e,t){return Yb.comparator(e.key,t.key)},this.keyedMap=Bx(),this.sortedSet=new Tw(this.comparator)}return ge(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),RC=function(){function e(){ye(this,e),this.yu=new Tw(Yb.comparator)}return ge(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Ib():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),PC=function(){function e(t,n,r,i,a,o,u,s){ye(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ge(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,DC.emptySet(n),a,r,i,!0,!1)}}]),e}(),FC=ge((function e(){ye(this,e),this.Iu=void 0,this.listeners=[]})),LC=ge((function e(){ye(this,e),this.queries=new jx((function(e){return Q_(e)}),$_),this.onlineState="Unknown",this.Tu=new Set}));function MC(e,t){return jC.apply(this,arguments)}function jC(){return jC=vu(du().mark((function e(t,n){var r,i,a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cb(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new FC),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=OC(e.t0,"Initialization of query '".concat(J_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&qC(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),jC.apply(this,arguments)}function UC(e,t){return VC.apply(this,arguments)}function VC(){return VC=vu(du().mark((function e(t,n){var r,i,a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cb(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),VC.apply(this,arguments)}function zC(e,t){var n,r=Cb(e),i=!1,a=ht(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ht(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&qC(r)}function BC(e,t,n){var r=Cb(e),i=r.queries.get(t);if(i){var a,o=ht(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function qC(e){e.Tu.forEach((function(e){e.next()}))}var KC=function(){function e(t,n,r){ye(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ge(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ht(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new PC(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=PC.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),GC=function(){function e(t,n){ye(this,e),this.payload=t,this.byteLength=n}return ge(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),WC=function(){function e(t){ye(this,e),this.wt=t}return ge(e,[{key:"Wi",value:function(e){return mE(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?xE(this.wt,e.document,!1):y_.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return dE(e)}}]),e}(),HC=function(){function e(t,n,r){ye(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$C(t)}return ge(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=$b.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new WC(this.wt),i=ht(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=ht(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Qx()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=vu(du().mark((function e(){var t,n,r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pT(this.localStore,new WC(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=ht(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,yT(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function $C(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var QC=ge((function e(t){ye(this,e),this.key=t})),JC=ge((function e(t){ye(this,e),this.key=t})),YC=function(){function e(t,n){ye(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=Qx(),this.mutatedKeys=Qx(),this.Lu=Z_(t),this.Uu=new DC(this.Lu)}return ge(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new RC,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Y_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ib()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new PC(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new RC,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=Qx(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new JC(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new QC(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=Qx();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return PC.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),XC=ge((function e(t,n,r){ye(this,e),this.query=t,this.targetId=n,this.view=r})),ZC=ge((function e(t){ye(this,e),this.key=t,this.Xu=!1})),eA=function(){function e(t,n,r,i,a,o){ye(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new jx((function(e){return Q_(e)}),$_),this.ec=new Map,this.nc=new Set,this.sc=new Tw(Yb.comparator),this.ic=new Map,this.rc=new PI,this.oc={},this.uc=new Map,this.cc=lI.Rn(),this.onlineState="Unknown",this.ac=void 0}return ge(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function tA(e,t){return nA.apply(this,arguments)}function nA(){return nA=vu(du().mark((function e(t,n){var r,i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=$A(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,uT(r.localStore,W_(n));case 8:return u=e.sent,r.isPrimaryClient&&HT(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,rA(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),nA.apply(this,arguments)}function rA(e,t,n,r){return iA.apply(this,arguments)}function iA(){return iA=vu(du().mark((function e(t,n,r,i){var a,o,u,s,c,l;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=vu(du().mark((function e(t,n,r,i){var a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,lT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(EA(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,lT(t.localStore,n,!0);case 3:return a=e.sent,o=new YC(n,a.ji),u=o.Ku(a.documents),s=Zx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),EA(t,r,c.zu),l=new XC(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Cb(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!$_(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,sT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),$T(r.remoteStore,i.targetId),_A(r,i.targetId)})).catch(cw);case 9:e.next=14;break;case 11:return _A(r,i.targetId),e.next=14,sT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function uA(e,t,n){return sA.apply(this,arguments)}function sA(){return sA=vu(du().mark((function e(t,n,r){var i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=QA(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Cb(e),a=Gb.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Qx());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Vx(),s=Qx();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=ht(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Ex(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Tx(c.key,l,v_(l.value.mapValue),gx.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:qx(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Tw(Bb)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,TA(i,a.changes);case 9:return e.next=11,lC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=OC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),sA.apply(this,arguments)}function cA(e,t){return lA.apply(this,arguments)}function lA(){return lA=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),e.prev=1,e.next=4,iT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Tb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Tb(n.Xu):e.removedDocuments.size>0&&(Tb(n.Xu),n.Xu=!1))})),e.next=8,TA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,cw(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),lA.apply(this,arguments)}function fA(e,t,n){var r=Cb(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Cb(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ht(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&qC(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return dA=vu(du().mark((function e(t,n,r){var i,a,o,u,s,c;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Cb(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Tw(Yb.comparator)).insert(o,y_.newNoDocument(o,Wb.min())),s=Qx().add(o),c=new Xx(Wb.min(),new Map,new Nw(Bb),u,s),e.next=9,cA(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),IA(i),e.next=16;break;case 14:return e.next=16,sT(i.localStore,n,!1).then((function(){return _A(i,n,r)})).catch(cw);case 16:case"end":return e.stop()}}),e)}))),dA.apply(this,arguments)}function pA(e,t){return vA.apply(this,arguments)}function vA(){return vA=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),i=n.batch.batchId,e.prev=1,e.next=4,nT(r.localStore,n);case 4:return a=e.sent,wA(r,i,null),bA(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,TA(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),vA.apply(this,arguments)}function yA(e,t,n){return mA.apply(this,arguments)}function mA(){return mA=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cb(t),e.prev=1,e.next=4,function(e,t){var n=Cb(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Tb(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,wA(i,n,r),bA(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,TA(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,cw(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),mA.apply(this,arguments)}function gA(e,t){return kA.apply(this,arguments)}function kA(){return kA=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ZT((r=Cb(t)).remoteStore)||_b("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Cb(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=OC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),kA.apply(this,arguments)}function bA(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function wA(e,t,n){var r=Cb(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function _A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ht(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||xA(e,t)}))}function xA(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&($T(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),IA(e))}function EA(e,t,n){var r,i=ht(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof QC?(e.rc.addReference(a.key,t),SA(e,a)):a instanceof JC?(_b("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||xA(e,a.key)):Ib()}}catch(o){i.e(o)}finally{i.f()}}function SA(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(_b("SyncEngine","New document in limbo: "+n),e.nc.add(r),IA(e))}function IA(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new Yb($b.fromString(t)),r=e.cc.next();e.ic.set(r,new ZC(n)),e.sc=e.sc.insert(n,r),HT(e.remoteStore,new mS(W_(z_(n.path)),r,2,xw.ot))}}function TA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=vu(du().mark((function e(t,n,r){var i,a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Cb(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=JI.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=vu(du().mark((function e(t,n){var r,i,a,o,u,s,c,l;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return fw.forEach(n,(function(t){return fw.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return fw.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),yw(e.t0)){e.next=10;break}throw e.t0;case 10:_b("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ht(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function AA(e,t){return NA.apply(this,arguments)}function NA(){return NA=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Cb(t)).currentUser.isEqual(n)){e.next=11;break}return _b("SyncEngine","User change. New user:",n.toKey()),e.next=5,eT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new Nb(Ab.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,TA(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),NA.apply(this,arguments)}function OA(e,t){var n=Cb(e),r=n.ic.get(t);if(r&&r.Xu)return Qx().add(r.key);var i=Qx(),a=n.ec.get(t);if(!a)return i;var o,u=ht(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function DA(e,t){return RA.apply(this,arguments)}function RA(){return RA=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),e.next=3,lT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&EA(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function PA(e,t){return FA.apply(this,arguments)}function FA(){return FA=vu(du().mark((function e(t,n){var r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),e.abrupt("return",hT(r.localStore,n).then((function(e){return TA(r,e)})));case 2:case"end":return e.stop()}}),e)}))),FA.apply(this,arguments)}function LA(e,t,n,r){return MA.apply(this,arguments)}function MA(){return MA=vu(du().mark((function e(t,n,r,i){var a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cb(t),e.next=3,function(e,t){var n=Cb(e),r=Cb(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):fw.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,lC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(wA(a,n,i||null),bA(a,n),function(e,t){Cb(Cb(e).mutationQueue).In(t)}(a.localStore,n)):Ib();case 11:return e.next=13,TA(a,o);case 13:e.next=16;break;case 15:_b("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),MA.apply(this,arguments)}function jA(e,t){return UA.apply(this,arguments)}function UA(){return UA=vu(du().mark((function e(t,n){var r,i,a,o,u,s,c,l;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if($A(r=Cb(t)),QA(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,VA(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,IC(r.remoteStore,!0);case 9:o=ht(a);try{for(o.s();!(u=o.n()).done;)s=u.value,HT(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return _A(r,t),sT(r.localStore,t,!0)})),$T(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,VA(r,c);case 21:return function(e){var t=Cb(e);t.ic.forEach((function(e,n){$T(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Tw(Yb.comparator)}(r),r.ac=!1,e.next=25,IC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function VA(e,t,n){return zA.apply(this,arguments)}function zA(){return zA=vu(du().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Cb(t),a=[],o=[],u=ht(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,uT(i.localStore,W_(f[0]));case 11:l=e.sent,h=ht(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.tc.get(p),e.next=20,DA(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,fT(i.localStore,c);case 36:return m=e.sent,e.next=39,uT(i.localStore,m);case 39:return l=e.sent,e.next=42,rA(i,BA(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),zA.apply(this,arguments)}function BA(e){return V_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function qA(e){var t=Cb(e);return Cb(Cb(t.localStore).persistence).Ri()}function KA(e,t,n,r){return GA.apply(this,arguments)}function GA(){return GA=vu(du().mark((function e(t,n,r,i){var a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Cb(t)).ac){e.next=3;break}return e.abrupt("return",void _b("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,hT(a.localStore,X_(o[0]));case 10:return u=e.sent,s=Xx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,TA(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,sT(a.localStore,n,!0);case 17:return _A(a,n,i),e.abrupt("break",20);case 19:Ib();case 20:case"end":return e.stop()}}),e)}))),GA.apply(this,arguments)}function WA(e,t,n){return HA.apply(this,arguments)}function HA(){return HA=vu(du().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=$A(t)).ac){e.next=45;break}a=ht(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return _b("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,fT(i.localStore,u);case 12:return s=e.sent,e.next=15,uT(i.localStore,s);case 15:return c=e.sent,e.next=18,rA(i,BA(s),c.targetId,!1);case 18:HT(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ht(r),e.prev=30,h=du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,sT(i.localStore,t,!1).then((function(){$T(i.remoteStore,t),_A(i,t)})).catch(cw);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),HA.apply(this,arguments)}function $A(e){var t=Cb(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=OA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hA.bind(null,t),t.Zu.Go=zC.bind(null,t.eventManager),t.Zu.lc=BC.bind(null,t.eventManager),t}function QA(e){var t=Cb(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yA.bind(null,t),t}function JA(e,t,n){var r=Cb(e);(function(){var e=vu(du().mark((function e(t,n,r){var i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Cb(e),r=dE(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress($C(i)),a=new HC(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,TA(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Cb(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Eb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var YA=function(){function e(){ye(this,e),this.synchronizeTabs=!1}return ge(e,[{key:"initialize",value:function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=FT(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return ZI(this.persistence,new YI,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new VI(BI.Ms,this.wt)}},{key:"dc",value:function(e){return new TT}},{key:"terminate",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),XA=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ge(n,[{key:"initialize",value:function(){var e=vu(du().mark((function e(t){var r=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Ke(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,QA(this.yc.syncEngine);case 6:return e.next=8,lC(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return ZI(this.persistence,new YI,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new mI(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new _w(t,this.persistence);return new ww(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=QI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?nI.withCacheSize(this.cacheSizeBytes):nI.DEFAULT;return new WI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,RT(),PT(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new TT}}]),n}(YA),ZA=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ge(n,[{key:"initialize",value:function(){var e=vu(du().mark((function e(t){var r,i=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At(Ke(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof IT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:LA.bind(null,r),Or:KA.bind(null,r),Mr:WA.bind(null,r),Ri:qA.bind(null,r),Nr:PA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jA(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=RT();if(!IT.V(t))throw new Nb(Ab.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(XA),eN=function(){function e(){ye(this,e)}return ge(e,[{key:"initialize",value:function(){var e=vu(du().mark((function e(t,n){var r=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return fA(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=AA.bind(null,this.syncEngine),e.next=12,IC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new LC}},{key:"createDatastore",value:function(e){var t,n=FT(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new DT(t));return function(e,t,n,r){return new VT(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return fA(o.syncEngine,e,0)},a=AT.V()?new AT:new CT,new BT(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new eA(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Cb(t),_b("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,GT(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function tN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return vu(du().mark((function r(){var i;return du().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var nN=function(){function e(t){ye(this,e),this.observer=t,this.muted=!1}return ge(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),rN=function(){function e(t,n){var r=this;ye(this,e),this.Ec=t,this.wt=n,this.metadata=new Ob,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ge(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=vu(du().mark((function e(){var t,n,r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new GC(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=vu(du().mark((function e(){var t,n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=vu(du().mark((function e(){var t,n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),iN=function(){function e(t){ye(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ge(e,[{key:"lookup",value:function(){var e=vu(du().mark((function e(t){var n,r=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Nb(Ab.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=vu(du().mark((function e(t,n){var r,i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),i=bE(r.wt)+"/documents",a={documents:n.map((function(e){return yE(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=EE(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Tb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Rx(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=vu(du().mark((function e(){var t,n=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Yb.fromPath(t);n.mutations.push(new Px(r,n.precondition(r)))})),e.next=7,function(){var e=vu(du().mark((function e(t,n){var r,i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cb(t),i=bE(r.wt)+"/documents",a={writes:n.map((function(e){return SE(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ib();t=Wb.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Nb(Ab.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?gx.updateTime(t):gx.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wb.min()))throw new Nb(Ab.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gx.updateTime(t)}return gx.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),aN=function(){function e(t,n,r,i,a){ye(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new LT(this.asyncQueue,"transaction_retry")}return ge(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(vu(du().mark((function t(){var n,r;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new iN(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!Kw(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Lx(t)}return!1}}]),e}(),oN=function(){function e(t,n,r,i){var a=this;ye(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gb.UNAUTHENTICATED,this.clientId=zb.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _b("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return _b("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ge(e,[{key:"getConfiguration",value:function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Nb(Ab.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ob;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(vu(du().mark((function n(){var r;return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=OC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function uN(e,t){return sN.apply(this,arguments)}function sN(){return sN=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),_b("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,eT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),sN.apply(this,arguments)}function cN(e,t){return lN.apply(this,arguments)}function lN(){return lN=vu(du().mark((function e(t,n){var r,i;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,fN(t);case 3:return r=e.sent,_b("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return EC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return EC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),lN.apply(this,arguments)}function fN(e){return hN.apply(this,arguments)}function hN(){return hN=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return _b("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,uN(t,new YA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),hN.apply(this,arguments)}function dN(e){return pN.apply(this,arguments)}function pN(){return pN=vu(du().mark((function e(t){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return _b("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,cN(t,new eN);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),pN.apply(this,arguments)}function vN(e){return fN(e).then((function(e){return e.persistence}))}function yN(e){return fN(e).then((function(e){return e.localStore}))}function mN(e){return dN(e).then((function(e){return e.remoteStore}))}function gN(e){return dN(e).then((function(e){return e.syncEngine}))}function kN(e){return bN.apply(this,arguments)}function bN(){return bN=vu(du().mark((function e(t){var n,r;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dN(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=tA.bind(null,n.syncEngine),r.onUnlisten=aA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),bN.apply(this,arguments)}function wN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function i(){return du().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nN({next:function(a){t.enqueueAndForget((function(){return UC(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Nb(Ab.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Nb(Ab.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new KC(z_(n.path),a,{includeMetadataChanges:!0,Du:!0});return MC(e,o)},i.next=3,kN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function _N(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function i(){return du().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new nN({next:function(n){t.enqueueAndForget((function(){return UC(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Nb(Ab.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new KC(n,a,{includeMetadataChanges:!0,Du:!0});return MC(e,o)},i.next=3,kN(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var xN=new Map;function EN(e,t,n){if(!n)throw new Nb(Ab.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function SN(e,t,n,r){if(!0===t&&!0===r)throw new Nb(Ab.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function IN(e){if(!Yb.isDocumentKey(e))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function TN(e){if(Yb.isDocumentKey(e))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function CN(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ib()}function AN(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Nb(Ab.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=CN(e);throw new Nb(Ab.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function NN(e,t){if(t<=0)throw new Nb(Ab.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var ON=function(){function e(t){var n;if(ye(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Nb(Ab.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nb(Ab.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,SN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ge(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),DN=function(){function e(t,n,r){ye(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ON({}),this._settingsFrozen=!1,t instanceof qw?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Nb(Ab.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qw(e.options.projectId)}(t))}return ge(e,[{key:"app",get:function(){if(!this._app)throw new Nb(Ab.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Nb(Ab.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ON(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Rb;switch(e.type){case"gapi":var t=e.client;return Tb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Mb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Nb(Ab.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=xN.get(e);t&&(_b("ComponentProvider","Removing Datastore"),xN.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function RN(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=AN(e,DN))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Eb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=gb.MOCK_USER;else{o=Go(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Nb(Ab.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new gb(s)}e._authCredentials=new Pb(new Db(o,u))}}var PN=function(){function e(t,n,r){ye(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ge(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new LN(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),FN=function(){function e(t,n,r){ye(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ge(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),LN=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this,e,r,z_(i)))._path=i,a.type="collection",a}return ge(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new PN(this.firestore,null,new Yb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(FN);function MN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hu(e),EN("collection","path",t),e instanceof DN){var a=$b.fromString.apply($b,[t].concat(r));return TN(a),new LN(e,null,a)}if(!(e instanceof PN||e instanceof LN))throw new Nb(Ab.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($b.fromString.apply($b,[t].concat(r)));return TN(o),new LN(e.firestore,null,o)}function jN(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=hu(e),1===arguments.length&&(t=zb.I()),EN("doc","path",t),e instanceof DN){var a=$b.fromString.apply($b,[t].concat(r));return IN(a),new PN(e,null,new Yb(a))}if(!(e instanceof PN||e instanceof LN))throw new Nb(Ab.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child($b.fromString.apply($b,[t].concat(r)));return IN(o),new PN(e.firestore,e instanceof LN?e.converter:null,new Yb(o))}function UN(e,t){return e=hu(e),t=hu(t),(e instanceof PN||e instanceof LN)&&(t instanceof PN||t instanceof LN)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function VN(e,t){return e=hu(e),t=hu(t),e instanceof FN&&t instanceof FN&&e.firestore===t.firestore&&$_(e._query,t._query)&&e.converter===t.converter}var zN=function(){function e(){var t=this;ye(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new LT(this,"async_queue_retry"),this.Kc=function(){var e=PT();e&&_b("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=PT();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ge(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=PT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new Ob;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=vu(du().mark((function e(){var t=this;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),yw(e.t0)){e.next=12;break}throw e.t0;case 12:_b("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw xb("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=NC.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Ib()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=ht(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ht(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function BN(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ht(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var qN=function(){function e(){ye(this,e),this._progressObserver={},this._taskCompletionResolver=new Ob,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ge(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),KN=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new zN,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ge(n,[{key:"_terminate",value:function(){return this._firestoreClient||WN(this),this._firestoreClient.terminate()}}]),n}(DN);function GN(e){return e._firestoreClient||WN(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function WN(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Bw(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oN(e._authCredentials,e._appCheckCredentials,e._queue,r)}function HN(e,t,n){var r=new Ob;return e.asyncQueue.enqueue(vu(du().mark((function i(){var a;return du().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,uN(e,n);case 3:return i.next=5,cN(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Ab.FAILED_PRECONDITION||e.code===Ab.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function $N(e){return function(e){return e.asyncQueue.enqueue(vu(du().mark((function t(){var n,r;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vN(e);case 2:return n=t.sent,t.next=5,mN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Cb(e);return t.lu.delete(0),qT(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(GN(e=AN(e,KN)))}function QN(e){return function(e){return e.asyncQueue.enqueue(vu(du().mark((function t(){var n,r;return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vN(e);case 2:return n=t.sent,t.next=5,mN(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Cb(t)).lu.add(0),e.next=4,GT(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(GN(e=AN(e,KN)))}function JN(e,t){var n=GN(e=AN(e,KN)),r=new qN;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new rN(e,t)}(function(e,t){if(e instanceof Uint8Array)return tN(e,t);if(e instanceof ArrayBuffer)return tN(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,FT(t));e.asyncQueue.enqueueAndForget(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=JA,t.next=3,gN(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function YN(e,t){return function(e,t){return e.asyncQueue.enqueue(vu(du().mark((function n(){return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Cb(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,yN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(GN(e=AN(e,KN)),t).then((function(t){return t?new FN(e,null,t.query):null}))}function XN(e){if(e._initialized||e._terminated)throw new Nb(Ab.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ZN=function(){function e(){ye(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jb(n)}return ge(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var eO=function(){function e(t){ye(this,e),this._byteString=t}return ge(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Pw.fromBase64String(t))}catch(t){throw new Nb(Ab.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Pw.fromUint8Array(t))}}]),e}(),tO=ge((function e(t){ye(this,e),this._methodName=t})),nO=function(){function e(t,n){if(ye(this,e),!isFinite(t)||t<-90||t>90)throw new Nb(Ab.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Nb(Ab.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ge(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Bb(this._lat,e._lat)||Bb(this._long,e._long)}}]),e}(),rO=/^__.*__$/,iO=function(){function e(t,n,r){ye(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ge(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Tx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ix(e,this.data,t,this.fieldTransforms)}}]),e}(),aO=function(){function e(t,n,r){ye(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ge(e,[{key:"toMutation",value:function(e,t){return new Tx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function oO(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ib()}}var uO=function(){function e(t,n,r,i,a,o){ye(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ge(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return TO(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(oO(this.Zc)&&rO.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),sO=function(){function e(t,n,r){ye(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||FT(t)}return ge(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new uO({Zc:e,methodName:t,ca:n,path:Jb.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function cO(e){var t=e._freezeSettings(),n=FT(e._databaseId);return new sO(e._databaseId,!!t.ignoreUndefinedProperties,n)}function lO(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);xO("Data must be an object, but it was:",o,r);var u,s,c=wO(r,o);if(a.merge)u=new Rw(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ht(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EO(t,d,n);if(!o.contains(p))throw new Nb(Ab.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));CO(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Rw(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new iO(new p_(c),u,s)}var fO=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tO);function hO(e,t,n){return new uO({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var dO=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"_toFieldTransform",value:function(e){return new yx(e.path,new sx)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(tO),pO=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e)).ha=r,i}return ge(n,[{key:"_toFieldTransform",value:function(e){var t=hO(this,e,!0),n=this.ha.map((function(e){return bO(e,t)})),r=new cx(n);return new yx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tO),vO=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e)).ha=r,i}return ge(n,[{key:"_toFieldTransform",value:function(e){var t=hO(this,e,!0),n=this.ha.map((function(e){return bO(e,t)})),r=new fx(n);return new yx(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tO),yO=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e)).la=r,i}return ge(n,[{key:"_toFieldTransform",value:function(e){var t=new dx(e.wt,rx(e.wt,this.la));return new yx(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(tO);function mO(e,t,n,r){var i=e.aa(1,t,n);xO("Data must be an object, but it was:",i,r);var a=[],o=p_.empty();Sw(r,(function(e,r){var u=IO(t,e,n);r=hu(r);var s=i.ia(u);if(r instanceof fO)a.push(u);else{var c=bO(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Rw(a);return new aO(o,u,i.fieldTransforms)}function gO(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[EO(t,r,n)],s=[i];if(a.length%2!=0)throw new Nb(Ab.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(EO(t,a[c])),s.push(a[c+1]);for(var l=[],f=p_.empty(),h=u.length-1;h>=0;--h)if(!CO(l,u[h])){var d=u[h],p=s[h];p=hu(p);var v=o.ia(d);if(p instanceof fO)l.push(d);else{var y=bO(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new Rw(l);return new aO(f,m,o.fieldTransforms)}function kO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return bO(n,e.aa(r?4:3,t))}function bO(e,t){if(_O(e=hu(e)))return xO("Unsupported field value:",t,e),wO(e,t);if(e instanceof tO)return function(e,t){if(!oO(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ht(e);try{for(a.s();!(n=a.n()).done;){var o=bO(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=hu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rx(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gb.fromDate(e);return{timestampValue:lE(t.wt,n)}}if(e instanceof Gb){var r=new Gb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:lE(t.wt,r)}}if(e instanceof nO)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof eO)return{bytesValue:fE(t.wt,e._byteString)};if(e instanceof PN){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:pE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(CN(e)))}(e,t)}function wO(e,t){var n={};return Iw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sw(e,(function(e,r){var i=bO(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function _O(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gb||e instanceof nO||e instanceof eO||e instanceof PN||e instanceof tO)}function xO(e,t,n){if(!_O(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=CN(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function EO(e,t,n){if((t=hu(t))instanceof ZN)return t._internalPath;if("string"==typeof t)return IO(e,t);throw TO("Field path arguments must be of type string or ",e,!1,void 0,n)}var SO=new RegExp("[~\\*/\\[\\]]");function IO(e,t,n){if(t.search(SO)>=0)throw TO("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Qe(ZN,ve(t.split(".")))._internalPath}catch(r){throw TO("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function TO(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Nb(Ab.INVALID_ARGUMENT,u+e+s)}function CO(e,t){return e.some((function(e){return e.isEqual(t)}))}var AO=function(){function e(t,n,r,i,a){ye(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ge(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new PN(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new NO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(OO("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),NO=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"data",value:function(){return At(Ke(n.prototype),"data",this).call(this)}}]),n}(AO);function OO(e,t){return"string"==typeof t?IO(e,t):t instanceof ZN?t._internalPath:t._delegate._internalPath}var DO=function(){function e(t,n){ye(this,e),this.hasPendingWrites=t,this.fromCache=n}return ge(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),RO=function(e){qe(n,e);var t=$e(n);function n(e,r,i,a,o,u){var s;return ye(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ge(n,[{key:"exists",value:function(){return At(Ke(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new PO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(OO("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(AO),PO=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return At(Ke(n.prototype),"data",this).call(this,e)}}]),n}(RO),FO=function(){function e(t,n,r,i){ye(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DO(i.hasPendingWrites,i.fromCache),this.query=r}return ge(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new PO(n._firestore,n._userDataWriter,r.key,r,new DO(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nb(Ab.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new PO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new PO(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DO(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:LO(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function LO(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ib()}}function MO(e,t){return e instanceof RO&&t instanceof RO?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof FO&&t instanceof FO&&e._firestore===t._firestore&&VN(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function jO(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Nb(Ab.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var UO=ge((function e(){ye(this,e)}));function VO(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zO=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ge(n,[{key:"_apply",value:function(e){var t=cO(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){XO(o,a);var s,c=[],l=ht(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(YO(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=YO(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||XO(o,a),u=kO(n,"where",o,"in"===a||"not-in"===a);var h=S_.create(i,a,u);return function(e,t){if(t.ht()){var n=q_(e);if(null!==n&&!n.isEqual(t.field))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=B_(e);null!==r&&ZO(e,t.field,r)}var i=function(e,t){var n,r=ht(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Nb(Ab.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Nb(Ab.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new FN(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(UO);var BO=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ge(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new F_(t,n);return function(e,t){if(null===B_(e)){var n=q_(e);null!==n&&ZO(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new FN(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new U_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(UO);var qO=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return ge(n,[{key:"_apply",value:function(e){return new FN(e.firestore,e.converter,H_(e._query,this.ma,this.ga))}}]),n}(UO);var KO=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ge(n,[{key:"_apply",value:function(e){var t=JO(e,this.type,this.ya,this.pa);return new FN(e.firestore,e.converter,function(e,t){return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(UO);function GO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KO("startAt",t,!0)}function WO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KO("startAfter",t,!1)}var HO=function(e){qe(n,e);var t=$e(n);function n(e,r,i){var a;return ye(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ge(n,[{key:"_apply",value:function(e){var t=JO(e,this.type,this.ya,this.pa);return new FN(e.firestore,e.converter,function(e,t){return new U_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(UO);function $O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HO("endBefore",t,!1)}function QO(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new HO("endAt",t,!0)}function JO(e,t,n,r){if(n[0]=hu(n[0]),n[0]instanceof AO)return function(e,t,n,r,i){if(!r)throw new Nb(Ab.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ht(G_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(n_(t,r.key));else{var c=r.data.field(s.field);if(Uw(c))throw new Nb(Ab.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new P_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=cO(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Nb(Ab.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!K_(e)&&-1!==c.indexOf("/"))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child($b.fromString(c));if(!Yb.isDocumentKey(l))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Yb(l);u.push(n_(t,f))}else{var h=kO(n,r,c);u.push(h)}}return new P_(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function YO(e,t,n){if("string"==typeof(n=hu(n))){if(""===n)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K_(t)&&-1!==n.indexOf("/"))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child($b.fromString(n));if(!Yb.isDocumentKey(r))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return n_(e,new Yb(r))}if(n instanceof PN)return n_(e,n._key);throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(CN(n),"."))}function XO(e,t){if(!Array.isArray(e)||0===e.length)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ZO(e,t,n){if(!n.isEqual(t))throw new Nb(Ab.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var eD={maxAttempts:5},tD=function(){function e(){ye(this,e)}return ge(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qw(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jw(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ib()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Sw(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new nO(Mw(e.latitude),Mw(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Vw(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(zw(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Lw(e);return new Gb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=$b.fromString(e);Tb(jE(n));var r=new qw(n.get(1),n.get(3)),i=new Yb(n.popFirst(5));return r.isEqual(t)||xb("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nD(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rD=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).firestore=e,r}return ge(n,[{key:"convertBytes",value:function(e){return new eO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new PN(this.firestore,null,t)}}]),n}(tD),iD=function(){function e(t,n){ye(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=cO(t)}return ge(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aD(e,this._firestore),i=nD(r.converter,t,n),a=lO(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,gx.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=hu(t))||t instanceof ZN?gO(this._dataReader,"WriteBatch.update",i._key,t,n,o):mO(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,gx.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aD(e,this._firestore);return this._mutations=this._mutations.concat(new Rx(t._key,gx.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Nb(Ab.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aD(e,t){if((e=hu(e)).firestore!==t)throw new Nb(Ab.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oD=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).firestore=e,r}return ge(n,[{key:"convertBytes",value:function(e){return new eO(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new PN(this.firestore,null,t)}}]),n}(tD);function uD(e){e=AN(e,PN);var t=AN(e.firestore,KN),n=GN(t),r=new oD(t);return function(e,t){var n=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function r(){return du().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vu(du().mark((function e(t,n,r){var i,a;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Cb(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Nb(Ab.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=OC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new RO(t,r,e._key,n,new DO(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sD(e){e=AN(e,FN);var t=AN(e.firestore,KN),n=GN(t),r=new oD(t);return function(e,t){var n=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function r(){return du().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=vu(du().mark((function e(t,n,r){var i,a,o,u,s;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lT(t,n,!0);case 3:i=e.sent,a=new YC(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=OC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,yN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new FO(t,r,e,n)}))}function cD(e,t,n){e=AN(e,PN);var r=AN(e.firestore,KN),i=nD(e.converter,t,n);return dD(r,[lO(cO(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,gx.none())])}function lD(e,t,n){e=AN(e,PN);for(var r=AN(e.firestore,KN),i=cO(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dD(r,[("string"==typeof(t=hu(t))||t instanceof ZN?gO(i,"updateDoc",e._key,t,n,o):mO(i,"updateDoc",e._key,t)).toMutation(e._key,gx.exists(!0))])}function fD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=hu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||BN(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(BN(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof PN)l=AN(e.firestore,KN),f=z_(e._key.path),c={next:function(t){n[s]&&n[s](pD(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=AN(e,FN);l=AN(p.firestore,KN),f=p._query;var v=new oD(l);c={next:function(e){n[s]&&n[s](new FO(l,v,p,e))},error:n[s+1],complete:n[s+2]},jO(e._query)}return function(e,t,n,r){var i=new nN(r),a=new KC(t,i,n);return e.asyncQueue.enqueueAndForget(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=MC,t.next=3,kN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=UC,t.next=3,kN(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GN(l),f,h,c)}function hD(e,t){return function(e,t){var n=new nN(t);return e.asyncQueue.enqueueAndForget(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cb(e).Tu.add(t),t.next()},t.next=3,kN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(vu(du().mark((function t(){return du().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Cb(e).Tu.delete(t)},t.next=3,kN(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GN(e=AN(e,KN)),BN(t)?t:{next:t})}function dD(e,t){return function(e,t){var n=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function r(){return du().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=uA,r.next=3,gN(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(GN(e),t)}function pD(e,t,n){var r=n.docs.get(t._key),i=new oD(e);return new RO(e,i,t._key,r,new DO(n.hasPendingWrites,n.fromCache),t.converter)}var vD=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,r))._firestore=e,i}return ge(n,[{key:"get",value:function(e){var t=this,r=aD(e,this._firestore),i=new oD(this._firestore);return At(Ke(n.prototype),"get",this).call(this,e).then((function(e){return new RO(t._firestore,i,r._key,e._document,new DO(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ye(this,e),this._firestore=t,this._transaction=n,this._dataReader=cO(t)}return ge(e,[{key:"get",value:function(e){var t=this,n=aD(e,this._firestore),r=new rD(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ib();var i=e[0];if(i.isFoundDocument())return new AO(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new AO(t._firestore,r,n._key,null,n.converter);throw Ib()}))}},{key:"set",value:function(e,t,n){var r=aD(e,this._firestore),i=nD(r.converter,t,n),a=lO(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aD(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=hu(t))||t instanceof ZN?gO(this._dataReader,"Transaction.update",i._key,t,n,o):mO(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aD(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function yD(e,t,n){e=AN(e,KN);var r=Object.assign(Object.assign({},eD),n);return function(e){if(e.maxAttempts<1)throw new Nb(Ab.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function i(){var a;return du().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return dN(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new aN(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(GN(e),(function(n){return t(new vD(e,n))}),r)}function mD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new pO("arrayUnion",t)}function gD(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vO("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){kb=e}(fs),is(new yu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new KN(i,new Fb(e.getProvider("auth-internal")),new Ub(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),ms(mb,"3.4.12",e),ms(mb,"3.4.12","esm2017")}();function kD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Nb("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bD(){if("undefined"===typeof Uint8Array)throw new Nb("unimplemented","Uint8Arrays are not available in this environment.")}function wD(){if("undefined"==typeof atob)throw new Nb("unimplemented","Blobs are unavailable in Firestore in this environment.")}var _D=function(){function e(t){ye(this,e),this._delegate=t}return ge(e,[{key:"toBase64",value:function(){return wD(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bD(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wD(),new e(eO.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bD(),new e(eO.fromUint8Array(t))}}]),e}();function xD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ht(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var ED=function(){function e(){ye(this,e)}return ge(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){XN(e=AN(e,KN));var n=GN(e),r=e._freezeSettings(),i=new eN;return HN(n,i,new XA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){XN(e=AN(e,KN));var t=GN(e),n=e._freezeSettings(),r=new eN;return HN(t,r,new ZA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Nb(Ab.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ob;return e._queue.enqueueAndForgetEvenWhileRestricted(vu(du().mark((function n(){return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=vu(du().mark((function e(t){var n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dw.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,dw.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(QI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),SD=function(){function e(t,n,r){var i=this;ye(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof qw||(this._appCompat=t)}return ge(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Eb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};RN(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return $N(this._delegate)}},{key:"disableNetwork",value:function(){return QN(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&SN("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ob;return e.asyncQueue.enqueueAndForget(vu(du().mark((function n(){return du().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=gA,n.next=3,gN(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(GN(e=AN(e,KN)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hD(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Nb("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new UD(this,MN(this._delegate,e))}catch(t){throw OD(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new ND(this,jN(this._delegate,e))}catch(t){throw OD(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new LD(this,function(e,t){if(e=AN(e,DN),EN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Nb(Ab.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new FN(e,null,function(e){return new U_($b.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw OD(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return yD(this._delegate,(function(n){return e(new TD(t,n))}))}},{key:"batch",value:function(){var e=this;return GN(this._delegate),new CD(new iD(this._delegate,(function(t){return dD(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return JN(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return YN(this._delegate,e).then((function(e){return e?new LD(t,e):null}))}}]),e}(),ID=function(e){qe(n,e);var t=$e(n);function n(e){var r;return ye(this,n),(r=t.call(this)).firestore=e,r}return ge(n,[{key:"convertBytes",value:function(e){return new _D(new eO(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return ND.forKey(t,this.firestore,null)}}]),n}(tD);var TD=function(){function e(t,n){ye(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ID(t)}return ge(e,[{key:"get",value:function(e){var t=this,n=VD(e);return this._delegate.get(n).then((function(e){return new PD(t._firestore,new RO(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=VD(e);return n?(kD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VD(e);return this._delegate.delete(t),this}}]),e}(),CD=function(){function e(t){ye(this,e),this._delegate=t}return ge(e,[{key:"set",value:function(e,t,n){var r=VD(e);return n?(kD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=VD(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=VD(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),AD=function(){function e(t,n,r){ye(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ge(e,[{key:"fromFirestore",value:function(e,t){var n=new PO(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new FD(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ID(t),n),i.set(n,a)),a}}]),e}();AD.INSTANCES=new WeakMap;var ND=function(){function e(t,n){ye(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ID(t)}return ge(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new UD(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new UD(this.firestore,MN(this._delegate,e))}catch(t){throw OD(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=hu(e))instanceof PN&&UN(this._delegate,e)}},{key:"set",value:function(e,t){t=kD("DocumentReference.set",t);try{return t?cD(this._delegate,e,t):cD(this._delegate,e)}catch(n){throw OD(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lD(this._delegate,e):lD.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw OD(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dD(AN(e.firestore,KN),[new Rx(e._key,gx.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DD(n),a=RD(n,(function(t){return new PD(e.firestore,new RO(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fD(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AN(e,PN);var t=AN(e.firestore,KN);return wN(GN(t),e._key,{source:"server"}).then((function(n){return pD(t,e,n)}))}(this._delegate):function(e){e=AN(e,PN);var t=AN(e.firestore,KN);return wN(GN(t),e._key).then((function(n){return pD(t,e,n)}))}(this._delegate),t.then((function(e){return new PD(n.firestore,new RO(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(AD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Nb("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new PN(n._delegate,r,new Yb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new PN(n._delegate,r,t))}}]),e}();function OD(e,t,n){return e.message=e.message.replace(t,n),e}function DD(e){var t,n=ht(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!xD(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function RD(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=xD(e[0])?e[0]:xD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var PD=function(){function e(t,n){ye(this,e),this._firestore=t,this._delegate=n}return ge(e,[{key:"ref",get:function(){return new ND(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return MO(this._delegate,e._delegate)}}]),e}(),FD=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ib()}(void 0!==t),t}}]),n}(PD),LD=function(){function e(t,n){ye(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ID(t)}return ge(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,VO(this._delegate,function(e,t,n){var r=t,i=OO("where",e);return new zO(i,r,n)}(t,n,r)))}catch(i){throw OD(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,VO(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=OO("orderBy",e);return new BO(n,t)}(t,n)))}catch(r){throw OD(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,VO(this._delegate,function(e){return NN("limit",e),new qO("limit",e,"F")}(t)))}catch(n){throw OD(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,VO(this._delegate,function(e){return NN("limitToLast",e),new qO("limitToLast",e,"L")}(t)))}catch(n){throw OD(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,VO(this._delegate,GO.apply(void 0,arguments)))}catch(t){throw OD(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,VO(this._delegate,WO.apply(void 0,arguments)))}catch(t){throw OD(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,VO(this._delegate,$O.apply(void 0,arguments)))}catch(t){throw OD(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,VO(this._delegate,QO.apply(void 0,arguments)))}catch(t){throw OD(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return VN(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=AN(e,FN);var t=AN(e.firestore,KN),n=GN(t),r=new oD(t);return _N(n,e._query,{source:"server"}).then((function(n){return new FO(t,r,e,n)}))}(this._delegate):function(e){e=AN(e,FN);var t=AN(e.firestore,KN),n=GN(t),r=new oD(t);return jO(e._query),_N(n,e._query).then((function(n){return new FO(t,r,e,n)}))}(this._delegate),t.then((function(e){return new jD(n.firestore,new FO(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=DD(n),a=RD(n,(function(t){return new jD(e.firestore,new FO(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fD(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(AD.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),MD=function(){function e(t,n){ye(this,e),this._firestore=t,this._delegate=n}return ge(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new FD(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),jD=function(){function e(t,n){ye(this,e),this._firestore=t,this._delegate=n}return ge(e,[{key:"query",get:function(){return new LD(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new FD(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new MD(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new FD(n._firestore,r))}))}},{key:"isEqual",value:function(e){return MO(this._delegate,e._delegate)}}]),e}(),UD=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ge(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new ND(this.firestore,e):null}},{key:"doc",value:function(e){try{return new ND(this.firestore,void 0===e?jN(this._delegate):jN(this._delegate,e))}catch(t){throw OD(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=AN(e.firestore,KN),r=jN(e),i=nD(e.converter,t);return dD(n,[lO(cO(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,gx.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new ND(t.firestore,e)}))}},{key:"isEqual",value:function(e){return UN(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(AD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(LD);function VD(e){return AN(e,PN)}var zD=function(){function e(){ye(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=Qe(ZN,n)}return ge(e,[{key:"isEqual",value:function(e){return(e=hu(e))instanceof ZN&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Jb.keyField().canonicalString())}}]),e}(),BD=function(){function e(t){ye(this,e),this._delegate=t}return ge(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new dO("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new fO("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mD.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gD.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new yO("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qD={Firestore:SD,GeoPoint:nO,Timestamp:Gb,Blob:_D,Transaction:TD,WriteBatch:CD,DocumentReference:ND,DocumentSnapshot:PD,Query:LD,QueryDocumentSnapshot:FD,QuerySnapshot:jD,CollectionReference:UD,FieldPath:zD,FieldValue:BD,setLogLevel:function(e){!function(e){bb.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new yu("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qD)))}(e,(function(e,t){return new SD(e,t,new ED)})),e.registerVersion("@firebase/firestore-compat","0.1.21")}(zs);var KD="firebasestorage.googleapis.com",GD=function(e){qe(n,e);var t=$e(n);function n(e,r){var i;return ye(this,n),(i=t.call(this,WD(e),"Firebase Storage: ".concat(r," (").concat(WD(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(ze(i),n.prototype),i}return ge(n,[{key:"_codeEquals",value:function(e){return WD(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Zo);function WD(e){return"storage/"+e}function HD(){return new GD("unknown","An unknown error occurred, please check the error payload for server response.")}function $D(){return new GD("canceled","User canceled the upload/download.")}function QD(){return new GD("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function JD(e){return new GD("invalid-argument",e)}function YD(){return new GD("app-deleted","The Firebase app was deleted.")}function XD(e){return new GD("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ZD(e,t){return new GD("invalid-format","String does not match format '"+e+"': "+t)}function eR(e){throw new GD("internal-error","Internal error: "+e)}var tR,nR=function(){function e(t,n){ye(this,e),this.bucket=t,this.path_=n}return ge(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new GD("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===KD?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new GD("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),rR=function(){function e(t){ye(this,e),this.promise_=Promise.reject(t)}return ge(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function iR(e){return"string"===typeof e||e instanceof String}function aR(e){return oR()&&e instanceof Blob}function oR(){return"undefined"!==typeof Blob}function uR(e,t,n,r){if(r<t)throw JD("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw JD("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function sR(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function cR(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(tR||(tR={}));var lR=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var h=this;ye(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){h.resolve_=e,h.reject_=t,h.start_()}))}return ge(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=HD();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?YD():$D());else i(new GD("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new fR(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){a&&clearTimeout(a)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new fR(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===tR.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new fR(o,r))}else{var u=r.getErrorCode()===tR.ABORT;t(!1,new fR(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),fR=ge((function e(t,n,r){ye(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function hR(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dR(){for(var e=hR(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(oR())return new Blob(n);throw new GD("unsupported-environment","This browser doesn't seem to support creating Blobs")}var pR={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},vR=ge((function e(t,n){ye(this,e),this.data=t,this.contentType=n||null}));function yR(e,t){switch(e){case pR.RAW:return new vR(mR(t));case pR.BASE64:case pR.BASE64URL:return new vR(gR(e,t));case pR.DATA_URL:return new vR(function(e){var t=new kR(e);return t.base64?gR(pR.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw ZD(pR.DATA_URL,"Malformed data URL.")}return mR(t)}(t.rest)}(t),new kR(t).contentType)}throw HD()}function mR(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function gR(e,t){switch(e){case pR.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw ZD(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case pR.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw ZD(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw ZD(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var kR=ge((function e(t){ye(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw ZD(pR.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var bR=function(){function e(t,n){ye(this,e);var r=0,i="";aR(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ge(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(aR(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(oR()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(dR.apply(null,i))}var a=n.map((function(e){return iR(e)?yR(pR.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function wR(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function _R(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function xR(e,t){return t}var ER=ge((function e(t,n,r,i){ye(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||xR})),SR=null;function IR(){if(SR)return SR;var e=[];e.push(new ER("bucket")),e.push(new ER("generation")),e.push(new ER("metageneration")),e.push(new ER("name","fullPath",!0));var t=new ER("name");t.xform=function(e,t){return function(e){return!iR(e)||e.length<2?e:_R(e)}(t)},e.push(t);var n=new ER("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ER("timeCreated")),e.push(new ER("updated")),e.push(new ER("md5Hash",null,!0)),e.push(new ER("cacheControl",null,!0)),e.push(new ER("contentDisposition",null,!0)),e.push(new ER("contentEncoding",null,!0)),e.push(new ER("contentLanguage",null,!0)),e.push(new ER("contentType",null,!0)),e.push(new ER("metadata","customMetadata",!0)),SR=e}function TR(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new nR(n,r);return t._makeStorageReference(i)}})}(r,e),r}function CR(e,t,n){var r=wR(t);return null===r?null:TR(e,r,n)}function AR(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function NR(e,t,n){var r=wR(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=ht(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new nR(t,o));r.prefixes.push(u)}}catch(h){a.e(h)}finally{a.f()}}if(n.items){var s,c=ht(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new nR(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var OR=ge((function e(t,n,r,i){ye(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function DR(e){if(!e)throw HD()}function RR(e,t){return function(n,r){var i=CR(e,r,t);return DR(null!==i),i}}function PR(e,t){return function(n,r){var i=CR(e,r,t);return DR(null!==i),function(e,t,n,r){var i=wR(t);if(null===i)return null;if(!iR(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return sR("/b/"+o(i)+"/o/"+o(a),n,r)+cR({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function FR(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new GD("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new GD("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new GD("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new GD("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function LR(e){var t=FR(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new GD("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function MR(e,t,n){var r=sR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new OR(r,"GET",RR(e,n),i);return a.errorHandler=LR(t),a}function jR(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=sR(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new OR(o,"GET",function(e,t){return function(n,r){var i=NR(e,t,r);return DR(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=FR(t),s}function UR(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function VR(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=UR(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+AR(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=bR.getBlob(c,r,l);if(null===f)throw QD();var h={name:s.fullPath},d=sR(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new OR(d,"POST",RR(e,n),p);return v.urlParams=h,v.headers=o,v.body=f.uploadData(),v.errorHandler=FR(t),v}var zR=ge((function e(t,n,r,i){ye(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function BR(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){DR(!1)}return DR(!!n&&-1!==(t||["active"]).indexOf(n)),n}var qR=262144;function KR(e,t,n,r,i,a,o,u){var s=new zR(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new GD("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw QD();var v=t.maxUploadRetryTime,y=new OR(n,"POST",(function(e,n){var i,o=BR(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?RR(t,a)(e,n):null,new zR(u,c,"final"===o,i)}),v);return y.headers=d,y.body=p.uploadData(),y.progressCallback=u||null,y.errorHandler=FR(e),y}var GR={STATE_CHANGED:"state_changed"},WR={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HR(e){switch(e){case"running":case"pausing":case"canceling":return WR.RUNNING;case"paused":return WR.PAUSED;case"success":return WR.SUCCESS;case"canceled":return WR.CANCELED;default:return WR.ERROR}}var $R=ge((function e(t,n,r){ye(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function QR(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var JR=function(){function e(){var t=this;ye(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tR.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=tR.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=tR.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ge(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw eR("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw eR("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw eR("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw eR("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw eR("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),YR=function(e){qe(n,e);var t=$e(n);function n(){return ye(this,n),t.apply(this,arguments)}return ge(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(JR);function XR(){return new YR}var ZR=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ye(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=IR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ge(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=c(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=UR(t,r,i),u={name:o.fullPath},s=sR(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=AR(o,n),f=e.maxUploadRetryTime,h=new OR(s,"POST",(function(e){var t;BR(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){DR(!1)}return DR(iR(t)),t}),f);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=FR(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,XR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new OR(n,"POST",(function(e){var t=BR(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){DR(!1)}n||DR(!1);var i=Number(n);return DR(!isNaN(i)),new zR(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=FR(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,XR,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=qR*this._chunkMultiplier,n=new zR(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=KR(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,XR,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){qR*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=MR(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,XR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=VR(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,XR,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$D(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=HR(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new $R(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(HR(this._state)){case WR.SUCCESS:QR(this._resolve.bind(null,this.snapshot))();break;case WR.CANCELED:case WR.ERROR:QR(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(HR(this._state)){case WR.RUNNING:case WR.PAUSED:e.next&&QR(e.next.bind(e,this.snapshot))();break;case WR.SUCCESS:e.complete&&QR(e.complete.bind(e))();break;default:e.error&&QR(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),eP=function(){function e(t,n){ye(this,e),this._service=t,this._location=n instanceof nR?n:nR.makeFromUrl(n,t.host)}return ge(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new nR(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return _R(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new nR(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw XD(e)}}]),e}();function tP(e,t,n){e._throwIfRoot("uploadBytes");var r=VR(e.storage,e._location,IR(),new bR(t,!0),n);return e.storage.makeRequestWithTokens(r,XR).then((function(t){return{metadata:t,ref:e}}))}function nP(e,t,n){return rP.apply(this,arguments)}function rP(){return(rP=vu(du().mark((function e(t,n,r){var i,a,o,u;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,iP(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,ve(u.prefixes)),(a=n.items).push.apply(a,ve(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,nP(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iP(e,t){null!=t&&"number"===typeof t.maxResults&&uR("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=jR(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,XR)}function aP(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=sR(t.fullServerUrl(),e.host,e._protocol),a=AR(n,r),o=e.maxOperationRetryTime,u=new OR(i,"PATCH",RR(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=LR(t),u}(e.storage,e._location,t,IR());return e.storage.makeRequestWithTokens(n,XR)}function oP(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=sR(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new OR(r,"GET",PR(e,n),i);return a.errorHandler=LR(t),a}(e.storage,e._location,IR());return e.storage.makeRequestWithTokens(t,XR).then((function(e){if(null===e)throw new GD("no-download-url","The given file does not have any download URLs.");return e}))}function uP(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=sR(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new OR(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=LR(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,XR)}function sP(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new nR(e._location.bucket,n);return new eP(e.storage,r)}function cP(e,t){if(e instanceof dP){var n=e;if(null==n._bucket)throw new GD("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new eP(n,n._bucket);return null!=t?cP(r,t):r}return void 0!==t?sP(e,t):e}function lP(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof dP)return new eP(e,t);throw JD("To use ref(service, url), the first argument must be a Storage instance.")}return cP(e,t)}function fP(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:nR.makeFromBucketSpec(n,e)}function hP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Go(i,e.app.options.projectId))}var dP=function(){function e(t,n,r,i,a){ye(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=KD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?nR.makeFromBucketSpec(i,this._host):fP(this._host,this.app.options)}return ge(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=nR.makeFromBucketSpec(this._url,e):this._bucket=fP(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){uR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){uR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=vu(du().mark((function e(){var t,n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=vu(du().mark((function e(){var t,n;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new eP(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new rR(YD());var a=function(e,t,n,r,i,a){var o=cR(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new lR(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=vu(du().mark((function e(t,n){var r,i,a,o;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=c(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),pP="@firebase/storage",vP="0.9.9",yP="storage";function mP(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ZR(e,new bR(t),n)}(e=hu(e),t,n)}function gP(e){return function(e){e._throwIfRoot("getMetadata");var t=MR(e.storage,e._location,IR());return e.storage.makeRequestWithTokens(t,XR)}(e=hu(e))}function kP(e){return function(e){var t={prefixes:[],items:[]};return nP(e,t).then((function(){return t}))}(e=hu(e))}function bP(e){return oP(e=hu(e))}function wP(e,t){return lP(e=hu(e),t)}function _P(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};hP(e,t,n,r)}function xP(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new dP(r,i,a,n,fs)}is(new yu(yP,xP,"PUBLIC").setMultipleInstances(!0)),ms(pP,vP,""),ms(pP,vP,"esm2017");var EP=function(){function e(t,n,r){ye(this,e),this._delegate=t,this.task=n,this.ref=r}return ge(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),SP=function(){function e(t,n){ye(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return ge(e,[{key:"snapshot",get:function(){return new EP(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new EP(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new EP(e,i,i._ref))}:{next:t.next?function(e){return t.next(new EP(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),IP=function(){function e(t,n){ye(this,e),this._delegate=t,this._service=n}return ge(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new TP(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new TP(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),TP=function(){function e(t,n){ye(this,e),this._delegate=t,this.storage=n}return ge(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return sP(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new SP(mP(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pR.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=yR(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new SP(new ZR(this._delegate,new bR(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return kP(this._delegate).then((function(t){return new IP(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return iP(e=hu(e),t)}(this._delegate,e||void 0).then((function(e){return new IP(e,t.storage)}))}},{key:"getMetadata",value:function(){return gP(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return aP(e=hu(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return bP(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),uP(hu(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw XD(e)}}]),e}(),CP=function(){function e(t,n){ye(this,e),this.app=t,this._delegate=n}return ge(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(AP(e))throw JD("ref() expected a child path but got a URL, use refFromURL instead.");return new TP(wP(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!AP(e))throw JD("refFromURL() expected a full URL but got a child path, use ref() instead.");try{nR.makeFromUrl(e,this._delegate.host)}catch(t){throw JD("refFromUrl() expected a valid full URL but got an invalid one.")}return new TP(wP(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_P(this._delegate,e,t,n)}}]),e}();function AP(e){return/^[A-Za-z]+:\/\//.test(e)}function NP(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new CP(r,i)}!function(e){var t={TaskState:WR,TaskEvent:GR,StringFormat:pR,Storage:CP,Reference:TP};e.INTERNAL.registerComponent(new yu("storage-compat",NP,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(zs);var OP=zs.initializeApp({apiKey:"AIzaSyCKruM_WOf9RrGSseJUEVQ8oIK3ARz8r98",authDomain:"fir-auth-c6b93.firebaseapp.com",projectId:"fir-auth-c6b93",storageBucket:"fir-auth-c6b93.appspot.com",messagingSenderId:"949447297736",appId:"1:949447297736:web:12f402cd7f2ca37434f3fd"}),DP=OP.auth(),RP=OP.firestore(),PP=OP.storage();var FP=function(){var e=c(r.useState(""),2),t=e[0],n=e[1],i=U(),a=an().shape({email:Ft().email("Please provide a valid Email").required("Email is required"),password:Ft().min(8,"Minimum 8 characters are required").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character").required("Password is required")});return(0,W.jsxs)("div",{className:"signinform",children:[(0,W.jsx)("div",{className:"logo",children:(0,W.jsx)(ne,{size:40,color:"#6603FC",className:"logo-flex"})}),(0,W.jsxs)("div",{className:"form",style:{marginTop:"3em"},children:[(0,W.jsxs)("div",{className:"form-title",children:[(0,W.jsx)("h1",{children:"Login"}),(0,W.jsx)("p",{className:"dark-sub",children:"Login to recover your account"}),t&&(0,W.jsx)("div",{className:"error",children:"Please check your password and username."})]}),(0,W.jsx)(Io,{initialValues:{email:"",password:""},validationSchema:a,onSubmit:function(e){DP.signInWithEmailAndPassword(e.email,e.password).then((function(){alert("Login Successful"),n("")})).catch((function(e){n(e.message)}))},children:function(e){var t=e.handleSubmit;return(0,W.jsxs)("form",{children:[(0,W.jsxs)("div",{className:"input",children:[(0,W.jsx)("div",{className:"label",children:"Enter you Email-id *"}),(0,W.jsx)(Oo,{type:"email",name:"email",placeholder:"",className:"inputs"}),(0,W.jsx)(Mo,{component:"div",name:"email",className:"invalid-feedback"}),(0,W.jsx)("div",{className:"label",children:"Enter Password *"}),(0,W.jsx)(Oo,{type:"password",name:"password",placeholder:"",className:"inputs"}),(0,W.jsx)(Mo,{component:"div",name:"password",className:"invalid-feedback"})]}),(0,W.jsx)("div",{className:"checkbox",children:(0,W.jsx)("p",{className:"p-check",style:{color:"#6603FC",fontWeight:"600",fontSize:"1.1rem"},onClick:function(){i("/login/resetpassword")},children:"Forgot your Password ?"})}),(0,W.jsx)("div",{className:"buttons",children:(0,W.jsx)("button",{className:"btn btn-signin",type:"submit",onClick:t,children:"Login"})})]})}}),(0,W.jsxs)("div",{className:"form-footer",children:["Don't have an account? ",(0,W.jsx)(se,{to:"/signup",className:"form-link",children:"Sign-up"})]})]})]})},LP=n.p+"static/media/login.9e47e8abd6f465384c27.png";var MP=function(){return(0,W.jsxs)("div",{className:"signinpic",children:[(0,W.jsx)("img",{src:LP,alt:"Login"}),(0,W.jsx)("div",{className:"blur"}),(0,W.jsx)("div",{className:"blur-2"})]})};var jP=function(){return(0,W.jsxs)("div",{className:"signin-grid",children:[(0,W.jsx)(FP,{}),(0,W.jsx)(MP,{})]})};var UP=function(e){e.user;var t=c((0,r.useState)(""),2),n=t[0],i=t[1];DP.onAuthStateChanged((function(e){e||RP.collection("UserDetails").doc(e.uid).set({EmailId:e.email,Name:"Not given",Age:"Not given",Profession:"Unknown",imgUrl:"https://cdn-icons-png.flaticon.com/512/149/149071.png"}).then((function(){alert("User ".concat(e.email," created successfully"))}))}));var a,o,u=an().shape({email:Ft().email("Please provide a valid Email").required("Email is required"),password:Ft().min(8,"Minimum 8 characters are required").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"Must Contain 8 Characters, One Uppercase, One Lowercase, One Number and One Special Case Character").required("Password is required"),confirmPassword:Ft().oneOf([(a="password",new ut(a,o)),null],"Passwords must match").required("Confirm Password is required")});return(0,W.jsxs)("div",{className:"signinform",children:[(0,W.jsx)("div",{className:"logo",children:(0,W.jsx)(re,{size:40,color:"#6603FC",className:"logo-flex"})}),(0,W.jsxs)("div",{className:"form",children:[(0,W.jsxs)("div",{className:"form-title",children:[(0,W.jsx)("h1",{children:"Sign up"}),(0,W.jsx)("p",{className:"dark-sub",children:"Sign-in to see the user details"})]}),(0,W.jsx)(Io,{initialValues:{email:"",password:""},validationSchema:u,onSubmit:function(e){DP.createUserWithEmailAndPassword(e.email,e.password).then((function(e){i("")})).catch((function(e){i(e.message)}))},validator:function(){return{}},children:function(e){var t=e.handleSubmit,r=e.isSubmitting;return(0,W.jsxs)("form",{children:[(0,W.jsxs)("div",{className:"input",children:[n&&(0,W.jsx)("div",{className:"invalid-feedback",children:n}),(0,W.jsx)("div",{className:"label",children:"Enter you Email-id *"}),(0,W.jsx)(Oo,{type:"email",name:"email",placeholder:"",className:"inputs"}),(0,W.jsx)(Mo,{component:"div",name:"email",className:"invalid-feedback"}),(0,W.jsx)("div",{className:"label",children:"Enter Password *"}),(0,W.jsx)(Oo,{type:"password",name:"password",placeholder:"",className:"inputs"}),(0,W.jsx)(Mo,{component:"div",name:"password",className:"invalid-feedback"}),(0,W.jsx)("div",{className:"label",children:"Confirm Password *"}),(0,W.jsx)(Oo,{type:"password",name:"confirmPassword",placeholder:"",className:"inputs"}),(0,W.jsx)(Mo,{component:"div",name:"confirmPassword",className:"invalid-feedback"})]}),(0,W.jsxs)("div",{className:"checkbox",children:[(0,W.jsx)("div",{className:"check-psuedo",children:(0,W.jsx)("input",{type:"checkbox"})})," ",(0,W.jsx)("p",{className:"p-check",children:"Remember me"})]}),(0,W.jsx)("div",{className:"buttons",children:(0,W.jsx)("button",{className:"btn btn-signin",type:"submit",disabled:r,onClick:t,children:"Sign up"})})]})}}),(0,W.jsxs)("div",{className:"form-footer",children:["Already have an account? ",(0,W.jsx)(se,{to:"/login",className:"form-link",children:"Login"})]})]})]})},VP=n.p+"static/media/signin.91c8004679ab8f154f1f.png";var zP=function(){return(0,W.jsxs)("div",{className:"signinpic",children:[(0,W.jsx)("img",{src:VP,alt:"Signin",className:"glass"}),(0,W.jsx)("div",{className:"blur"})]})};var BP=function(e){var t=e.user;return(0,W.jsxs)("div",{className:"signin-grid",children:[(0,W.jsx)(UP,{user:t}),(0,W.jsx)(zP,{})]})};function qP(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function KP(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}var GP=function(){return GP=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},GP.apply(this,arguments)},WP=function(e){return{loading:void 0===e||null===e,value:e}},HP=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return GP(GP({},e),{error:t.error,loading:!1,value:void 0});case"reset":return WP(t.defaultValue);case"value":return GP(GP({},e),{error:void 0,loading:!1,value:t.value});default:return e}}),WP(t)),i=n[0],a=n[1],o=function(){var t=e?e():void 0;a({type:"reset",defaultValue:t})},u=function(e){a({type:"error",error:e})},s=function(e){a({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:i.error,loading:i.loading,reset:o,setError:u,setValue:s,value:i.value}}),[i.error,i.loading,o,u,s,i.value])},$P=function(e,t){var n=HP((function(){return e.currentUser})),i=n.error,a=n.loading,o=n.setError,u=n.setValue,s=n.value;(0,r.useEffect)((function(){var n=function(e,t,n,r){return hu(e).onAuthStateChanged(t,n,r)}(e,(function(e){return qP(void 0,void 0,void 0,(function(){var n;return KP(this,(function(r){switch(r.label){case 0:if(!(null===t||void 0===t?void 0:t.onUserChanged))return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,t.onUserChanged(e)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),o(n),[3,4];case 4:return u(e),[2]}}))}))}),o);return function(){n()}}),[e]);var c=[s,a,i];return(0,r.useMemo)((function(){return c}),c)};var QP=function(e){var t=e.Data;return(0,W.jsxs)("div",{className:"card-grid",children:[(0,W.jsx)("div",{className:"card-img",children:(0,W.jsx)("img",{alt:"Profile pic",src:t?t.imgUrl:le,className:"img-card"})}),(0,W.jsxs)("div",{className:"card-text",children:["You are currently logged in as ",(0,W.jsx)("span",{className:"user-name",children:null===t||void 0===t?void 0:t.EmailId})]}),(0,W.jsxs)("div",{className:"card-info",children:[(0,W.jsxs)("p",{children:[" Name: ",(0,W.jsx)("span",{className:"card-profession",children:null===t||void 0===t?void 0:t.Name})]}),(0,W.jsxs)("p",{children:["Age: ",(0,W.jsx)("span",{className:"card-profession",children:null===t||void 0===t?void 0:t.Age})]}),(0,W.jsxs)("p",{children:["Profession: ",(0,W.jsx)("span",{className:"card-profession",children:null===t||void 0===t?void 0:t.Profession})]})]})]})};var JP=function(e){var t=e.Data,n=c((0,r.useState)(t?t.Profession:""),2),i=n[0],a=n[1],o=c((0,r.useState)(t?t.Age:""),2),u=o[0],s=o[1],l=c((0,r.useState)(t?t.Name:""),2),f=l[0],h=l[1],d=c((0,r.useState)(t?t.imgUrl:"https://cdn-icons-png.flaticon.com/512/149/149071.png"),2),p=d[0],v=d[1],y=c((0,r.useState)(t?t.imgUrl:"https://cdn-icons-png.flaticon.com/512/149/149071.png"),2),m=y[0],g=y[1],k=function(){var e=vu(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!==p&&(t=wP(PP,"".concat(DP.currentUser.uid,"/profile.png")),(n=t,r=p,a=void 0,tP(n=hu(n),r,a)).then((function(){console.log("image uploaded"),kP(wP(PP,"".concat(DP.currentUser.uid,"/"))).then((function(e){bP(e.items[0]).then((function(e){var t=e;RP.collection("UserDetails").doc(DP.currentUser.uid).update({Profession:i,Age:u,Name:f,imgUrl:t}).then((function(){alert("Updated Successfully")}))})).catch((function(e){alert("Something went wrong while uploading image")}))}))})));case 1:case"end":return e.stop()}var n,r,a}),e)})));return function(){return e.apply(this,arguments)}}();return(0,W.jsxs)("div",{className:"form",style:{margin:"0em",display:"grid",placeItems:"center",marginTop:"3em"},children:[(0,W.jsxs)("div",{className:"form-title",style:{textAlign:"center",margin:0,padding:0},children:[(0,W.jsx)("h1",{children:"Update"}),(0,W.jsx)("p",{className:"dark-sub",children:"Update your account info"})]}),(0,W.jsxs)("div",{className:"input",children:[(0,W.jsx)("div",{className:"label",children:"Enter you Username"}),(0,W.jsx)("input",{type:"text",placeholder:"",className:"inputs",value:f,onChange:function(e){h(e.target.value)}}),(0,W.jsx)("div",{className:"label",children:"Enter Age"}),(0,W.jsx)("input",{type:"text",placeholder:"",className:"inputs",value:u,onChange:function(e){s(e.target.value)}}),(0,W.jsx)("div",{className:"label",children:"Enter your Profession"}),(0,W.jsx)("input",{type:"text",placeholder:"",className:"inputs",value:i,onChange:function(e){a(e.target.value)}}),(0,W.jsx)("div",{className:"label",children:"Add an Image"}),(0,W.jsx)("input",{type:"file",className:"inputs",accept:"image/*",name:"image",id:"file",onChange:function(e){var t=e.target.files[0],n=URL.createObjectURL(t);v(t),g(n)}}),(0,W.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,W.jsx)("img",{src:m,alt:"Preview",height:80,width:80})})]}),(0,W.jsx)("div",{className:"buttons",children:(0,W.jsx)("button",{className:"btn btn-signin",style:{textAlign:"center",margin:0,padding:0,marginTop:"1em"},onClick:k,children:"Update"})})]})};var YP=function(){var e=c(r.useState(!1),2),t=e[0],n=e[1],i=c(r.useState(null),2),a=i[0],o=i[1];return(0,r.useEffect)((function(){var e=function(){var e=vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:RP.collection("UserDetails").doc(DP.currentUser.uid).onSnapshot((function(e){console.log(e.data()),o(e.data())}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)("div",{className:"details",children:[(0,W.jsx)("div",{className:"blur"}),(0,W.jsx)("h3",{className:"user-details",children:"User details"}),(0,W.jsx)(QP,{Data:a}),(0,W.jsxs)("div",{className:"card-footer",children:[(0,W.jsx)("button",{className:"btn",onClick:function(){window.scrollTo(0,280),n(!t)},children:"Update"}),(0,W.jsx)("button",{className:"btn",onClick:function(){DP.signOut().then((function(){alert("signed out successful")})).catch((function(e){alert("signed out failed")}))},children:"Log-out"})]})]}),t?(0,W.jsx)(JP,{Data:a}):null]})},XP=n.p+"static/media/error.d54e0db65d9db4cad281.png";var ZP=function(){return(0,W.jsxs)("div",{style:{display:"grid",placeItems:"center",padding:"2.2em 1.2em 1.2em 1.2em"},children:[(0,W.jsx)("span",{style:{fontSize:"1.5em",fontWeight:"600",marginBottom:"1em"},children:"404, Page not found!"}),(0,W.jsx)(se,{to:"/",children:(0,W.jsx)("button",{className:"btn",children:"Go back"})}),(0,W.jsx)("img",{src:XP,alt:"error",style:{marginTop:"3em"}})]})};var eF=function(){var e=c((0,r.useState)(""),2),t=e[0],n=e[1];return(0,W.jsx)("div",{style:{display:"grid",placeItems:"center",marginTop:"7em"},children:(0,W.jsxs)("div",{style:{border:"3px solid gray",borderRadius:"10px",padding:"1em",display:"flex",flexDirection:"column",ailgnItems:"center"},children:[(0,W.jsx)("div",{className:"label",children:"Enter you Registered Email-id "}),(0,W.jsx)("input",{type:"email",className:"inputs",autoComplete:"off",autoFocus:!0,value:t,onChange:function(e){n(e.target.value)}}),(0,W.jsx)("button",{className:"btn",onClick:vu(du().mark((function e(){return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xf(DP,t).then((function(){alert("Password reset link has been sent to your email. Please check you spam folder if you do not see it in your inbox.")})).catch((function(e){alert(e.message)}));case 2:case"end":return e.stop()}}),e)}))),children:"Send"}),(0,W.jsx)(se,{to:"/login",children:(0,W.jsx)("button",{className:"btn",children:"Login"})})]})})};var tF=function(){var e=c($P(DP),1)[0];return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(K,{children:[(0,W.jsx)(B,{path:"/",element:(0,W.jsx)(de,{user:e})}),(0,W.jsx)(B,{path:"/signup",element:e?(0,W.jsx)(YP,{}):(0,W.jsx)(BP,{user:e})}),(0,W.jsx)(B,{path:"/login",element:e?(0,W.jsx)(YP,{}):(0,W.jsx)(jP,{})}),(0,W.jsx)(B,{path:"/login/resetpassword",element:(0,W.jsx)(eF,{})}),(0,W.jsx)(B,{path:"*",element:(0,W.jsx)(ZP,{})})]}),(0,W.jsx)(H,{})]})};i.createRoot(document.getElementById("root")).render((0,W.jsx)(ue,{basename:"/firebase-auth",children:(0,W.jsx)(tF,{})}))}()}();
//# sourceMappingURL=main.f1525c08.js.map